<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quinoa: /tmp/q/quinoa/src/LoadBalance/UnsMeshMap.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_95fc3c41be4c0cbce8d98b405b0f786e.html">LoadBalance</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">UnsMeshMap.C File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Advanced Charm++ array creation with a map using an unstructured grid.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br />
<code>#include &quot;<a class="el" href="charm_8h_source.html">NoWarning/charm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_exception_8h_source.html">Exception.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_uns_mesh_map_8h_source.html">UnsMeshMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unsmeshmap_8def_8h_source.html">NoWarning/unsmeshmap.def.h</a>&quot;</code><br />
</div>
<p><a href="_uns_mesh_map_8_c_source.html">Go to the source code of this file.</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Advanced Charm++ array creation with a map using an unstructured grid. </p>
<dl class="section author"><dt>Author</dt><dd>J. Bakosi </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Wed 04 May 2016 08:43:28 AM MDT </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2012-2015, Jozsef Bakosi, 2016, Los Alamos National Security, LLC.</dd></dl>
<p>Advanced Charm++ array creation refers to various ways arrays can be created with the Charm++ runtime system. See <a href="http://charm.cs.illinois.edu/manuals/html/charm++/manual.html,">http://charm.cs.illinois.edu/manuals/html/charm++/manual.html,</a> Sec. Advanced Array Creation. This class does a distribution that is based on which portion of a distributed sparse matrix resulting from discretization on an unstructured grid residing on a PE should hold a given chare array element. (The one that owns most on-PE rows to minimize off-PE communication.)</p>
<p>Note that to help with performance, it is not advised to do heavy computations in the overridden member functions, procNum() and populateInitial(), since they can be potentially called many times. See also this note on the inner workings of the Charm++ runtime system regarding map objects and array element creation from long-time Charm++ developer, Eric Bohm, also at: <a href="http://lists.cs.uiuc.edu/pipermail/charm/2015-May/002047.html">http://lists.cs.uiuc.edu/pipermail/charm/2015-May/002047.html</a></p>
<p><em>Procnum will be called to construct your chare, the first time a message is sent to it from a node, and each time subsequent sends do not find a precached location record for it. The latter event can occur when many sends have pushed it out of cache, or after migration.</em></p>
<p><em>The potential global memory footprint of location management caching is proportional to the total number of objects multiplied by the number of nodes. Therefore, the runtime system keeps a finite number on each node. At the limit, procnum could be called for nearly every message send, therefore procnum should be designed to be inexpensive.</em></p>
<p>The heavy portion of array element placement should therefore be done in the constructor. </p>

<p>Definition in file <a class="el" href="_uns_mesh_map_8_c_source.html">UnsMeshMap.C</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 30 2016 19:47:22 for Quinoa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
