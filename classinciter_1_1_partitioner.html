<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quinoa: inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceinciter.html">inciter</a></li><li class="navelem"><a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classinciter_1_1_partitioner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner__inherit__graph.svg" width="523" height="75"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1db9301af227d93bc9102a2dc2c5a273"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a1db9301af227d93bc9102a2dc2c5a273">Partitioner</a> (const HostProxy &amp;host, const WorkerProxy &amp;worker, const LinSysMergerProxy &amp;lsm, const ParticleWriterProxy &amp;pw)</td></tr>
<tr class="separator:a1db9301af227d93bc9102a2dc2c5a273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ed3453c8fa58cd339740c59f0aeb54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae3ed3453c8fa58cd339740c59f0aeb54">partition</a> (int nchare)</td></tr>
<tr class="separator:ae3ed3453c8fa58cd339740c59f0aeb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac01e1e9f756ddfad9e76a8890c77f9e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac01e1e9f756ddfad9e76a8890c77f9e0">offset</a> (int p, std::size_t u)</td></tr>
<tr class="separator:ac01e1e9f756ddfad9e76a8890c77f9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ce085df4207f29f4974a472dbd3a37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aa8ce085df4207f29f4974a472dbd3a37">request</a> (int p, const std::unordered_set&lt; std::size_t &gt; &amp;nd)</td></tr>
<tr class="separator:aa8ce085df4207f29f4974a472dbd3a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be7e4d8a6ac31d3897fa16d06484d2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8be7e4d8a6ac31d3897fa16d06484d2f">request</a> (int p, const <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &amp;ed)</td></tr>
<tr class="separator:a8be7e4d8a6ac31d3897fa16d06484d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46496f1ad6de9a11149ec0b63ed22cc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a46496f1ad6de9a11149ec0b63ed22cc1">neworder</a> (const std::unordered_map&lt; std::size_t, std::size_t &gt; &amp;nd)</td></tr>
<tr class="separator:a46496f1ad6de9a11149ec0b63ed22cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50666ca6a9687d209d3ae05514fa6d9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a50666ca6a9687d209d3ae05514fa6d9e">neworder</a> (const <a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> &amp;ed)</td></tr>
<tr class="separator:a50666ca6a9687d209d3ae05514fa6d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae5890cf3c7a03f03db9b3ad50a7bd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aeae5890cf3c7a03f03db9b3ad50a7bd8">add</a> (int frompe, const std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;n)</td></tr>
<tr class="separator:aeae5890cf3c7a03f03db9b3ad50a7bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1aeff138578c3921fb67ddbbad3ef3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ab1aeff138578c3921fb67ddbbad3ef3a">recv</a> ()</td></tr>
<tr class="memdesc:ab1aeff138578c3921fb67ddbbad3ef3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge received node IDs.  <a href="#ab1aeff138578c3921fb67ddbbad3ef3a">More...</a><br /></td></tr>
<tr class="separator:ab1aeff138578c3921fb67ddbbad3ef3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05668f4403664212aab300b588bec5f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a05668f4403664212aab300b588bec5f3">flatten</a> ()</td></tr>
<tr class="separator:a05668f4403664212aab300b588bec5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8917c2adfa0e4be3f4c7fd3391242eb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8917c2adfa0e4be3f4c7fd3391242eb3">lower</a> (std::size_t low)</td></tr>
<tr class="separator:a8917c2adfa0e4be3f4c7fd3391242eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e83b4ee8468009d81864887403ff69c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a6e83b4ee8468009d81864887403ff69c">stdCost</a> (<a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> av)</td></tr>
<tr class="memdesc:a6e83b4ee8468009d81864887403ff69c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the variance of the communication cost of merging the linear system.  <a href="#a6e83b4ee8468009d81864887403ff69c">More...</a><br /></td></tr>
<tr class="separator:a6e83b4ee8468009d81864887403ff69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fba6264b623859b6fae8836ceb430e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8fba6264b623859b6fae8836ceb430e9">gather</a> ()</td></tr>
<tr class="memdesc:a8fba6264b623859b6fae8836ceb430e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start gathering global node IDs this PE will need to receive (instead of assign) during reordering.  <a href="#a8fba6264b623859b6fae8836ceb430e9">More...</a><br /></td></tr>
<tr class="separator:a8fba6264b623859b6fae8836ceb430e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ecd1c7584c9a18af198776f9f1f2e8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8ecd1c7584c9a18af198776f9f1f2e8a">query</a> (int p, const std::set&lt; std::size_t &gt; &amp;nodes, const <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &amp;edges) const</td></tr>
<tr class="memdesc:a8ecd1c7584c9a18af198776f9f1f2e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query our global node IDs and edges by other PEs so they know if they are to receive IDs for those from during reordering.  <a href="#a8ecd1c7584c9a18af198776f9f1f2e8a">More...</a><br /></td></tr>
<tr class="separator:a8ecd1c7584c9a18af198776f9f1f2e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6246a8ecd89e5410c68f359cf9863f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a0d6246a8ecd89e5410c68f359cf9863f">mask</a> (int p, const std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; &amp;cn, const <a class="el" href="classtk_1_1_uns_mesh.html#a11a7aae0f8c2d3292b9b7e3f5ea50c9c">tk::UnsMesh::EdgeChares</a> &amp;ce)</td></tr>
<tr class="separator:a0d6246a8ecd89e5410c68f359cf9863f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae2da626a5df9fefd511aa0d350206786"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae2da626a5df9fefd511aa0d350206786">Group</a> = CBase_Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;</td></tr>
<tr class="separator:ae2da626a5df9fefd511aa0d350206786"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aef3299fd19deb0ee0808f550c53da0b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aef3299fd19deb0ee0808f550c53da0b5">readGraph</a> (<a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;er)</td></tr>
<tr class="separator:aef3299fd19deb0ee0808f550c53da0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a5481b59ea393cbdd4807976d8c01b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ab7a5481b59ea393cbdd4807976d8c01b">computeCentroids</a> (<a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;er)</td></tr>
<tr class="separator:ab7a5481b59ea393cbdd4807976d8c01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa8e1e70659b60b808e966ecc076b13"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#adfa8e1e70659b60b808e966ecc076b13">chareNodes</a> (const std::vector&lt; std::size_t &gt; &amp;che) const</td></tr>
<tr class="separator:adfa8e1e70659b60b808e966ecc076b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185498585cc11098213d97c4697753a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a185498585cc11098213d97c4697753a6">distribute</a> (std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&amp;n)</td></tr>
<tr class="separator:a185498585cc11098213d97c4697753a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cf1a1a9f97f48a74ba2602d5806635"><td class="memItemLeft" align="right" valign="top">std::array&lt; int, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">chareDistribution</a> () const</td></tr>
<tr class="separator:a40cf1a1a9f97f48a74ba2602d5806635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9661927000d6711f85b62291cd11cf20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9661927000d6711f85b62291cd11cf20">reorder</a> ()</td></tr>
<tr class="memdesc:a9661927000d6711f85b62291cd11cf20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorder global mesh node IDs.  <a href="#a9661927000d6711f85b62291cd11cf20">More...</a><br /></td></tr>
<tr class="separator:a9661927000d6711f85b62291cd11cf20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa775578b088c73b4a01bd68325f12be9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aa775578b088c73b4a01bd68325f12be9">pe</a> (int id) const</td></tr>
<tr class="separator:aa775578b088c73b4a01bd68325f12be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a7a1017edc868a556ebd0a7e2217e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac5a7a1017edc868a556ebd0a7e2217e3">prepare</a> ()</td></tr>
<tr class="memdesc:ac5a7a1017edc868a556ebd0a7e2217e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate new node IDs to old ones and return them to the requestor(s)  <a href="#ac5a7a1017edc868a556ebd0a7e2217e3">More...</a><br /></td></tr>
<tr class="separator:ac5a7a1017edc868a556ebd0a7e2217e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f97d387576f6a8ce282a69e52314939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9f97d387576f6a8ce282a69e52314939">refine</a> ()</td></tr>
<tr class="memdesc:a9f97d387576f6a8ce282a69e52314939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uniformly refine our mesh replacing each tetrahedron with 8 new ones.  <a href="#a9f97d387576f6a8ce282a69e52314939">More...</a><br /></td></tr>
<tr class="separator:a9f97d387576f6a8ce282a69e52314939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f249c89e2a14025cb2c9ae55a60c53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac8f249c89e2a14025cb2c9ae55a60c53">reordered</a> ()</td></tr>
<tr class="separator:ac8f249c89e2a14025cb2c9ae55a60c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7336d1b669341fd6a19bd6f793a61826"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a7336d1b669341fd6a19bd6f793a61826">bounds</a> ()</td></tr>
<tr class="separator:a7336d1b669341fd6a19bd6f793a61826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac226027f243f526becc2b0db46183c1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac226027f243f526becc2b0db46183c1f">create</a> ()</td></tr>
<tr class="memdesc:ac226027f243f526becc2b0db46183c1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create chare array elements on this PE and assign the global mesh element IDs they will operate on.  <a href="#ac226027f243f526becc2b0db46183c1f">More...</a><br /></td></tr>
<tr class="separator:ac226027f243f526becc2b0db46183c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeea316b5366c8e631d59f583253c703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aaeea316b5366c8e631d59f583253c703">createWorkers</a> (std::array&lt; int, 2 &gt; &amp;&amp;dist)</td></tr>
<tr class="separator:aaeea316b5366c8e631d59f583253c703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b34b277b10684b4461ac24232e8348"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a65b34b277b10684b4461ac24232e8348">cost</a> (std::size_t l, std::size_t u)</td></tr>
<tr class="separator:a65b34b277b10684b4461ac24232e8348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Host signal calls</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions signal back to the host via a global reduction originating from each PE branch</p>
<p>Singal calls contribute to a reduction on all branches (PEs) of LinSysMerger to the host, e.g., inciter::CProxy_Transporter, given by the template argument HostProxy. The signal functions are overloads on the specialization, e.g., inciter::CProxy_Transporter, of the LinSysMerger template. They create Charm++ reduction targets via creating a callback that invokes the typed reduction client, where host is the proxy on which the reduction target method, given by the string followed by "redn_wrapper_", e.g., rowcomplete(), is called upon completion of the reduction.</p>
<p>Note that we do not use Charm++'s CkReductionTarget macro here, but instead explicitly generate the code that that macro would generate. To explain why, here is Charm++'s CkReductionTarget macro's definition, given in ckreduction.h: </p><div class="fragment"><div class="line"><span class="preprocessor">#define CkReductionTarget(me, method) \</span></div><div class="line"><span class="preprocessor">  CkIndex_##me::redn_wrapper_##method(NULL)</span></div></div><!-- fragment --><p> This macro takes arguments 'me' (a class name) and 'method' a member function of class 'me' and generates the call 'CkIndex_&lt;class&gt;::redn_wrapper_&lt;method&gt;(NULL)'. With the overloads the signal2* functions generate, we do the above macro's job for LinSysMerger specialized by HostProxy, hard-coded here, as well its reduction target. This is required since</p><ul>
<li>Charm++'s CkReductionTarget macro's preprocessing happens earlier than type resolution and the string of the template argument would be substituted instead of the type specialized (which is not what we want here), and</li>
<li>the template argument class, e.g, CProxy_Transporter, is in a namespace different than that of LinSysMerger. When a new class is used to specialize LinSysMerger, the compiler will alert that a new overload needs to be defined.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This simplifies client-code, e.g., <a class="el" href="classinciter_1_1_transporter.html" title="Transporter drives the time integration of transport equations. ">inciter::Transporter</a>, which now requires no explicit book-keeping with counters, etc. Also a reduction (instead of a direct call to the host) better utilizes the communication network as computational nodes can send their aggregated contribution to other nodes on a network instead of all chares sending their (smaller) contributions to the same host, (hopefully) implemented using a tree among the PEs. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="http://charm.cs.illinois.edu/manuals/html/charm++/manual.html,">http://charm.cs.illinois.edu/manuals/html/charm++/manual.html,</a> Sections "Processor-Aware Chare Collections" and "Chare Arrays". </dd></dl>
</div></td></tr>
<tr class="memitem:a9278f146c405108daff1a6cc6a1324b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9278f146c405108daff1a6cc6a1324b5">signal2host_graph_complete</a> (const CProxy_Transporter &amp;host, uint64_t nelem)</td></tr>
<tr class="memdesc:a9278f146c405108daff1a6cc6a1324b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal back to host that we have done our part of reading the mesh graph.  <a href="#a9278f146c405108daff1a6cc6a1324b5">More...</a><br /></td></tr>
<tr class="separator:a9278f146c405108daff1a6cc6a1324b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981a7e8f4a25f338eeb0c24de9b42af3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a981a7e8f4a25f338eeb0c24de9b42af3">signal2host_avecost</a> (const CProxy_Transporter &amp;host)</td></tr>
<tr class="separator:a981a7e8f4a25f338eeb0c24de9b42af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568d8903ddb298acc34fb2c66b2da638"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a568d8903ddb298acc34fb2c66b2da638">signal2host_stdcost</a> (const CProxy_Transporter &amp;host, <a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> var)</td></tr>
<tr class="memdesc:a568d8903ddb298acc34fb2c66b2da638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute standard deviation of the communication cost of merging the linear system.  <a href="#a568d8903ddb298acc34fb2c66b2da638">More...</a><br /></td></tr>
<tr class="separator:a568d8903ddb298acc34fb2c66b2da638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ab604a020b38f400dd76d5e8ac044b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac4ab604a020b38f400dd76d5e8ac044b">signal2host_setup_complete</a> (const CProxy_Transporter &amp;host)</td></tr>
<tr class="separator:ac4ab604a020b38f400dd76d5e8ac044b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508822ce5612b121b1f7904a670585dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a508822ce5612b121b1f7904a670585dd">signal2host_distributed</a> (const CProxy_Transporter &amp;host)</td></tr>
<tr class="memdesc:a508822ce5612b121b1f7904a670585dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal host that we are done our part of distributing mesh node IDs and we are ready for preparing (flattening) data for reordering.  <a href="#a508822ce5612b121b1f7904a670585dd">More...</a><br /></td></tr>
<tr class="separator:a508822ce5612b121b1f7904a670585dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5246c046259db3dd3cedc168b4cb9c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac5246c046259db3dd3cedc168b4cb9c4">signal2host_flattened</a> (const CProxy_Transporter &amp;host)</td></tr>
<tr class="memdesc:ac5246c046259db3dd3cedc168b4cb9c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal host that we are ready for computing the communication map, required for parallel distributed global mesh node reordering.  <a href="#ac5246c046259db3dd3cedc168b4cb9c4">More...</a><br /></td></tr>
<tr class="separator:ac5246c046259db3dd3cedc168b4cb9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afb48d48ec1e100f7d57b9dbf1227fa50"><td class="memItemLeft" align="right" valign="top">HostProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a></td></tr>
<tr class="memdesc:afb48d48ec1e100f7d57b9dbf1227fa50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host proxy.  <a href="#afb48d48ec1e100f7d57b9dbf1227fa50">More...</a><br /></td></tr>
<tr class="separator:afb48d48ec1e100f7d57b9dbf1227fa50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76f49357e67f9e7c0b1f456d21a8ed0"><td class="memItemLeft" align="right" valign="top">WorkerProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac76f49357e67f9e7c0b1f456d21a8ed0">m_worker</a></td></tr>
<tr class="memdesc:ac76f49357e67f9e7c0b1f456d21a8ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Worker proxy.  <a href="#ac76f49357e67f9e7c0b1f456d21a8ed0">More...</a><br /></td></tr>
<tr class="separator:ac76f49357e67f9e7c0b1f456d21a8ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa956f1ecb03d8e814c2e473f754ed029"><td class="memItemLeft" align="right" valign="top">LinSysMergerProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">m_linsysmerger</a></td></tr>
<tr class="memdesc:aa956f1ecb03d8e814c2e473f754ed029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear system merger proxy.  <a href="#aa956f1ecb03d8e814c2e473f754ed029">More...</a><br /></td></tr>
<tr class="separator:aa956f1ecb03d8e814c2e473f754ed029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b2ce444f845d1c6655b4389efaf118"><td class="memItemLeft" align="right" valign="top">ParticleWriterProxy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a54b2ce444f845d1c6655b4389efaf118">m_particlewriter</a></td></tr>
<tr class="memdesc:a54b2ce444f845d1c6655b4389efaf118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Particle writer proxy.  <a href="#a54b2ce444f845d1c6655b4389efaf118">More...</a><br /></td></tr>
<tr class="separator:a54b2ce444f845d1c6655b4389efaf118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00cdc54d2e07f7f9a1bc16239d28e61"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">m_npe</a></td></tr>
<tr class="memdesc:aa00cdc54d2e07f7f9a1bc16239d28e61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of fellow PEs to send elem IDs to.  <a href="#aa00cdc54d2e07f7f9a1bc16239d28e61">More...</a><br /></td></tr>
<tr class="separator:aa00cdc54d2e07f7f9a1bc16239d28e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cdfb6686511fedd220822ceb6e3495e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">m_reqNodes</a></td></tr>
<tr class="memdesc:a4cdfb6686511fedd220822ceb6e3495e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of requested node IDs from PEs.  <a href="#a4cdfb6686511fedd220822ceb6e3495e">More...</a><br /></td></tr>
<tr class="separator:a4cdfb6686511fedd220822ceb6e3495e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f683ab8ccce654b75de6e9220189a63"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">m_reqEdges</a></td></tr>
<tr class="memdesc:a0f683ab8ccce654b75de6e9220189a63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of requested edge-node IDs from PEs.  <a href="#a0f683ab8ccce654b75de6e9220189a63">More...</a><br /></td></tr>
<tr class="separator:a0f683ab8ccce654b75de6e9220189a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed04cf114715da1ca8c3a334375306e"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">m_start</a></td></tr>
<tr class="memdesc:a8ed04cf114715da1ca8c3a334375306e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starting global mesh node ID for node reordering on this PE during mesh node reordering.  <a href="#a8ed04cf114715da1ca8c3a334375306e">More...</a><br /></td></tr>
<tr class="separator:a8ed04cf114715da1ca8c3a334375306e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570d536f4f2b5cdf16e956031257c3b4"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a570d536f4f2b5cdf16e956031257c3b4">m_noffset</a></td></tr>
<tr class="memdesc:a570d536f4f2b5cdf16e956031257c3b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for number of offsets.  <a href="#a570d536f4f2b5cdf16e956031257c3b4">More...</a><br /></td></tr>
<tr class="separator:a570d536f4f2b5cdf16e956031257c3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2802464f5cf446e49736791627cc82b6"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a2802464f5cf446e49736791627cc82b6">m_nquery</a></td></tr>
<tr class="memdesc:a2802464f5cf446e49736791627cc82b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for number of masks of to-be-received global mesh node IDs received.  <a href="#a2802464f5cf446e49736791627cc82b6">More...</a><br /></td></tr>
<tr class="separator:a2802464f5cf446e49736791627cc82b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c3fcb2ea50425934f476200ee90eb0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a></td></tr>
<tr class="memdesc:a31c3fcb2ea50425934f476200ee90eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tetrtahedron element connectivity of our chunk of the mesh.  <a href="#a31c3fcb2ea50425934f476200ee90eb0">More...</a><br /></td></tr>
<tr class="separator:a31c3fcb2ea50425934f476200ee90eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fec1e897a9b1927db3c91335d31b6f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; long &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a></td></tr>
<tr class="memdesc:a94fec1e897a9b1927db3c91335d31b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global element IDs we read (our chunk of the mesh)  <a href="#a94fec1e897a9b1927db3c91335d31b6f">More...</a><br /></td></tr>
<tr class="separator:a94fec1e897a9b1927db3c91335d31b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827c0aac430c4bf095ff2cb83020e3e5"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::vector&lt; <a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> &gt;, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a></td></tr>
<tr class="memdesc:a827c0aac430c4bf095ff2cb83020e3e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Element centroid coordinates of our chunk of the mesh.  <a href="#a827c0aac430c4bf095ff2cb83020e3e5">More...</a><br /></td></tr>
<tr class="separator:a827c0aac430c4bf095ff2cb83020e3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eff2536977f42de737bbb43c268c2d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a></td></tr>
<tr class="memdesc:a0eff2536977f42de737bbb43c268c2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of chares across all PEs.  <a href="#a0eff2536977f42de737bbb43c268c2d7">More...</a><br /></td></tr>
<tr class="separator:a0eff2536977f42de737bbb43c268c2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5230df0e8c17d30201065ccf6221d3"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">m_lower</a></td></tr>
<tr class="memdesc:a7f5230df0e8c17d30201065ccf6221d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower bound of node IDs our PE operates on after reordering.  <a href="#a7f5230df0e8c17d30201065ccf6221d3">More...</a><br /></td></tr>
<tr class="separator:a7f5230df0e8c17d30201065ccf6221d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b05bc57997b383b30712b9d76bdc99a"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a></td></tr>
<tr class="memdesc:a9b05bc57997b383b30712b9d76bdc99a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upper bound of node IDs our PE operates on after reordering.  <a href="#a9b05bc57997b383b30712b9d76bdc99a">More...</a><br /></td></tr>
<tr class="separator:a9b05bc57997b383b30712b9d76bdc99a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601b31c536569707303052511f2bcf9c"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a></td></tr>
<tr class="memdesc:a601b31c536569707303052511f2bcf9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary communication map used to receive global mesh node IDs.  <a href="#a601b31c536569707303052511f2bcf9c">More...</a><br /></td></tr>
<tr class="separator:a601b31c536569707303052511f2bcf9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0563272f10823691e8733132cb371d67"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a></td></tr>
<tr class="memdesc:a0563272f10823691e8733132cb371d67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary communication map used to receive global mesh edges.  <a href="#a0563272f10823691e8733132cb371d67">More...</a><br /></td></tr>
<tr class="separator:a0563272f10823691e8733132cb371d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ae92f5c732dbd255ee0e99548439cf"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a></td></tr>
<tr class="memdesc:a16ae92f5c732dbd255ee0e99548439cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication map used for distributed mesh node reordering.  <a href="#a16ae92f5c732dbd255ee0e99548439cf">More...</a><br /></td></tr>
<tr class="separator:a16ae92f5c732dbd255ee0e99548439cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1b731e31a69666832b534c6660fa259"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a></td></tr>
<tr class="memdesc:ae1b731e31a69666832b534c6660fa259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication map used for distributed mesh edge-node reordering.  <a href="#ae1b731e31a69666832b534c6660fa259">More...</a><br /></td></tr>
<tr class="separator:ae1b731e31a69666832b534c6660fa259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54451437b716668e1a46d87b923e4fa"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a></td></tr>
<tr class="memdesc:ac54451437b716668e1a46d87b923e4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique global node IDs chares on our PE will contribute to in a linear system.  <a href="#ac54451437b716668e1a46d87b923e4fa">More...</a><br /></td></tr>
<tr class="separator:ac54451437b716668e1a46d87b923e4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3b491c564635c8e13d44d96cfc4675"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a></td></tr>
<tr class="memdesc:abc3b491c564635c8e13d44d96cfc4675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique global edges whose nodes chares on our PE will contribute to in a linear system.  <a href="#abc3b491c564635c8e13d44d96cfc4675">More...</a><br /></td></tr>
<tr class="separator:abc3b491c564635c8e13d44d96cfc4675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5e73f1abb4a1db8585567670b0a0e3"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::size_t, std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a></td></tr>
<tr class="memdesc:a6a5e73f1abb4a1db8585567670b0a0e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-values to old node IDs (as in file) as map-keys.  <a href="#a6a5e73f1abb4a1db8585567670b0a0e3">More...</a><br /></td></tr>
<tr class="separator:a6a5e73f1abb4a1db8585567670b0a0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed35d875ea3e96de7e19647c018adb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a></td></tr>
<tr class="memdesc:a4ed35d875ea3e96de7e19647c018adb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-values to edges given by two old node IDs (as in file) as map-keys.  <a href="#a4ed35d875ea3e96de7e19647c018adb4">More...</a><br /></td></tr>
<tr class="separator:a4ed35d875ea3e96de7e19647c018adb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c778929b3a08e992c2fbf8de2e96d0"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a></td></tr>
<tr class="memdesc:a74c778929b3a08e992c2fbf8de2e96d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global mesh element connectivity associated to chares owned.  <a href="#a74c778929b3a08e992c2fbf8de2e96d0">More...</a><br /></td></tr>
<tr class="separator:a74c778929b3a08e992c2fbf8de2e96d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d11df8f3650e32e2e220e549f1ac99f"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">m_chfilenodes</a></td></tr>
<tr class="memdesc:a3d11df8f3650e32e2e220e549f1ac99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps associating old node IDs to new node IDs (as in producing contiguous-row-id linear system contributions) categorized by chares.  <a href="#a3d11df8f3650e32e2e220e549f1ac99f">More...</a><br /></td></tr>
<tr class="separator:a3d11df8f3650e32e2e220e549f1ac99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40828decbbdc5cb63e1aae1bebca1e3d"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a></td></tr>
<tr class="memdesc:a40828decbbdc5cb63e1aae1bebca1e3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edges (a pair of old node IDs) in <a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42" title="Map associating IDs of mesh nodes to edges. ">tk::UnsMesh::EdgeNodes</a> maps, associated to and categorized by chares.  <a href="#a40828decbbdc5cb63e1aae1bebca1e3d">More...</a><br /></td></tr>
<tr class="separator:a40828decbbdc5cb63e1aae1bebca1e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab809fed852fdc8403c3f9759536ea7eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">m_cost</a></td></tr>
<tr class="memdesc:ab809fed852fdc8403c3f9759536ea7eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication cost of linear system merging for our PE.  <a href="#ab809fed852fdc8403c3f9759536ea7eb">More...</a><br /></td></tr>
<tr class="separator:ab809fed852fdc8403c3f9759536ea7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d26edc5f176f72832902794355ee351"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a></td></tr>
<tr class="memdesc:a8d26edc5f176f72832902794355ee351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map associating a set of chare IDs to old (as in file) global mesh node IDs.  <a href="#a8d26edc5f176f72832902794355ee351">More...</a><br /></td></tr>
<tr class="separator:a8d26edc5f176f72832902794355ee351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea771aec1570abf9abfe300ea2d0de34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtk_1_1_uns_mesh.html#a11a7aae0f8c2d3292b9b7e3f5ea50c9c">tk::UnsMesh::EdgeChares</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a></td></tr>
<tr class="memdesc:aea771aec1570abf9abfe300ea2d0de34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file)  <a href="#aea771aec1570abf9abfe300ea2d0de34">More...</a><br /></td></tr>
<tr class="separator:aea771aec1570abf9abfe300ea2d0de34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c299aa4a079c72ebebf13e2081a082"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a></td></tr>
<tr class="memdesc:ad5c299aa4a079c72ebebf13e2081a082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) chare IDs this PE owns.  <a href="#ad5c299aa4a079c72ebebf13e2081a082">More...</a><br /></td></tr>
<tr class="separator:ad5c299aa4a079c72ebebf13e2081a082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5f5b0de8ff6ffea0fb68d7e122a147"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">m_msumed</a></td></tr>
<tr class="memdesc:a0c5f5b0de8ff6ffea0fb68d7e122a147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mesh edges given by two global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) chare IDs this PE owns.  <a href="#a0c5f5b0de8ff6ffea0fb68d7e122a147">More...</a><br /></td></tr>
<tr class="separator:a0c5f5b0de8ff6ffea0fb68d7e122a147"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class HostProxy, class WorkerProxy, class LinSysMergerProxy, class ParticleWriterProxy&gt;<br />
class inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;</h3>

<p><a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a> Charm++ chare group class</p>
<p>Instantiations of <a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a> comprise a processor aware Charm++ chare group. When instantiated, a new object is created on each PE and not more (as opposed to individual chares or chare array object elements). See also the Charm++ interface file <a class="el" href="partitioner_8ci.html">partitioner.ci</a>. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00094">94</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ae2da626a5df9fefd511aa0d350206786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2da626a5df9fefd511aa0d350206786">&#9670;&nbsp;</a></span>Group</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::<a class="el" href="classinciter_1_1_partitioner.html#ae2da626a5df9fefd511aa0d350206786">Group</a> =  CBase_Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00124">124</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1db9301af227d93bc9102a2dc2c5a273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db9301af227d93bc9102a2dc2c5a273">&#9670;&nbsp;</a></span>Partitioner()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::<a class="el" href="classinciter_1_1_partitioner.html">Partitioner</a> </td>
          <td>(</td>
          <td class="paramtype">const HostProxy &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const WorkerProxy &amp;&#160;</td>
          <td class="paramname"><em>worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LinSysMergerProxy &amp;&#160;</td>
          <td class="paramname"><em>lsm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ParticleWriterProxy &amp;&#160;</td>
          <td class="paramname"><em>pw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host Charm++ proxy we are being called from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">worker</td><td>Worker Charm++ proxy we spawn <a class="el" href="classinciter_1_1_p_d_e.html" title="Partial differential equation. ">PDE</a> work to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsm</td><td>Linear system merger proxy (required by the workers) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pw</td><td>Particle writer proxy (required by the workers) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00132">132</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00651">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::computeCentroids()</a>, <a class="el" href="_partitioning_algorithm_8h_source.html#l00087">tk::ctr::PartitioningAlgorithm::geometric()</a>, <a class="el" href="_partitioner_8h_source.html#l00492">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</a>, <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::readGraph()</a>, and <a class="el" href="_partitioner_8h_source.html#l01293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_setup_complete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                                 :</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      __dep(),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>( host ),</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ac76f49357e67f9e7c0b1f456d21a8ed0">m_worker</a>( worker ),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">m_linsysmerger</a>( lsm ),</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a54b2ce444f845d1c6655b4389efaf118">m_particlewriter</a>( pw ),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">m_npe</a>( 0 ),</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">m_reqNodes</a>(),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">m_reqEdges</a>(),</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">m_start</a>( 0 ),</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a570d536f4f2b5cdf16e956031257c3b4">m_noffset</a>( 0 ),</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a2802464f5cf446e49736791627cc82b6">m_nquery</a>( 0 ),</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>(),</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>(),</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a>(),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a>( 0 ),</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">m_lower</a>( 0 ),</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a>( 0 ),</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>(),</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>(),</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a>(),</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a>(),</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>(),</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>(),</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>(),</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>(),</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>(),</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">m_chfilenodes</a>(),</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>(),</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">m_cost</a>( 0.0 ),</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a>(),</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a>(),</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>(),</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">m_msumed</a>()</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        er( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1io.html">tag::io</a>, <a class="code" href="structtag_1_1input.html">tag::input</a> &gt;() );</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="comment">// Read our contiguously-numbered chunk of the mesh graph from file</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aef3299fd19deb0ee0808f550c53da0b5">readGraph</a>( er );</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="comment">// If a geometric partitioner is selected, compute element centroid</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="comment">// coordinates</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> alg = <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1selected.html">tag::selected</a>, <a class="code" href="structtag_1_1partitioner.html">tag::partitioner</a> &gt;();</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classtk_1_1ctr_1_1_partitioning_algorithm.html">tk::ctr::PartitioningAlgorithm</a>().<a class="code" href="classtk_1_1ctr_1_1_partitioning_algorithm.html#ac20375af3b6b9ade275013bfc3f63241">geometric</a>(alg) )</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#ab7a5481b59ea393cbdd4807976d8c01b">computeCentroids</a>( er );</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#ac4ab604a020b38f400dd76d5e8ac044b">signal2host_setup_complete</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a> );</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a31c3fcb2ea50425934f476200ee90eb0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a94fec1e897a9b1927db3c91335d31b6f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; long &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00522">Partitioner.h:522</a></div></div>
<div class="ttc" id="classtk_1_1ctr_1_1_partitioning_algorithm_html"><div class="ttname"><a href="classtk_1_1ctr_1_1_partitioning_algorithm.html">tk::ctr::PartitioningAlgorithm</a></div><div class="ttdoc">PartitioningAlgorithm options: outsource searches to base templated on enum type. ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioning_algorithm_8h_source.html#l00037">PartitioningAlgorithm.h:37</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a601b31c536569707303052511f2bcf9c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">inciter::Partitioner::m_ncomm</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_ncomm</div><div class="ttdoc">Temporary communication map used to receive global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00536">Partitioner.h:536</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0c5f5b0de8ff6ffea0fb68d7e122a147"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">inciter::Partitioner::m_msumed</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; &gt; m_msumed</div><div class="ttdoc">Mesh edges given by two global mesh node IDs associated to chare IDs bordering the mesh chunk held by...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00623">Partitioner.h:623</a></div></div>
<div class="ttc" id="structtag_1_1io_html"><div class="ttname"><a href="structtag_1_1io.html">tag::io</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00015">Tags.h:15</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad5c299aa4a079c72ebebf13e2081a082"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">inciter::Partitioner::m_msum</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_msum</div><div class="ttdoc">Global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) cha...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00611">Partitioner.h:611</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ab809fed852fdc8403c3f9759536ea7eb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">inciter::Partitioner::m_cost</a></div><div class="ttdeci">tk::real m_cost</div><div class="ttdoc">Communication cost of linear system merging for our PE. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00590">Partitioner.h:590</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1b731e31a69666832b534c6660fa259"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">inciter::Partitioner::m_ecommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; m_ecommunication</div><div class="ttdoc">Communication map used for distributed mesh edge-node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00556">Partitioner.h:556</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aef3299fd19deb0ee0808f550c53da0b5"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aef3299fd19deb0ee0808f550c53da0b5">inciter::Partitioner::readGraph</a></div><div class="ttdeci">void readGraph(tk::ExodusIIMeshReader &amp;er)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00627">Partitioner.h:627</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a2802464f5cf446e49736791627cc82b6"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a2802464f5cf446e49736791627cc82b6">inciter::Partitioner::m_nquery</a></div><div class="ttdeci">std::size_t m_nquery</div><div class="ttdoc">Counter for number of masks of to-be-received global mesh node IDs received. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00518">Partitioner.h:518</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a4cdfb6686511fedd220822ceb6e3495e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">inciter::Partitioner::m_reqNodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqNodes</div><div class="ttdoc">Queue of requested node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00502">Partitioner.h:502</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0eff2536977f42de737bbb43c268c2d7"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00526">Partitioner.h:526</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aea771aec1570abf9abfe300ea2d0de34"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">inciter::Partitioner::m_edgechares</a></div><div class="ttdeci">tk::UnsMesh::EdgeChares m_edgechares</div><div class="ttdoc">Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file) ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00600">Partitioner.h:600</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a827c0aac430c4bf095ff2cb83020e3e5"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">inciter::Partitioner::m_centroid</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; m_centroid</div><div class="ttdoc">Element centroid coordinates of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00524">Partitioner.h:524</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a4ed35d875ea3e96de7e19647c018adb4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">inciter::Partitioner::m_linedges</a></div><div class="ttdeci">tk::UnsMesh::EdgeNodes m_linedges</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00570">Partitioner.h:570</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8d26edc5f176f72832902794355ee351"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">inciter::Partitioner::m_nodechares</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; m_nodechares</div><div class="ttdoc">Map associating a set of chare IDs to old (as in file) global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00595">Partitioner.h:595</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa956f1ecb03d8e814c2e473f754ed029"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">inciter::Partitioner::m_linsysmerger</a></div><div class="ttdeci">LinSysMergerProxy m_linsysmerger</div><div class="ttdoc">Linear system merger proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00496">Partitioner.h:496</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a570d536f4f2b5cdf16e956031257c3b4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a570d536f4f2b5cdf16e956031257c3b4">inciter::Partitioner::m_noffset</a></div><div class="ttdeci">std::size_t m_noffset</div><div class="ttdoc">Counter for number of offsets. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00512">Partitioner.h:512</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa00cdc54d2e07f7f9a1bc16239d28e61"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00500">Partitioner.h:500</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0563272f10823691e8733132cb371d67"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">inciter::Partitioner::m_ecomm</a></div><div class="ttdeci">std::map&lt; int, tk::UnsMesh::Edges &gt; m_ecomm</div><div class="ttdoc">Temporary communication map used to receive global mesh edges. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00542">Partitioner.h:542</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a40828decbbdc5cb63e1aae1bebca1e3d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">inciter::Partitioner::m_chedgenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::EdgeNodes &gt; m_chedgenodes</div><div class="ttdoc">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edge...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00588">Partitioner.h:588</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9b05bc57997b383b30712b9d76bdc99a"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00530">Partitioner.h:530</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac76f49357e67f9e7c0b1f456d21a8ed0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac76f49357e67f9e7c0b1f456d21a8ed0">inciter::Partitioner::m_worker</a></div><div class="ttdeci">WorkerProxy m_worker</div><div class="ttdoc">Worker proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00494">Partitioner.h:494</a></div></div>
<div class="ttc" id="classtk_1_1ctr_1_1_partitioning_algorithm_html_ac20375af3b6b9ade275013bfc3f63241"><div class="ttname"><a href="classtk_1_1ctr_1_1_partitioning_algorithm.html#ac20375af3b6b9ade275013bfc3f63241">tk::ctr::PartitioningAlgorithm::geometric</a></div><div class="ttdeci">bool geometric(PartitioningAlgorithmType m) const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioning_algorithm_8h_source.html#l00087">PartitioningAlgorithm.h:87</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3d11df8f3650e32e2e220e549f1ac99f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">inciter::Partitioner::m_chfilenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chfilenodes</div><div class="ttdoc">Maps associating old node IDs to new node IDs (as in producing contiguous-row-id linear system contri...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00579">Partitioner.h:579</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a54b2ce444f845d1c6655b4389efaf118"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a54b2ce444f845d1c6655b4389efaf118">inciter::Partitioner::m_particlewriter</a></div><div class="ttdeci">ParticleWriterProxy m_particlewriter</div><div class="ttdoc">Particle writer proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00498">Partitioner.h:498</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8ed04cf114715da1ca8c3a334375306e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">inciter::Partitioner::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this PE during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00507">Partitioner.h:507</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ab7a5481b59ea393cbdd4807976d8c01b"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ab7a5481b59ea393cbdd4807976d8c01b">inciter::Partitioner::computeCentroids</a></div><div class="ttdeci">void computeCentroids(tk::ExodusIIMeshReader &amp;er)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00651">Partitioner.h:651</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="structtag_1_1input_html"><div class="ttname"><a href="structtag_1_1input.html">tag::input</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00016">Tags.h:16</a></div></div>
<div class="ttc" id="structtag_1_1selected_html"><div class="ttname"><a href="structtag_1_1selected.html">tag::selected</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00126">Tags.h:126</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a6a5e73f1abb4a1db8585567670b0a0e3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">inciter::Partitioner::m_linnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_linnodes</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00566">Partitioner.h:566</a></div></div>
<div class="ttc" id="structtag_1_1partitioner_html"><div class="ttname"><a href="structtag_1_1partitioner.html">tag::partitioner</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00069">Tags.h:69</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a16ae92f5c732dbd255ee0e99548439cf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">inciter::Partitioner::m_ncommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_ncommunication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00549">Partitioner.h:549</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac4ab604a020b38f400dd76d5e8ac044b"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac4ab604a020b38f400dd76d5e8ac044b">inciter::Partitioner::signal2host_setup_complete</a></div><div class="ttdeci">void signal2host_setup_complete(const CProxy_Transporter &amp;host)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01293">Partitioner.h:1293</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7f5230df0e8c17d30201065ccf6221d3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00528">Partitioner.h:528</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0f683ab8ccce654b75de6e9220189a63"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">inciter::Partitioner::m_reqEdges</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, tk::UnsMesh::Edges &gt; &gt; m_reqEdges</div><div class="ttdoc">Queue of requested edge-node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00504">Partitioner.h:504</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a></div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8h_source.html#l00038">ExodusIIMeshReader.h:38</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a1db9301af227d93bc9102a2dc2c5a273_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aeae5890cf3c7a03f03db9b3ad50a7bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae5890cf3c7a03f03db9b3ad50a7bd8">&#9670;&nbsp;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frompe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive mesh node IDs associated to chares we own </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Mesh node indices associated to chare IDs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frompe</td><td>PE call coming from </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00272">272</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00572">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_chinpoel</a>, and <a class="el" href="_partitioner_8h_source.html#l00839">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::pe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : n) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#aa775578b088c73b4a01bd68325f12be9">pe</a>(c.first) == CkMyPe(), <span class="stringliteral">&quot;PE &quot;</span> + std::to_string(CkMyPe()) +</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <span class="stringliteral">&quot; received a chareid-nodeidx-vector pair whose chare it does&quot;</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="stringliteral">&quot; not own&quot;</span> );</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keyword">auto</span>&amp; inpoel = <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>[ c.first ];</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        inpoel.insert( end(inpoel), begin(c.second), end(c.second) );</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      Group::thisProxy[ frompe ].recv();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa775578b088c73b4a01bd68325f12be9"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa775578b088c73b4a01bd68325f12be9">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00839">Partitioner.h:839</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_aeae5890cf3c7a03f03db9b3ad50a7bd8_cgraph.svg" width="387" height="35"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7336d1b669341fd6a19bd6f793a61826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7336d1b669341fd6a19bd6f793a61826">&#9670;&nbsp;</a></span>bounds()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::bounds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01087">1087</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00332">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::lower()</a>, and <a class="el" href="_partitioner_8h_source.html#l00530">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_upper</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00942">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::reordered()</a>.</p>
<div class="fragment"><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                  {</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a> = 0;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keyword">using</span> P1 = std::pair&lt; const std::size_t, std::size_t &gt;;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">m_chfilenodes</a>) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="keyword">auto</span> x = std::max_element( begin(c.second), end(c.second),</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                 [](<span class="keyword">const</span> P1&amp; a, <span class="keyword">const</span> P1&amp; b){ return a.first &lt; b.first; } );</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">if</span> (x-&gt;first &gt; <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a>) <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a> = x-&gt;first;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keyword">using</span> P2 = std::pair&lt; const tk::UnsMesh::Edge, std::size_t &gt;;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keyword">auto</span> x = std::max_element( begin(c.second), end(c.second),</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                 [](<span class="keyword">const</span> P2&amp; a, <span class="keyword">const</span> P2&amp; b){ return a.second &lt; b.second; } );</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keywordflow">if</span> (x-&gt;second &gt; <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a>) <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a> = x-&gt;second;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="comment">// The bounds are the dividers (global mesh point indices) at which the</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="comment">// linear system assembly is divided among PEs. However, Hypre and thus</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="comment">// LinSysMerger expect exclusive upper indices, so we increase the last</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="comment">// one by one here. Note that the cost calculation, Partitioner::cost()</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="comment">// also expects exclusive upper indices.</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == CkNumPes()-1) ++<a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="comment">// Tell the runtime system that the upper bound has been computed</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      upper_complete();</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">// Set lower index for PE 0 as 0</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == 0) <a class="code" href="classinciter_1_1_partitioner.html#a8917c2adfa0e4be3f4c7fd3391242eb3">lower</a>(0);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="comment">// All PEs except the last one send their upper indices as the lower index</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="comment">// for PE+1</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() &lt; CkNumPes()-1)</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        Group::thisProxy[ CkMyPe()+1 ].lower( <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a> );</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a8917c2adfa0e4be3f4c7fd3391242eb3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8917c2adfa0e4be3f4c7fd3391242eb3">inciter::Partitioner::lower</a></div><div class="ttdeci">void lower(std::size_t low)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00332">Partitioner.h:332</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a40828decbbdc5cb63e1aae1bebca1e3d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">inciter::Partitioner::m_chedgenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::EdgeNodes &gt; m_chedgenodes</div><div class="ttdoc">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edge...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00588">Partitioner.h:588</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9b05bc57997b383b30712b9d76bdc99a"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00530">Partitioner.h:530</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3d11df8f3650e32e2e220e549f1ac99f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">inciter::Partitioner::m_chfilenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chfilenodes</div><div class="ttdoc">Maps associating old node IDs to new node IDs (as in producing contiguous-row-id linear system contri...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00579">Partitioner.h:579</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a7336d1b669341fd6a19bd6f793a61826_cgraph.svg" width="331" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a40cf1a1a9f97f48a74ba2602d5806635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40cf1a1a9f97f48a74ba2602d5806635">&#9670;&nbsp;</a></span>chareDistribution()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt; int, 2 &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::chareDistribution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute chare distribution </p><dl class="section return"><dt>Returns</dt><dd>Chunksize, i.e., number of chares per all PEs except the last one, and the number of chares for my PE</dd></dl>
<p>Chare ids are distributed to PEs in a linear continguous order with the last PE taking the remainder if the number of PEs is not divisible by the number chares. For example, if nchare=7 and npe=3, the chare distribution is PE0: 0 1, PE1: 2 3, and PE2: 4 5 6. As a result of this distribution, all PEs will have their chare-categorized element connectivity filled with the global mesh node IDs associated to the Charm++ chare IDs each PE owns. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00768">768</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::create()</a>, <a class="el" href="_partitioner_8h_source.html#l00730">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::distribute()</a>, and <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                                                 {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keyword">auto</span> chunksize = <a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a> / CkNumPes();</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keyword">auto</span> mynchare = chunksize;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">if</span> (CkMyPe() == CkNumPes()-1) mynchare += <a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a> % CkNumPes();</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">return</span> {{ chunksize, mynchare }};</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a0eff2536977f42de737bbb43c268c2d7"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00526">Partitioner.h:526</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adfa8e1e70659b60b808e966ecc076b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa8e1e70659b60b808e966ecc076b13">&#9670;&nbsp;</a></span>chareNodes()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::chareNodes </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>che</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct global mesh node ids for each chare </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">che</td><td>Chares of elements: array of chare ownership IDs mapping graph elements to Charm++ chares. Size: number of elements in the chunk of the mesh graph on this PE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of global mesh node ids connecting elements owned by each chare on this PE </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The chare IDs, as keys in the map constructed here, are simply the chare IDs returned by the partitioner assigning mesh elements to these chares. It does not mean that these chare IDs are owned on this PE. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00692">692</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, and <a class="el" href="_exception_8h_source.html#l00054">ErrChk</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( che.size() == <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>.size(), <span class="stringliteral">&quot;The size of the global element &quot;</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;              <span class="stringliteral">&quot;index and the chare element arrays must equal&quot;</span> );</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( che.size() == <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>.size()/4, <span class="stringliteral">&quot;The size of the mesh &quot;</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;              <span class="stringliteral">&quot;connectivity / 4 and the chare element arrays must equal&quot;</span> );</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="comment">// Categorize global mesh node ids of elements by chares</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; nodes;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">for</span> (std::size_t e=0; e&lt;che.size(); ++e) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keyword">auto</span>&amp; c = nodes[ <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(che[e]) ];</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">for</span> (std::size_t n=0; n&lt;4; ++n) c.push_back( <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>[e*4+n] );</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      }</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="comment">// Make sure all PEs have chares assigned</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( !nodes.empty(), <span class="stringliteral">&quot;No nodes have been assigned to chares on PE &quot;</span> +</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;              std::to_string(CkMyPe()) );</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="comment">// This check should always be done, hence ErrChk and not Assert, as it</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="comment">// can result from particular pathological combinations of (1) too large</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="comment">// degree of virtualization, (2) too many PEs, and/or (3) too small of a</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="comment">// mesh and not due to programmer error.</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : nodes)</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <a class="code" href="_exception_8h.html#ac75cd6578896829d2bfbccf5de71de4f">ErrChk</a>( !c.second.empty(),</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <span class="stringliteral">&quot;Overdecomposition of the mesh is too large compared to the &quot;</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <span class="stringliteral">&quot;number of work units computed based on the degree of &quot;</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <span class="stringliteral">&quot;virtualization desired. As a result, there would be at least &quot;</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                <span class="stringliteral">&quot;one work unit with no mesh elements to work on, i.e., nothing &quot;</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                <span class="stringliteral">&quot;to do. Solution 1: decrease the virtualization to a lower &quot;</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="stringliteral">&quot;value using the command-line argument &#39;-u&#39;. Solution 2: &quot;</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <span class="stringliteral">&quot;decrease the number processing elements (PEs) using the &quot;</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="stringliteral">&quot;charmrun command-line argument &#39;+pN&#39; where N is the number of &quot;</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="stringliteral">&quot;PEs, which implicitly increases the size (and thus decreases &quot;</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <span class="stringliteral">&quot;the number) of work units.)&quot;</span> );</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">return</span> nodes;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a31c3fcb2ea50425934f476200ee90eb0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a94fec1e897a9b1927db3c91335d31b6f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; long &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00522">Partitioner.h:522</a></div></div>
<div class="ttc" id="_exception_8h_html_ac75cd6578896829d2bfbccf5de71de4f"><div class="ttname"><a href="_exception_8h.html#ac75cd6578896829d2bfbccf5de71de4f">ErrChk</a></div><div class="ttdeci">#define ErrChk(expr,...)</div><div class="ttdoc">ErrChk macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00054">Exception.h:54</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7a5481b59ea393cbdd4807976d8c01b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7a5481b59ea393cbdd4807976d8c01b">&#9670;&nbsp;</a></span>computeCentroids()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::computeCentroids </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;&#160;</td>
          <td class="paramname"><em>er</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">er</td><td>ExodusII mesh reader </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00651">651</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00069">tk::extents()</a>, <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_tetinpoel</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00143">tk::ExodusIIMeshReader::readNodes()</a>, <a class="el" href="_partitioner_8h_source.html#l01293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_setup_complete()</a>, and <a class="el" href="_container_util_8h_source.html#l00023">tk::unique()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00132">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::Partitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                                                      {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="comment">// Construct unique global mesh point indices of our chunk</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keyword">auto</span> gid = <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( gid );</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// Read node coordinates of our chunk of the mesh elements from file</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keyword">auto</span> ext = <a class="code" href="namespacetk.html#af0de4157a7818da7a9deb1476099bd8d">tk::extents</a>( gid );</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keyword">auto</span> coord = er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#a508d91525dae1488235ad461bb553738">readNodes</a>( ext );</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; x = std::get&lt; 0 &gt;( coord );</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; y = std::get&lt; 1 &gt;( coord );</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; z = std::get&lt; 2 &gt;( coord );</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="comment">// Make room for element centroid coordinates</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keyword">auto</span>&amp; cx = <a class="code" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a>[0];</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keyword">auto</span>&amp; cy = <a class="code" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a>[1];</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keyword">auto</span>&amp; cz = <a class="code" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a>[2];</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keyword">auto</span> num = <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>.size()/4;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      cx.resize( num );</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      cy.resize( num );</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      cz.resize( num );</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="comment">// Compute element centroids for our chunk of the mesh elements</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">for</span> (std::size_t e=0; e&lt;num; ++e) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keyword">auto</span> A = <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>[e*4+0] - ext[0];</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keyword">auto</span> B = <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>[e*4+1] - ext[0];</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keyword">auto</span> C = <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>[e*4+2] - ext[0];</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keyword">auto</span> D = <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>[e*4+3] - ext[0];</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        cx[e] = (x[A] + x[B] + x[C] + x[D]) / 4.0;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        cy[e] = (y[A] + y[B] + y[C] + y[D]) / 4.0;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        cz[e] = (z[A] + z[B] + z[C] + z[D]) / 4.0;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ac4ab604a020b38f400dd76d5e8ac044b">signal2host_setup_complete</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a> );</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a31c3fcb2ea50425934f476200ee90eb0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="namespacetk_html_af0de4157a7818da7a9deb1476099bd8d"><div class="ttname"><a href="namespacetk.html#af0de4157a7818da7a9deb1476099bd8d">tk::extents</a></div><div class="ttdeci">std::array&lt; T, 2 &gt; extents(const std::vector&lt; T &gt; &amp;vec)</div><div class="ttdoc">Return minimum and maximum values of a vector. </div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00069">ContainerUtil.h:69</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_a508d91525dae1488235ad461bb553738"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#a508d91525dae1488235ad461bb553738">tk::ExodusIIMeshReader::readNodes</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; readNodes(const std::array&lt; std::size_t, 2 &gt; &amp;ext) const</div><div class="ttdoc">Read coordinates of a number of mesh nodes from ExodusII file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00143">ExodusIIMeshReader.C:143</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a827c0aac430c4bf095ff2cb83020e3e5"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">inciter::Partitioner::m_centroid</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; m_centroid</div><div class="ttdoc">Element centroid coordinates of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00524">Partitioner.h:524</a></div></div>
<div class="ttc" id="namespacetk_html_a87af1b002bc711716bd170a714bda211"><div class="ttname"><a href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a></div><div class="ttdeci">void unique(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00023">ContainerUtil.h:23</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac4ab604a020b38f400dd76d5e8ac044b"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac4ab604a020b38f400dd76d5e8ac044b">inciter::Partitioner::signal2host_setup_complete</a></div><div class="ttdeci">void signal2host_setup_complete(const CProxy_Transporter &amp;host)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01293">Partitioner.h:1293</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ab7a5481b59ea393cbdd4807976d8c01b_cgraph.svg" width="416" height="210"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a65b34b277b10684b4461ac24232e8348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b34b277b10684b4461ac24232e8348">&#9670;&nbsp;</a></span>cost()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::cost </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute communication cost of linear system merging for our PE </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">l</td><td>Lower global row ID of linear system this PE works on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u</td><td>Upper global row ID of linear system this PE works on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Communication cost of merging the linear system for our PE</dd></dl>
<p>The cost is a real number between 0 and 1, defined as the number of mesh points we do not own, i.e., need to send to some other PE, divided by the total number of points we contribute to. The lower the better. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01195">1195</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01272">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_avecost()</a>.</p>
<div class="fragment"><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                            {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      std::size_t ownpts = 0, compts = 0;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>) <span class="keywordflow">if</span> (p &gt;= l &amp;&amp; p &lt; u) ++ownpts; <span class="keywordflow">else</span> ++compts;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;      <span class="comment">// Free storage of unique global node IDs chares on our PE will contribute</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="comment">// to in a linear system as it is no longer needed after computing the</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <span class="comment">// communication cost.</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( m_nodeset );</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a><span class="keyword">&gt;</span>(compts) /</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;             static_cast&lt;tk::real&gt;(ownpts + compts);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div><div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="namespacetk_html_a1a96ada94b7e2911ecca0a360f305575"><div class="ttname"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a></div><div class="ttdeci">double real</div><div class="ttdoc">Real number type used throughout the whole code. </div><div class="ttdef"><b>Definition:</b> <a href="_base_2_types_8h_source.html#l00016">Types.h:16</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a65b34b277b10684b4461ac24232e8348_cgraph.svg" width="286" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac226027f243f526becc2b0db46183c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac226027f243f526becc2b0db46183c1f">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create chare array elements on this PE and assign the global mesh element IDs they will operate on. </p>
<p>We create chare array elements by calling the insert() member function, which allows specifying the PE on which the array element is created and we send each chare array element the global mesh element connectivity, i.e., node IDs, it contributes to and the old-&gt;new node ID map. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01125">1125</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00768">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::chareDistribution()</a>, <a class="el" href="_partitioner_8h_source.html#l01142">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::createWorkers()</a>, and <a class="el" href="_partitioner_8h_source.html#l01272">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_avecost()</a>.</p>
<div class="fragment"><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                  {</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <span class="comment">// send progress report to host</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.pebounds();</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="comment">// Initiate asynchronous reduction across all Partitioner objects</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <span class="comment">// computing the average communication cost of merging the linear system</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a981a7e8f4a25f338eeb0c24de9b42af3">signal2host_avecost</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a> );</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="comment">// Create worker chare array elements</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aaeea316b5366c8e631d59f583253c703">createWorkers</a>( <a class="code" href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">chareDistribution</a>() );</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="comment">// Broadcast our bounds of global node IDs to all linear system mergers</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">m_linsysmerger</a>.bounds( CkMyPe(), <a class="code" href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">m_lower</a>, <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a> );</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a40cf1a1a9f97f48a74ba2602d5806635"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">inciter::Partitioner::chareDistribution</a></div><div class="ttdeci">std::array&lt; int, 2 &gt; chareDistribution() const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00768">Partitioner.h:768</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a981a7e8f4a25f338eeb0c24de9b42af3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a981a7e8f4a25f338eeb0c24de9b42af3">inciter::Partitioner::signal2host_avecost</a></div><div class="ttdeci">void signal2host_avecost(const CProxy_Transporter &amp;host)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01272">Partitioner.h:1272</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa956f1ecb03d8e814c2e473f754ed029"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">inciter::Partitioner::m_linsysmerger</a></div><div class="ttdeci">LinSysMergerProxy m_linsysmerger</div><div class="ttdoc">Linear system merger proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00496">Partitioner.h:496</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9b05bc57997b383b30712b9d76bdc99a"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00530">Partitioner.h:530</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aaeea316b5366c8e631d59f583253c703"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aaeea316b5366c8e631d59f583253c703">inciter::Partitioner::createWorkers</a></div><div class="ttdeci">void createWorkers(std::array&lt; int, 2 &gt; &amp;&amp;dist)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01142">Partitioner.h:1142</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7f5230df0e8c17d30201065ccf6221d3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00528">Partitioner.h:528</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ac226027f243f526becc2b0db46183c1f_cgraph.svg" width="100%" height="430"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aaeea316b5366c8e631d59f583253c703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeea316b5366c8e631d59f583253c703">&#9670;&nbsp;</a></span>createWorkers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::createWorkers </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; int, 2 &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>dist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create chare array elements on this PE </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dist</td><td>Pair of 'chunksize', i.e., number of chares per all PEs except the last one, and 'mynchare', i.e., the number of chares for my PE. See also <a class="el" href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">chareDistribution()</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01142">1142</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00037">tk::cref_find()</a>, and <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::create()</a>.</p>
<div class="fragment"><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                                    {</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;dist[1]; ++c) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// Compute chare ID</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keyword">auto</span> cid = CkMyPe() * dist[0] + c;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="comment">// Guard those searches that operate on empty containers in serial</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keyword">typename</span> decltype(<a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>)::mapped_type msum;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>.empty()) msum = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>, cid );</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keyword">typename</span> decltype(<a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>)::mapped_type edno;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>.empty()) edno = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>, cid );</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <span class="comment">// Create worker array element</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#ac76f49357e67f9e7c0b1f456d21a8ed0">m_worker</a>[ cid ].insert( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>,</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                <a class="code" href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">m_linsysmerger</a>,</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                <a class="code" href="classinciter_1_1_partitioner.html#a54b2ce444f845d1c6655b4389efaf118">m_particlewriter</a>,</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                                <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>, cid ),</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                msum,</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                                <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">m_chfilenodes</a>, cid ),</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                                edno,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                                <a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a>,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                                CkMyPe() );</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      }</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ac76f49357e67f9e7c0b1f456d21a8ed0">m_worker</a>.doneInserting();</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="comment">// Free storage for unique global mesh nodes chares on our PE will</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="comment">// contribute to in a linear system as no longer needed.</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a> );</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="comment">// Free storage for unique global mesh edges whose nodes chares on our</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="comment">// PE will contribute to in a linear system as no longer needed.</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a> );</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="comment">// Free storage of global mesh node ids associated to chares owned as it</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="comment">// is no longer needed after creating the workers.</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a> );</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="comment">// Free maps associating old node IDs to new node IDs categorized by</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="comment">// chares as it is no longer needed after creating the workers.</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">m_chfilenodes</a> );</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="comment">// Free map storing new node IDs associated to edges categorized by chares</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <span class="comment">// owned as no linger needed after creating workers.</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a> );</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// Free storage of map associating a set of chare IDs to old global mesh</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="comment">// node IDs as it is no longer needed after creating the workers.</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a> );</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="comment">// Free storage of global mesh node IDs associated to chare IDs bordering</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="comment">// the mesh chunk held by and associated to chare IDs we own as it is no</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">// longer needed after creating the workers.</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a> );</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ad5c299aa4a079c72ebebf13e2081a082"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">inciter::Partitioner::m_msum</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_msum</div><div class="ttdoc">Global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) cha...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00611">Partitioner.h:611</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0eff2536977f42de737bbb43c268c2d7"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00526">Partitioner.h:526</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8d26edc5f176f72832902794355ee351"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">inciter::Partitioner::m_nodechares</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; m_nodechares</div><div class="ttdoc">Map associating a set of chare IDs to old (as in file) global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00595">Partitioner.h:595</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa956f1ecb03d8e814c2e473f754ed029"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa956f1ecb03d8e814c2e473f754ed029">inciter::Partitioner::m_linsysmerger</a></div><div class="ttdeci">LinSysMergerProxy m_linsysmerger</div><div class="ttdoc">Linear system merger proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00496">Partitioner.h:496</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00037">ContainerUtil.h:37</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a40828decbbdc5cb63e1aae1bebca1e3d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">inciter::Partitioner::m_chedgenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::EdgeNodes &gt; m_chedgenodes</div><div class="ttdoc">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edge...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00588">Partitioner.h:588</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac76f49357e67f9e7c0b1f456d21a8ed0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac76f49357e67f9e7c0b1f456d21a8ed0">inciter::Partitioner::m_worker</a></div><div class="ttdeci">WorkerProxy m_worker</div><div class="ttdoc">Worker proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00494">Partitioner.h:494</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3d11df8f3650e32e2e220e549f1ac99f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">inciter::Partitioner::m_chfilenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chfilenodes</div><div class="ttdoc">Maps associating old node IDs to new node IDs (as in producing contiguous-row-id linear system contri...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00579">Partitioner.h:579</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a54b2ce444f845d1c6655b4389efaf118"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a54b2ce444f845d1c6655b4389efaf118">inciter::Partitioner::m_particlewriter</a></div><div class="ttdeci">ParticleWriterProxy m_particlewriter</div><div class="ttdoc">Particle writer proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00498">Partitioner.h:498</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_aaeea316b5366c8e631d59f583253c703_cgraph.svg" width="291" height="84"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a185498585cc11098213d97c4697753a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185498585cc11098213d97c4697753a6">&#9670;&nbsp;</a></span>distribute()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::distribute </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Distribute global mesh node IDs to their owner PEs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Global mesh node IDs connecting elements associated to chare IDs on this PE resulting from partitioning the mesh elements. Note that this data is moved in. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00730">730</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00768">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::chareDistribution()</a>, <a class="el" href="_partitioner_8h_source.html#l00839">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::pe()</a>, and <a class="el" href="_partitioner_8h_source.html#l01300">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_distributed()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>.</p>
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keyword">auto</span> dist = <a class="code" href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">chareDistribution</a>();</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;dist[1]; ++c) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keyword">auto</span> chid = CkMyPe() * dist[0] + c;   <span class="comment">// compute owned chare ID</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> it = n.find( chid );       <span class="comment">// attempt to find its nodes</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">if</span> (it != end(n)) {                   <span class="comment">// if found</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>.insert( *it );           <span class="comment">// move over owned key-value pairs</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          n.erase( it );                      <span class="comment">// remove chare ID and nodes</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( n.find(chid) == end(n), <span class="stringliteral">&quot;Not all owned node IDs stored&quot;</span> );</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="comment">// Construct export map associating those map entries (mesh node indices</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="comment">// associated to chare IDs) owned by chares we do not own. Outer key: PE</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="comment">// to export to, inner key: chare ID, value: vector of global node IDs</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      std::unordered_map&lt; int,</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &gt; exp;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; c : n) exp[ <a class="code" href="classinciter_1_1_partitioner.html#aa775578b088c73b4a01bd68325f12be9">pe</a>(c.first) ].insert( std::move(c) );</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="comment">// Export chare IDs and node IDs we do not own to fellow PEs</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">m_npe</a> = exp.size();</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : exp)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        Group::thisProxy[ p.first ].add( CkMyPe(), p.second );</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="comment">// send progress report to host</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.pedistributed();</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">m_npe</a> == 0) <a class="code" href="classinciter_1_1_partitioner.html#a508822ce5612b121b1f7904a670585dd">signal2host_distributed</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a> );</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a40cf1a1a9f97f48a74ba2602d5806635"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">inciter::Partitioner::chareDistribution</a></div><div class="ttdeci">std::array&lt; int, 2 &gt; chareDistribution() const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00768">Partitioner.h:768</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a508822ce5612b121b1f7904a670585dd"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a508822ce5612b121b1f7904a670585dd">inciter::Partitioner::signal2host_distributed</a></div><div class="ttdeci">void signal2host_distributed(const CProxy_Transporter &amp;host)</div><div class="ttdoc">Signal host that we are done our part of distributing mesh node IDs and we are ready for preparing (f...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01300">Partitioner.h:1300</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa00cdc54d2e07f7f9a1bc16239d28e61"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00500">Partitioner.h:500</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa775578b088c73b4a01bd68325f12be9"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa775578b088c73b4a01bd68325f12be9">inciter::Partitioner::pe</a></div><div class="ttdeci">int pe(int id) const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00839">Partitioner.h:839</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a185498585cc11098213d97c4697753a6_cgraph.svg" width="374" height="160"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a05668f4403664212aab300b588bec5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05668f4403664212aab300b588bec5f3">&#9670;&nbsp;</a></span>flatten()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare owned mesh node IDs for reordering</p>
<p>The 'flatten' is used here as a concatenation of a data structure that stores date categorized by chares owned on this PE. The result of the flattening is thus a simpler data structure that is no longer categorized by (or associated to) chares. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00293">293</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00768">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::chareDistribution()</a>, <a class="el" href="_partitioner_8h_source.html#l00588">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_chedgenodes</a>, <a class="el" href="_partitioner_8h_source.html#l00572">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_chinpoel</a>, <a class="el" href="_partitioner_8h_source.html#l00600">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgechares</a>, <a class="el" href="_partitioner_8h_source.html#l00562">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgeset</a>, <a class="el" href="_partitioner_8h_source.html#l00492">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</a>, <a class="el" href="_partitioner_8h_source.html#l00595">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodechares</a>, <a class="el" href="_partitioner_8h_source.html#l00559">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodeset</a>, <a class="el" href="_partitioner_8h_source.html#l00874">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::refine()</a>, <a class="el" href="_partitioner_8h_source.html#l01307">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_flattened()</a>, <a class="el" href="namespacetk_1_1ctr.html#ac34a455520d5d65813dd3078a55f06c6a891f35a29c3d51d02ffd42dd6dcc69b2">tk::ctr::UNIFORM</a>, and <a class="el" href="_container_util_8h_source.html#l00023">tk::unique()</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                   {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="comment">// Optionally refine mesh if requested</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> ir = <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1selected.html">tag::selected</a>, <a class="code" href="structtag_1_1initialamr.html">tag::initialamr</a> &gt;();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">if</span> (ir == <a class="code" href="namespacetk_1_1ctr.html#ac34a455520d5d65813dd3078a55f06c6a891f35a29c3d51d02ffd42dd6dcc69b2">tk::ctr::InitialAMRType::UNIFORM</a>) <a class="code" href="classinciter_1_1_partitioner.html#a9f97d387576f6a8ce282a69e52314939">refine</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">// Make sure we are not fed garbage</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>.size() ==</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keyword">static_cast&lt;</span> std::size_t <span class="keyword">&gt;</span>( <a class="code" href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">chareDistribution</a>()[1] ),</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;              <span class="stringliteral">&quot;Global mesh nodes ids associated to chares on PE &quot;</span> +</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;              std::to_string( CkMyPe() ) + <span class="stringliteral">&quot; is incomplete&quot;</span> );</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// Collect chare IDs we own associated to old global mesh node IDs</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : c.second)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a>[p].push_back( c.first );</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="comment">// Make chare IDs (associated to old global mesh node IDs) unique</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a>) <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( c.second );</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="comment">// Collect chare IDs we own associated to edges</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : c.second)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a>[ e.first ].push_back( c.first );</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="comment">// Make chare IDs (associated to edges) unique</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a>) <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( c.second );</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// Flatten node IDs of elements our chares operate on</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : m_chinpoel)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : c.second)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>.insert( i );</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">// Flatten edges of elements our chares operate on</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : m_chedgenodes)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : c.second)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>.insert( e.first );</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// send progress report to host</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.peflattened();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// Signal host that we are ready for computing the communication map,</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// required for parallel distributed global mesh node reordering</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ac5246c046259db3dd3cedc168b4cb9c4">signal2host_flattened</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a> );</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a40cf1a1a9f97f48a74ba2602d5806635"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40cf1a1a9f97f48a74ba2602d5806635">inciter::Partitioner::chareDistribution</a></div><div class="ttdeci">std::array&lt; int, 2 &gt; chareDistribution() const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00768">Partitioner.h:768</a></div></div>
<div class="ttc" id="structtag_1_1initialamr_html"><div class="ttname"><a href="structtag_1_1initialamr.html">tag::initialamr</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00070">Tags.h:70</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aea771aec1570abf9abfe300ea2d0de34"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">inciter::Partitioner::m_edgechares</a></div><div class="ttdeci">tk::UnsMesh::EdgeChares m_edgechares</div><div class="ttdoc">Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file) ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00600">Partitioner.h:600</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8d26edc5f176f72832902794355ee351"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">inciter::Partitioner::m_nodechares</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; m_nodechares</div><div class="ttdoc">Map associating a set of chare IDs to old (as in file) global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00595">Partitioner.h:595</a></div></div>
<div class="ttc" id="namespacetk_html_a87af1b002bc711716bd170a714bda211"><div class="ttname"><a href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a></div><div class="ttdeci">void unique(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00023">ContainerUtil.h:23</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a40828decbbdc5cb63e1aae1bebca1e3d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">inciter::Partitioner::m_chedgenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::EdgeNodes &gt; m_chedgenodes</div><div class="ttdoc">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edge...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00588">Partitioner.h:588</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="namespacetk_1_1ctr_html_ac34a455520d5d65813dd3078a55f06c6a891f35a29c3d51d02ffd42dd6dcc69b2"><div class="ttname"><a href="namespacetk_1_1ctr.html#ac34a455520d5d65813dd3078a55f06c6a891f35a29c3d51d02ffd42dd6dcc69b2">tk::ctr::InitialAMRType::UNIFORM</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9f97d387576f6a8ce282a69e52314939"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9f97d387576f6a8ce282a69e52314939">inciter::Partitioner::refine</a></div><div class="ttdeci">void refine()</div><div class="ttdoc">Uniformly refine our mesh replacing each tetrahedron with 8 new ones. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00874">Partitioner.h:874</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="structtag_1_1selected_html"><div class="ttname"><a href="structtag_1_1selected.html">tag::selected</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00126">Tags.h:126</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac5246c046259db3dd3cedc168b4cb9c4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac5246c046259db3dd3cedc168b4cb9c4">inciter::Partitioner::signal2host_flattened</a></div><div class="ttdeci">void signal2host_flattened(const CProxy_Transporter &amp;host)</div><div class="ttdoc">Signal host that we are ready for computing the communication map, required for parallel distributed ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01307">Partitioner.h:1307</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a05668f4403664212aab300b588bec5f3_cgraph.svg" width="587" height="227"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8fba6264b623859b6fae8836ceb430e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fba6264b623859b6fae8836ceb430e9">&#9670;&nbsp;</a></span>gather()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::gather </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start gathering global node IDs this PE will need to receive (instead of assign) during reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00348">348</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00562">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgeset</a>, and <a class="el" href="_partitioner_8h_source.html#l00559">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodeset</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{ Group::thisProxy.query( CkMyPe(), <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>, <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a> ); }</div><div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8917c2adfa0e4be3f4c7fd3391242eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8917c2adfa0e4be3f4c7fd3391242eb3">&#9670;&nbsp;</a></span>lower()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::lower </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>low</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive lower bound of node IDs our PE operates on after reordering </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">low</td><td>Lower bound of node IDs assigned to us </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00332">332</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00528">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_lower</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01087">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::bounds()</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">m_lower</a> = low;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      lower_complete();</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a7f5230df0e8c17d30201065ccf6221d3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00528">Partitioner.h:528</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d6246a8ecd89e5410c68f359cf9863f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6246a8ecd89e5410c68f359cf9863f">&#9670;&nbsp;</a></span>mask()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>cn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtk_1_1_uns_mesh.html#a11a7aae0f8c2d3292b9b7e3f5ea50c9c">tk::UnsMesh::EdgeChares</a> &amp;&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive mask of to-be-received global mesh node IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The PE uniquely assigns the node IDs marked listed in ch </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cn</td><td>Vector containing the set of potentially multiple chare IDs that we own (i.e., contribute to) for all of our node IDs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ce</td><td>Map associating a vector of chare IDs to edges (at which we added nodes during initial mesh refinement)</td></tr>
  </table>
  </dd>
</dl>
<p>Note that every PE will call this function, since <a class="el" href="classinciter_1_1_partitioner.html#a8ecd1c7584c9a18af198776f9f1f2e8a" title="Query our global node IDs and edges by other PEs so they know if they are to receive IDs for those fr...">query()</a> was called in a broadcast fashion and <a class="el" href="classinciter_1_1_partitioner.html#a8ecd1c7584c9a18af198776f9f1f2e8a" title="Query our global node IDs and edges by other PEs so they know if they are to receive IDs for those fr...">query()</a> answers to every PE once. This is more efficient than calling only the PEs from which we would have to receive results from. Thus the incoming results are only interesting from PEs with lower IDs than ours. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00398">398</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>, <a class="el" href="_partitioner_8h_source.html#l00542">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ecomm</a>, <a class="el" href="_partitioner_8h_source.html#l00556">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ecommunication</a>, <a class="el" href="_partitioner_8h_source.html#l00600">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgechares</a>, <a class="el" href="_partitioner_8h_source.html#l00562">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgeset</a>, <a class="el" href="_partitioner_8h_source.html#l00492">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</a>, <a class="el" href="_partitioner_8h_source.html#l00611">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_msum</a>, <a class="el" href="_partitioner_8h_source.html#l00623">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_msumed</a>, <a class="el" href="_partitioner_8h_source.html#l00536">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ncomm</a>, <a class="el" href="_partitioner_8h_source.html#l00549">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ncommunication</a>, <a class="el" href="_partitioner_8h_source.html#l00595">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodechares</a>, <a class="el" href="_partitioner_8h_source.html#l00559">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodeset</a>, <a class="el" href="_partitioner_8h_source.html#l00518">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nquery</a>, and <a class="el" href="_container_util_8h_source.html#l00053">tk::ref_find()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="comment">// Store the old global mesh node IDs associated to chare IDs bordering</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="comment">// the mesh chunk held by and associated to chare IDs we own</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; h : cn) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; chares = <a class="code" href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a>, h.first );</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : chares) {           <span class="comment">// surrounded chares</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          <span class="keyword">auto</span>&amp; sch = <a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>[c];</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : h.second)         <span class="comment">// surrounding chares</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span> (s != c) sch[ s ].insert( h.first );</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="comment">// Store the edges associated to chare IDs bordering the mesh chunk held</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="comment">// by and associated to chare IDs we own</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; h : ce) {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; chares = <a class="code" href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a>, h.first );</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : chares) {           <span class="comment">// surrounded chares</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          <span class="keyword">auto</span>&amp; sch = <a class="code" href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">m_msumed</a>[c];</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> s : h.second)         <span class="comment">// surrounding chares</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">if</span> (s != c) sch[ s ].insert( h.first );</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">// Associate global mesh node IDs to lower PEs we will need to receive</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="comment">// from during node reordering. The choice of associated container is</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="comment">// std::map, which is ordered (vs. unordered, hash-map). This is required</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="comment">// by the following operation that makes the mesh node IDs unique in the</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="comment">// communication map. (We are called in an unordered fashion, so we need</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="comment">// to collect from all PEs and then we need to make the node IDs unique,</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="comment">// keeping only the lowest PEs a node ID is associated with.)</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">if</span> (p &lt; CkMyPe()) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keyword">auto</span>&amp; <span class="keywordtype">id</span> = <a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>[ p ];</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; h : cn) <span class="keywordtype">id</span>.insert( h.first );</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keyword">auto</span>&amp; ed = <a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>[ p ];</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; h : ce) ed.insert( h.first );</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">if</span> (++<a class="code" href="classinciter_1_1_partitioner.html#a2802464f5cf446e49736791627cc82b6">m_nquery</a> == static_cast&lt;std::size_t&gt;(CkNumPes())) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="comment">// Make sure we have received all we need</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>.size() == <span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(CkMyPe()),</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="stringliteral">&quot;Communication map size on PE &quot;</span> +</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                std::to_string(CkMyPe()) + <span class="stringliteral">&quot; must equal &quot;</span> +</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                std::to_string(CkMyPe()) );</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>.size() == <span class="keyword">static_cast&lt;</span>std::size_t<span class="keyword">&gt;</span>(CkMyPe()),</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="stringliteral">&quot;Communication map size on PE &quot;</span> +</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                std::to_string(CkMyPe()) + <span class="stringliteral">&quot; must equal &quot;</span> +</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                std::to_string(CkMyPe()) );</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="comment">// Fill new hash-map, keeping only unique node IDs obtained from the</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// lowest possible PEs</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c=<a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>.cbegin(); c!=<a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>.cend(); ++c) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          <span class="keyword">auto</span>&amp; n = <a class="code" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a>[ c-&gt;first ];</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span> j : c-&gt;second)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">if</span> (std::none_of( <a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>.cbegin(), c,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                 [ j ]( <span class="keyword">const</span> <span class="keyword">typename</span> decltype(<a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a>)::value_type&amp; s )</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                 { <span class="keywordflow">return</span> s.second.find(j) != end(s.second); } )) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;              n.insert(j);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          <span class="keywordflow">if</span> (n.empty()) <a class="code" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a>.erase( c-&gt;first );</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c=<a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>.cbegin(); c!=<a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>.cend(); ++c) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          <span class="keyword">auto</span>&amp; e = <a class="code" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a>[ c-&gt;first ];</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; j : c-&gt;second)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> (std::none_of( <a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>.cbegin(), c,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                 [ &amp;j ]( <span class="keyword">const</span> <span class="keyword">typename</span> decltype(<a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a>)::value_type&amp; s )</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                 { <span class="keywordflow">return</span> s.second.find(j) != end(s.second); } )) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;              e.insert(j);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <span class="keywordflow">if</span> (e.empty()) <a class="code" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a>.erase( c-&gt;first );</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="comment">// Free storage of temporary communication map used to receive global</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// mesh node IDs as it is no longer needed once the final communication</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// map is generated.</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">m_ncomm</a> );</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="comment">// Free storage of temporary communication map used to receive global</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="comment">// mesh edge-node IDs as it is no longer needed once the final</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">// communication map is generated.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">m_ecomm</a> );</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">// Count up total number of nodes and (nodes associated to edges) we</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">// will need receive during reordering</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        std::size_t nrecv = 0, erecv = 0;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; u : <a class="code" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a>) nrecv += u.second.size();</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : <a class="code" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a>) erecv += e.second.size();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">// send progress report to host</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.pemask();</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="comment">// Compute number of mesh node IDs we will assign IDs to</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keyword">auto</span> nuniq = <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>.size() - nrecv + <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>.size() - erecv;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">// Start computing PE offsets for node reordering</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        Group::thisProxy.offset( CkMyPe(), nuniq );</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a601b31c536569707303052511f2bcf9c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a601b31c536569707303052511f2bcf9c">inciter::Partitioner::m_ncomm</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_ncomm</div><div class="ttdoc">Temporary communication map used to receive global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00536">Partitioner.h:536</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0c5f5b0de8ff6ffea0fb68d7e122a147"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">inciter::Partitioner::m_msumed</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; &gt; m_msumed</div><div class="ttdoc">Mesh edges given by two global mesh node IDs associated to chare IDs bordering the mesh chunk held by...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00623">Partitioner.h:623</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad5c299aa4a079c72ebebf13e2081a082"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">inciter::Partitioner::m_msum</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_msum</div><div class="ttdoc">Global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) cha...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00611">Partitioner.h:611</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1b731e31a69666832b534c6660fa259"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">inciter::Partitioner::m_ecommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; m_ecommunication</div><div class="ttdoc">Communication map used for distributed mesh edge-node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00556">Partitioner.h:556</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a2802464f5cf446e49736791627cc82b6"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a2802464f5cf446e49736791627cc82b6">inciter::Partitioner::m_nquery</a></div><div class="ttdeci">std::size_t m_nquery</div><div class="ttdoc">Counter for number of masks of to-be-received global mesh node IDs received. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00518">Partitioner.h:518</a></div></div>
<div class="ttc" id="namespacetk_html_ab2aac5f0fd93d5119cfe50a39f3515c9"><div class="ttname"><a href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a></div><div class="ttdeci">auto ref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00053">ContainerUtil.h:53</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aea771aec1570abf9abfe300ea2d0de34"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">inciter::Partitioner::m_edgechares</a></div><div class="ttdeci">tk::UnsMesh::EdgeChares m_edgechares</div><div class="ttdoc">Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file) ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00600">Partitioner.h:600</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8d26edc5f176f72832902794355ee351"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">inciter::Partitioner::m_nodechares</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; m_nodechares</div><div class="ttdoc">Map associating a set of chare IDs to old (as in file) global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00595">Partitioner.h:595</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0563272f10823691e8733132cb371d67"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0563272f10823691e8733132cb371d67">inciter::Partitioner::m_ecomm</a></div><div class="ttdeci">std::map&lt; int, tk::UnsMesh::Edges &gt; m_ecomm</div><div class="ttdoc">Temporary communication map used to receive global mesh edges. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00542">Partitioner.h:542</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a16ae92f5c732dbd255ee0e99548439cf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">inciter::Partitioner::m_ncommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_ncommunication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00549">Partitioner.h:549</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a0d6246a8ecd89e5410c68f359cf9863f_cgraph.svg" width="430" height="84"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a46496f1ad6de9a11149ec0b63ed22cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46496f1ad6de9a11149ec0b63ed22cc1">&#9670;&nbsp;</a></span>neworder() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::neworder </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_map&lt; std::size_t, std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>nd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive new (reordered) global node IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nd</td><td>Map associating new to old node IDs </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00249">249</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00566">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_linnodes</a>, and <a class="el" href="_partitioner_8h_source.html#l00559">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodeset</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                                                        {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">// Signal to the runtime system that we have participated in reordering</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      participated_complete();</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="comment">// Store new node IDs associated to old ones</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : nd) <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>[ p.first ] = p.second;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="comment">// If all our nodes have new IDs assigned, signal that to the runtime</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>.size() == <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>.size()) nodesreorder_complete();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a6a5e73f1abb4a1db8585567670b0a0e3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">inciter::Partitioner::m_linnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_linnodes</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00566">Partitioner.h:566</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50666ca6a9687d209d3ae05514fa6d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50666ca6a9687d209d3ae05514fa6d9e">&#9670;&nbsp;</a></span>neworder() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::neworder </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> &amp;&#160;</td>
          <td class="paramname"><em>ed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive new global node IDs associated to edge-nodes </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ed</td><td>Map associating node IDs to edges </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00260">260</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00562">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgeset</a>, and <a class="el" href="_partitioner_8h_source.html#l00570">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_linedges</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                                  {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// Signal to the runtime system that we have participated in reordering</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      participated_complete();</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// Store node IDs associated to edge</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : ed) <a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>[ e.first ] = e.second;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// If all our edges have new IDs assigned, signal that to the runtime</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>.size() == <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>.size()) edgesreorder_complete();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a4ed35d875ea3e96de7e19647c018adb4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">inciter::Partitioner::m_linedges</a></div><div class="ttdeci">tk::UnsMesh::EdgeNodes m_linedges</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00570">Partitioner.h:570</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac01e1e9f756ddfad9e76a8890c77f9e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac01e1e9f756ddfad9e76a8890c77f9e0">&#9670;&nbsp;</a></span>offset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::offset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive number of uniquely assigned global mesh node IDs from lower PEs</p>
<p>This function computes the offset each PE will need to start assigning its new node IDs from (for those nodes that are not assigned new IDs by any PEs with lower indices). The offset for a PE is the offset for the previous PE plus the number of node IDs the previous PE (uniquely) assigns new IDs for minus the number of node IDs the previous PE receives from others (lower PEs). This is computed here in a parallel/distributed fashion by each PE sending its number of node IDs (that it uniquely assigns) to all PEs. Note that each PE would only need to send this information to higher PEs, but instead this function is called in a broadcast fashion, because that is more efficient than individual calls to only the higher PEs. Therefore when computing the offsets, we only count the lower PEs. When this is done, we have the precise communication map as well as the start offset on all PEs and so we can start the distributed global mesh node ID reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00222">222</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00512">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_noffset</a>, <a class="el" href="_partitioner_8h_source.html#l00507">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_start</a>, and <a class="el" href="_partitioner_8h_source.html#l00776">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::reorder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                      {</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">if</span> (p &lt; CkMyPe()) <a class="code" href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">m_start</a> += u;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">if</span> (++<a class="code" href="classinciter_1_1_partitioner.html#a570d536f4f2b5cdf16e956031257c3b4">m_noffset</a> == static_cast&lt;std::size_t&gt;(CkNumPes())) <a class="code" href="classinciter_1_1_partitioner.html#a9661927000d6711f85b62291cd11cf20">reorder</a>();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a9661927000d6711f85b62291cd11cf20"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9661927000d6711f85b62291cd11cf20">inciter::Partitioner::reorder</a></div><div class="ttdeci">void reorder()</div><div class="ttdoc">Reorder global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00776">Partitioner.h:776</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a570d536f4f2b5cdf16e956031257c3b4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a570d536f4f2b5cdf16e956031257c3b4">inciter::Partitioner::m_noffset</a></div><div class="ttdeci">std::size_t m_noffset</div><div class="ttdoc">Counter for number of offsets. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00512">Partitioner.h:512</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8ed04cf114715da1ca8c3a334375306e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">inciter::Partitioner::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this PE during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00507">Partitioner.h:507</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ac01e1e9f756ddfad9e76a8890c77f9e0_cgraph.svg" width="331" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae3ed3453c8fa58cd339740c59f0aeb54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3ed3453c8fa58cd339740c59f0aeb54">&#9670;&nbsp;</a></span>partition()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nchare</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Partition the computational mesh </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nchare</td><td>Number of parts the mesh will be partitioned into </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00185">185</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_partitioner_8h_source.html#l00692">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::chareNodes()</a>, <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>, <a class="el" href="_partitioner_8h_source.html#l00730">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::distribute()</a>, <a class="el" href="_zoltan_inter_op_8_c_source.html#l00101">tk::zoltan::geomPartMesh()</a>, <a class="el" href="_partitioner_8h_source.html#l00524">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_centroid</a>, <a class="el" href="_partitioner_8h_source.html#l00522">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_gelemid</a>, <a class="el" href="_partitioner_8h_source.html#l00492">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</a>, <a class="el" href="_partitioner_8h_source.html#l00526">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nchare</a>, and <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_tetinpoel</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                 {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a> = nchare;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> alg = <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1selected.html">tag::selected</a>, <a class="code" href="structtag_1_1partitioner.html">tag::partitioner</a> &gt;();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> che = <a class="code" href="namespacetk_1_1zoltan.html#af211161a3f36764997bb32651484e597">tk::zoltan::geomPartMesh</a>( alg,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                                 <a class="code" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a>,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                                 <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                                 <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>.size()/4,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                                 nchare );</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="comment">// send progress report to host</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.pepartitioned();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( che.size() == <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>.size(), <span class="stringliteral">&quot;Size of ownership array does &quot;</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;              <span class="stringliteral">&quot;not equal the number of mesh graph elements&quot;</span> );</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// Construct global mesh node ids for each chare and distribute</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a185498585cc11098213d97c4697753a6">distribute</a>( <a class="code" href="classinciter_1_1_partitioner.html#adfa8e1e70659b60b808e966ecc076b13">chareNodes</a>(che) );</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="comment">// Free storage of element connectivity, element centroids, and element</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="comment">// IDs as they are no longer needed after the mesh partitioning.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a> );</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">m_centroid</a> );</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a31c3fcb2ea50425934f476200ee90eb0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a94fec1e897a9b1927db3c91335d31b6f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; long &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00522">Partitioner.h:522</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0eff2536977f42de737bbb43c268c2d7"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00526">Partitioner.h:526</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a827c0aac430c4bf095ff2cb83020e3e5"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a827c0aac430c4bf095ff2cb83020e3e5">inciter::Partitioner::m_centroid</a></div><div class="ttdeci">std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; m_centroid</div><div class="ttdoc">Element centroid coordinates of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00524">Partitioner.h:524</a></div></div>
<div class="ttc" id="namespacetk_1_1zoltan_html_af211161a3f36764997bb32651484e597"><div class="ttname"><a href="namespacetk_1_1zoltan.html#af211161a3f36764997bb32651484e597">tk::zoltan::geomPartMesh</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; geomPartMesh(tk::ctr::PartitioningAlgorithmType algorithm, const std::array&lt; std::vector&lt; tk::real &gt;, 3 &gt; &amp;centroid, const std::vector&lt; long &gt; &amp;elemid, std::size_t nelem, int npart)</div><div class="ttdoc">Partition mesh using Zoltan2 with a geometric partitioner, such as RCB, RIB. </div><div class="ttdef"><b>Definition:</b> <a href="_zoltan_inter_op_8_c_source.html#l00101">ZoltanInterOp.C:101</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="structtag_1_1selected_html"><div class="ttname"><a href="structtag_1_1selected.html">tag::selected</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00126">Tags.h:126</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_adfa8e1e70659b60b808e966ecc076b13"><div class="ttname"><a href="classinciter_1_1_partitioner.html#adfa8e1e70659b60b808e966ecc076b13">inciter::Partitioner::chareNodes</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; chareNodes(const std::vector&lt; std::size_t &gt; &amp;che) const</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00692">Partitioner.h:692</a></div></div>
<div class="ttc" id="structtag_1_1partitioner_html"><div class="ttname"><a href="structtag_1_1partitioner.html">tag::partitioner</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00069">Tags.h:69</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a185498585cc11098213d97c4697753a6"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a185498585cc11098213d97c4697753a6">inciter::Partitioner::distribute</a></div><div class="ttdeci">void distribute(std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&amp;n)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00730">Partitioner.h:730</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ae3ed3453c8fa58cd339740c59f0aeb54_cgraph.svg" width="603" height="216"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa775578b088c73b4a01bd68325f12be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa775578b088c73b4a01bd68325f12be9">&#9670;&nbsp;</a></span>pe()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::pe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return processing element for chare id </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Chare id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PE that creates the chare</dd></dl>
<p>This is computed based on a simple contiguous linear distribution of chare ids to PEs. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00839">839</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00272">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::add()</a>, and <a class="el" href="_partitioner_8h_source.html#l00730">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::distribute()</a>.</p>
<div class="fragment"><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                           {</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a> &gt; 0, <span class="stringliteral">&quot;Number of chares must be a positive number&quot;</span> );</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keyword">auto</span> p = <span class="keywordtype">id</span> / (<a class="code" href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">m_nchare</a> / CkNumPes());</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <span class="keywordflow">if</span> (p &gt;= CkNumPes()) p = CkNumPes()-1;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( p &lt; CkNumPes(), <span class="stringliteral">&quot;Assigning to nonexistent PE&quot;</span> );</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">return</span> p;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a0eff2536977f42de737bbb43c268c2d7"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0eff2536977f42de737bbb43c268c2d7">inciter::Partitioner::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of chares across all PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00526">Partitioner.h:526</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5a7a1017edc868a556ebd0a7e2217e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5a7a1017edc868a556ebd0a7e2217e3">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Associate new node IDs to old ones and return them to the requestor(s) </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00848">848</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00037">tk::cref_find()</a>, and <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                   {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="comment">// Signal to the runtime system that we have participated in reordering</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      participated_complete();</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="comment">// Find and return new node IDs to sender</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; r : <a class="code" href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">m_reqNodes</a>) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        std::unordered_map&lt; std::size_t, std::size_t &gt; n;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : r.second) n[ p ] = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>, p );</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        Group::thisProxy[ r.first ].neworder( n );</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( n );</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( m_reqNodes ); <span class="comment">// Clear queue of requests just fulfilled</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      <span class="comment">// Find and return new node IDs associated to edges to sender</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; r : <a class="code" href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">m_reqEdges</a>) {</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <a class="code" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> n;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : r.second) n[ e ] = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>, e );</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        Group::thisProxy[ r.first ].neworder( n );</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( n );</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( m_reqEdges ); <span class="comment">// Clear queue of requests just fulfilled</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      wait4prep();      <span class="comment">// Re-enable SDAG wait for preparing new node requests</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="comment">// Re-enable trigger signaling that reordering of owned node IDs are</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="comment">// complete right away</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      reorderowned_complete();</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a4cdfb6686511fedd220822ceb6e3495e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">inciter::Partitioner::m_reqNodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqNodes</div><div class="ttdoc">Queue of requested node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00502">Partitioner.h:502</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a4ed35d875ea3e96de7e19647c018adb4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">inciter::Partitioner::m_linedges</a></div><div class="ttdeci">tk::UnsMesh::EdgeNodes m_linedges</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00570">Partitioner.h:570</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00037">ContainerUtil.h:37</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a6a5e73f1abb4a1db8585567670b0a0e3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">inciter::Partitioner::m_linnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_linnodes</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00566">Partitioner.h:566</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a0f683ab8ccce654b75de6e9220189a63"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">inciter::Partitioner::m_reqEdges</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, tk::UnsMesh::Edges &gt; &gt; m_reqEdges</div><div class="ttdoc">Queue of requested edge-node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00504">Partitioner.h:504</a></div></div>
<div class="ttc" id="classtk_1_1_uns_mesh_html_a839b6c15c42461bb067924eb8fb95b42"><div class="ttname"><a href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a></div><div class="ttdeci">std::unordered_map&lt; Edge, std::size_t, EdgeHash, EdgeEq &gt; EdgeNodes</div><div class="ttdoc">Map associating IDs of mesh nodes to edges. </div><div class="ttdef"><b>Definition:</b> <a href="_uns_mesh_8h_source.html#l00047">UnsMesh.h:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ac5a7a1017edc868a556ebd0a7e2217e3_cgraph.svg" width="291" height="84"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8ecd1c7584c9a18af198776f9f1f2e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ecd1c7584c9a18af198776f9f1f2e8a">&#9670;&nbsp;</a></span>query()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::query </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &amp;&#160;</td>
          <td class="paramname"><em>edges</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query our global node IDs and edges by other PEs so they know if they are to receive IDs for those from during reordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Querying PE </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nodes</td><td>List of global mesh node IDs to query </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">edges</td><td>List of edges to query</td></tr>
  </table>
  </dd>
</dl>
<p>Note that every PE calls this function in a broadcast fashion, including our own. However, to compute the correct result, this would only be necessary for PEs whose ID is higher than ours. However, the broadcast (calling everyone) is more efficient. This also results in a simpler logic, because every PE goes through this single call path. The returned mask is simply a boolean array signaling if the node ID is found (owned). </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00362">362</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00037">tk::cref_find()</a>, <a class="el" href="_partitioner_8h_source.html#l00600">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgechares</a>, <a class="el" href="_partitioner_8h_source.html#l00562">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgeset</a>, <a class="el" href="_partitioner_8h_source.html#l00595">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodechares</a>, and <a class="el" href="_partitioner_8h_source.html#l00559">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodeset</a>.</p>
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; cn;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> j : nodes) {</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>.find( j );</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span> (it != end(<a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>)) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span>&amp; c = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a>, j );</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;          <span class="keyword">auto</span>&amp; chares = cn[j];</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;          chares.insert( end(chares), begin(c), end(c) );</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <a class="code" href="classtk_1_1_uns_mesh.html#a11a7aae0f8c2d3292b9b7e3f5ea50c9c">tk::UnsMesh::EdgeChares</a> ce;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> j : edges) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>.find( j );</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> (it != end(<a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>)) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span>&amp; c = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a>, j );</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;          <span class="keyword">auto</span>&amp; chares = ce[j];</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          chares.insert( end(chares), begin(c), end(c) );</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      Group::thisProxy[ p ].mask( CkMyPe(), cn, ce );</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_aea771aec1570abf9abfe300ea2d0de34"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">inciter::Partitioner::m_edgechares</a></div><div class="ttdeci">tk::UnsMesh::EdgeChares m_edgechares</div><div class="ttdoc">Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file) ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00600">Partitioner.h:600</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8d26edc5f176f72832902794355ee351"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">inciter::Partitioner::m_nodechares</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; m_nodechares</div><div class="ttdoc">Map associating a set of chare IDs to old (as in file) global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00595">Partitioner.h:595</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00037">ContainerUtil.h:37</a></div></div>
<div class="ttc" id="classtk_1_1_uns_mesh_html_a11a7aae0f8c2d3292b9b7e3f5ea50c9c"><div class="ttname"><a href="classtk_1_1_uns_mesh.html#a11a7aae0f8c2d3292b9b7e3f5ea50c9c">tk::UnsMesh::EdgeChares</a></div><div class="ttdeci">std::unordered_map&lt; Edge, std::vector&lt; int &gt;, EdgeHash, EdgeEq &gt; EdgeChares</div><div class="ttdef"><b>Definition:</b> <a href="_uns_mesh_8h_source.html#l00051">UnsMesh.h:51</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a8ecd1c7584c9a18af198776f9f1f2e8a_cgraph.svg" width="291" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aef3299fd19deb0ee0808f550c53da0b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef3299fd19deb0ee0808f550c53da0b5">&#9670;&nbsp;</a></span>readGraph()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::readGraph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtk_1_1_exodus_i_i_mesh_reader.html">tk::ExodusIIMeshReader</a> &amp;&#160;</td>
          <td class="paramname"><em>er</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read our contiguously-numbered chunk of the mesh graph from file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">er</td><td>ExodusII mesh reader </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00627">627</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00520">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_tetinpoel</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00429">tk::ExodusIIMeshReader::nelem()</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00166">tk::ExodusIIMeshReader::readElemBlockIDs()</a>, <a class="el" href="_exodus_i_i_mesh_reader_8_c_source.html#l00266">tk::ExodusIIMeshReader::readElements()</a>, <a class="el" href="_partitioner_8h_source.html#l01263">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_graph_complete()</a>, and <a class="el" href="_gmsh_mesh_i_o_8h_source.html#l00017">tk::TET</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00132">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::Partitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                               {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">// Get number of mesh points and number of tetrahedron elements in file</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#afe8144814a95bbb94d87e04091042918">readElemBlockIDs</a>();</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keyword">auto</span> nel = er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#aa5dac77b5c3139795822df7ab406fff5">nelem</a>( <a class="code" href="namespacetk.html#a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1">tk::ExoElemType::TET</a> );</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="comment">// Read our contiguously-numbered chunk of tetrahedron element</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="comment">// connectivity from file and also generate and store the list of global</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="comment">// element indices for our chunk of the mesh</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keyword">auto</span> npes = <span class="keyword">static_cast&lt;</span> std::size_t <span class="keyword">&gt;</span>( CkNumPes() );</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keyword">auto</span> mype = <span class="keyword">static_cast&lt;</span> std::size_t <span class="keyword">&gt;</span>( CkMyPe() );</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keyword">auto</span> chunk = nel / npes;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keyword">auto</span> from = mype * chunk;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keyword">auto</span> till = from + chunk;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">if</span> (mype == npes-1) till += nel % npes;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      er.<a class="code" href="classtk_1_1_exodus_i_i_mesh_reader.html#a959295e71f5409dc16222ed4caed939d">readElements</a>( {{from, till-1}}, <a class="code" href="namespacetk.html#a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1">tk::ExoElemType::TET</a>, <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a> );</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>.resize( till-from );</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      std::iota( begin(<a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>), end(<a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>), from );</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="comment">// send progress report to host</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.pegraph();</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a9278f146c405108daff1a6cc6a1324b5">signal2host_graph_complete</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>, <a class="code" href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">m_gelemid</a>.size() );</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a31c3fcb2ea50425934f476200ee90eb0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="namespacetk_html_a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1"><div class="ttname"><a href="namespacetk.html#a85016961456a798f65e4e5a451e44242a07275767cefe376134a81905435410c1">tk::TET</a></div><div class="ttdef"><b>Definition:</b> <a href="_gmsh_mesh_i_o_8h_source.html#l00017">GmshMeshIO.h:17</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a94fec1e897a9b1927db3c91335d31b6f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a94fec1e897a9b1927db3c91335d31b6f">inciter::Partitioner::m_gelemid</a></div><div class="ttdeci">std::vector&lt; long &gt; m_gelemid</div><div class="ttdoc">Global element IDs we read (our chunk of the mesh) </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00522">Partitioner.h:522</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_a959295e71f5409dc16222ed4caed939d"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#a959295e71f5409dc16222ed4caed939d">tk::ExodusIIMeshReader::readElements</a></div><div class="ttdeci">void readElements(const std::array&lt; std::size_t, 2 &gt; &amp;extent, tk::ExoElemType elemtype, std::vector&lt; std::size_t &gt; &amp;conn) const</div><div class="ttdoc">Read element connectivity of a number of mesh cells from file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00266">ExodusIIMeshReader.C:266</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_aa5dac77b5c3139795822df7ab406fff5"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#aa5dac77b5c3139795822df7ab406fff5">tk::ExodusIIMeshReader::nelem</a></div><div class="ttdeci">std::size_t nelem(tk::ExoElemType elemtype) const</div><div class="ttdoc">Return number of elements in a mesh block in the ExodusII file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00429">ExodusIIMeshReader.C:429</a></div></div>
<div class="ttc" id="classtk_1_1_exodus_i_i_mesh_reader_html_afe8144814a95bbb94d87e04091042918"><div class="ttname"><a href="classtk_1_1_exodus_i_i_mesh_reader.html#afe8144814a95bbb94d87e04091042918">tk::ExodusIIMeshReader::readElemBlockIDs</a></div><div class="ttdeci">std::size_t readElemBlockIDs()</div><div class="ttdoc">Read element block IDs from file. </div><div class="ttdef"><b>Definition:</b> <a href="_exodus_i_i_mesh_reader_8_c_source.html#l00166">ExodusIIMeshReader.C:166</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9278f146c405108daff1a6cc6a1324b5"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9278f146c405108daff1a6cc6a1324b5">inciter::Partitioner::signal2host_graph_complete</a></div><div class="ttdeci">void signal2host_graph_complete(const CProxy_Transporter &amp;host, uint64_t nelem)</div><div class="ttdoc">Signal back to host that we have done our part of reading the mesh graph. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01263">Partitioner.h:1263</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_aef3299fd19deb0ee0808f550c53da0b5_cgraph.svg" width="624" height="228"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab1aeff138578c3921fb67ddbbad3ef3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1aeff138578c3921fb67ddbbad3ef3a">&#9670;&nbsp;</a></span>recv()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::recv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acknowledge received node IDs. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00286">286</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00492">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</a>, <a class="el" href="_partitioner_8h_source.html#l00500">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_npe</a>, and <a class="el" href="_partitioner_8h_source.html#l01300">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_distributed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{ <span class="keywordflow">if</span> (--<a class="code" href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">m_npe</a> == 0) <a class="code" href="classinciter_1_1_partitioner.html#a508822ce5612b121b1f7904a670585dd">signal2host_distributed</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a> ); }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a508822ce5612b121b1f7904a670585dd"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a508822ce5612b121b1f7904a670585dd">inciter::Partitioner::signal2host_distributed</a></div><div class="ttdeci">void signal2host_distributed(const CProxy_Transporter &amp;host)</div><div class="ttdoc">Signal host that we are done our part of distributing mesh node IDs and we are ready for preparing (f...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01300">Partitioner.h:1300</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aa00cdc54d2e07f7f9a1bc16239d28e61"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aa00cdc54d2e07f7f9a1bc16239d28e61">inciter::Partitioner::m_npe</a></div><div class="ttdeci">std::size_t m_npe</div><div class="ttdoc">Number of fellow PEs to send elem IDs to. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00500">Partitioner.h:500</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ab1aeff138578c3921fb67ddbbad3ef3a_cgraph.svg" width="374" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9f97d387576f6a8ce282a69e52314939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f97d387576f6a8ce282a69e52314939">&#9670;&nbsp;</a></span>refine()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::refine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uniformly refine our mesh replacing each tetrahedron with 8 new ones. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00874">874</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00037">tk::cref_find()</a>, <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>, <a class="el" href="namespacetut.html#a88f40e8bb56ea7c640a69bb6a75fa769">tut::ExodusIIMeshReader()</a>, and <a class="el" href="_derived_data_8_c_source.html#l00024">tk::genEsup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>.</p>
<div class="fragment"><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                  {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="comment">// Concatenate mesh connectivities of our chares</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a> );</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      std::size_t nn = 0;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>) nn += c.second.size();</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>.resize( nn );</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      nn = 0;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : m_chinpoel)</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : c.second)</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>[ nn++ ] = i;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="comment">// Generate unique edges (nodes connected to nodes)</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keyword">auto</span> minmax = std::minmax_element( begin(<a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>), end(<a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>) );</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      std::array&lt; std::size_t, 2 &gt; ext{{ *minmax.first, *minmax.second }};</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : <a class="code" href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">m_tetinpoel</a>) i -= ext[0];  <span class="comment">// shift to zero-based node IDs</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keyword">auto</span> esup = <a class="code" href="namespacetk.html#a66a2889d5d8aeb4a836842c6a1010463">tk::genEsup</a>( m_tetinpoel, 4 );</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : m_tetinpoel) i += ext[0];  <span class="comment">// shift back node IDs</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      <span class="keyword">auto</span> nnode = ext[1] - ext[0] + 1;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      std::unordered_map&lt; std::size_t, std::unordered_set&lt; std::size_t &gt; &gt; star;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">for</span> (std::size_t j=0; j&lt;nnode; ++j)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">for</span> (std::size_t i=esup.second[j]+1; i&lt;=esup.second[j+1]; ++i )</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;          <span class="keywordflow">for</span> (std::size_t n=0; n&lt;4; ++n) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="keyword">auto</span> p = ext[0] + j;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            <span class="keyword">auto</span> q = m_tetinpoel[ esup.first[i] * 4 + n ];</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="keywordflow">if</span> (p &lt; q) star[p].insert( q );</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">if</span> (p &gt; q) star[q].insert( p );</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;          }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( m_tetinpoel );</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="comment">// Starting node ID (on all PEs) while assigning new edge-nodes</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      nnode = <a class="code" href="namespacetut.html#a88f40e8bb56ea7c640a69bb6a75fa769">tk::ExodusIIMeshReader</a>( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1io.html">tag::io</a>,</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                        <a class="code" href="structtag_1_1input.html">tag::input</a> &gt;() ).readHeader();</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">// Add new edge-nodes</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <a class="code" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> edgenodes;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; s : star)</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> q : s.second)</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;          edgenodes[ {{ s.first, q }} ] = nnode++;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="comment">// Generate maps associating new node IDs (as in producing</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="comment">// contiguous-row-id linear system contributions)to edges (a pair of old</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      <span class="comment">// node IDs) in tk::UnsMesh::EdgeNodes maps, associated to and categorized</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">// by chares. Note that the new edge-node IDs assigned here will be</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="comment">// overwritten with globally unique node IDs after reordering.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; conn : m_chinpoel) {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keyword">auto</span>&amp; en = <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>[ conn.first ];</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">for</span> (std::size_t e=0; e&lt;conn.second.size()/4; ++e) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> A = conn.second[e*4+0];</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> B = conn.second[e*4+1];</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> C = conn.second[e*4+2];</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> D = conn.second[e*4+3];</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> AB = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ A,B }} );</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> AC = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ A,C }} );</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> AD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ A,D }} );</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> BC = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ B,C }} );</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> BD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ B,D }} );</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> CD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ C,D }} );</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;          en[ {{A,B}} ] = AB;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;          en[ {{A,C}} ] = AC;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;          en[ {{A,D}} ] = AD;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;          en[ {{B,C}} ] = BC;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;          en[ {{B,D}} ] = BD;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;          en[ {{C,D}} ] = CD;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a31c3fcb2ea50425934f476200ee90eb0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a31c3fcb2ea50425934f476200ee90eb0">inciter::Partitioner::m_tetinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_tetinpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00520">Partitioner.h:520</a></div></div>
<div class="ttc" id="structtag_1_1io_html"><div class="ttname"><a href="structtag_1_1io.html">tag::io</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00015">Tags.h:15</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00037">ContainerUtil.h:37</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a40828decbbdc5cb63e1aae1bebca1e3d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">inciter::Partitioner::m_chedgenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::EdgeNodes &gt; m_chedgenodes</div><div class="ttdoc">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edge...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00588">Partitioner.h:588</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="structtag_1_1input_html"><div class="ttname"><a href="structtag_1_1input.html">tag::input</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00016">Tags.h:16</a></div></div>
<div class="ttc" id="namespacetk_html_a66a2889d5d8aeb4a836842c6a1010463"><div class="ttname"><a href="namespacetk.html#a66a2889d5d8aeb4a836842c6a1010463">tk::genEsup</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; std::size_t &gt;, std::vector&lt; std::size_t &gt; &gt; genEsup(const std::vector&lt; std::size_t &gt; &amp;inpoel, std::size_t nnpe)</div><div class="ttdoc">Generate derived data structure, elements surrounding points. </div><div class="ttdef"><b>Definition:</b> <a href="_derived_data_8_c_source.html#l00024">DerivedData.C:24</a></div></div>
<div class="ttc" id="namespacetut_html_a88f40e8bb56ea7c640a69bb6a75fa769"><div class="ttname"><a href="namespacetut.html#a88f40e8bb56ea7c640a69bb6a75fa769">tut::ExodusIIMeshReader</a></div><div class="ttdeci">static ExodusIIMeshReader_group ExodusIIMeshReader(&quot;IO/ExodusIIMeshReader&quot;)</div><div class="ttdoc">Define test group. </div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="classtk_1_1_uns_mesh_html_a839b6c15c42461bb067924eb8fb95b42"><div class="ttname"><a href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a></div><div class="ttdeci">std::unordered_map&lt; Edge, std::size_t, EdgeHash, EdgeEq &gt; EdgeNodes</div><div class="ttdoc">Map associating IDs of mesh nodes to edges. </div><div class="ttdef"><b>Definition:</b> <a href="_uns_mesh_8h_source.html#l00047">UnsMesh.h:47</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a9f97d387576f6a8ce282a69e52314939_cgraph.svg" width="371" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9661927000d6711f85b62291cd11cf20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9661927000d6711f85b62291cd11cf20">&#9670;&nbsp;</a></span>reorder()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::reorder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reorder global mesh node IDs. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00776">776</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00222">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                   {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="comment">// Activate SDAG waits for having requests arrive from other PEs for some</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="comment">// of our node IDs; and for computing/receiving lower and upper bounds of</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="comment">// global node IDs our PE operates on after reordering</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      wait4prep();</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      wait4bounds();</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      wait4reorder();</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="comment">// In serial signal to the runtime system that we have participated in</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="comment">// reordering. This is required here because this is only triggered if</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="comment">// communication is required during mesh node reordering. See also</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="comment">// particioner.ci.</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="keywordflow">if</span> (CkNumPes() == 1) participated_complete();</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="comment">// Send out request for new global node IDs for nodes we do not reorder</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a>)</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        Group::thisProxy[ c.first ].request( CkMyPe(), c.second );</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="comment">// Send out request for new global node IDs for edges we do not reorder</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : <a class="code" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a>)</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        Group::thisProxy[ e.first ].request( CkMyPe(), e.second );</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="comment">// Lambda to decide if node ID is being assigned a new ID by us</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keyword">auto</span> ownnode = [ this ]( std::size_t p ) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keyword">using</span> Set = <span class="keyword">typename</span> std::remove_reference&lt;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                      decltype(m_ncommunication) &gt;::type::value_type;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">return</span> !std::any_of( m_ncommunication.cbegin(), m_ncommunication.cend(),</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                             [&amp;](<span class="keyword">const</span> Set&amp; s)</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                             { <span class="keywordflow">return</span> s.second.find(p) != s.second.cend(); } );</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      };</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="comment">// Lambda to decide if edge-node ID is being assigned a new ID by us</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keyword">auto</span> ownedge = [ this ]( <span class="keyword">const</span> <a class="code" href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7">tk::UnsMesh::Edge</a>&amp; e ) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keyword">using</span> Set = <span class="keyword">typename</span> std::remove_reference&lt;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                      decltype(m_ecommunication) &gt;::type::value_type;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">return</span> !std::any_of( m_ecommunication.cbegin(), m_ecommunication.cend(),</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                             [&amp;](<span class="keyword">const</span> Set&amp; s)</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                             { <span class="keywordflow">return</span> s.second.find(e) != s.second.cend(); } );</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      };</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="comment">// Reorder our chunk of the mesh node IDs by looping through all of our</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="comment">// node IDs (resulting from reading our chunk of the mesh cells). We test</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="comment">// if we are to assign a new ID to a node ID, and if so, we assign new ID,</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="comment">// i.e., reorder, by constructing a map associating new to old IDs. We</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="comment">// also count up the reordered nodes, which also serves as the new node</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="comment">// id.</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>)</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span> (ownnode(p)) <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>[ p ] = <a class="code" href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">m_start</a>++;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="comment">// Reorder our chunk of the mesh edges by looping through all of our edges</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="comment">// (resulting from initial uniform refinement of our chunk of the mesh</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="comment">// cells). We test if we are to assign a new ID to an edge, and if so, we</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="comment">// assign new ID, i.e., reorder, by constructing a map associating new</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="comment">// node IDs to edges. We also count up the reordered edge-nodes, which</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="comment">// also serves as the new node id.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : <a class="code" href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">m_edgeset</a>)</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">if</span> (ownedge(e)) <a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>[ e ] = <a class="code" href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">m_start</a>++;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <span class="comment">// Trigger SDAG wait indicating that reordering own node IDs are complete</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      reorderowned_complete();</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="comment">// If all our nodes have new IDs assigned, signal that to the runtime</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>.size() == m_nodeset.size()) nodesreorder_complete();</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <span class="comment">// If all our edges have new IDs assigned, signal that to the runtime</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>.size() == m_edgeset.size()) edgesreorder_complete();</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ae1b731e31a69666832b534c6660fa259"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">inciter::Partitioner::m_ecommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; m_ecommunication</div><div class="ttdoc">Communication map used for distributed mesh edge-node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00556">Partitioner.h:556</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a4ed35d875ea3e96de7e19647c018adb4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">inciter::Partitioner::m_linedges</a></div><div class="ttdeci">tk::UnsMesh::EdgeNodes m_linedges</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00570">Partitioner.h:570</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_abc3b491c564635c8e13d44d96cfc4675"><div class="ttname"><a href="classinciter_1_1_partitioner.html#abc3b491c564635c8e13d44d96cfc4675">inciter::Partitioner::m_edgeset</a></div><div class="ttdeci">tk::UnsMesh::Edges m_edgeset</div><div class="ttdoc">Unique global edges whose nodes chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00562">Partitioner.h:562</a></div></div>
<div class="ttc" id="classtk_1_1_uns_mesh_html_a622c34bab099c772650f046b848346d7"><div class="ttname"><a href="classtk_1_1_uns_mesh.html#a622c34bab099c772650f046b848346d7">tk::UnsMesh::Edge</a></div><div class="ttdeci">std::array&lt; std::size_t, 2 &gt; Edge</div><div class="ttdoc">Edge: IDs of two end-points. </div><div class="ttdef"><b>Definition:</b> <a href="_uns_mesh_8h_source.html#l00031">UnsMesh.h:31</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8ed04cf114715da1ca8c3a334375306e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8ed04cf114715da1ca8c3a334375306e">inciter::Partitioner::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this PE during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00507">Partitioner.h:507</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a6a5e73f1abb4a1db8585567670b0a0e3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">inciter::Partitioner::m_linnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_linnodes</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00566">Partitioner.h:566</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a16ae92f5c732dbd255ee0e99548439cf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">inciter::Partitioner::m_ncommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_ncommunication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00549">Partitioner.h:549</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8f249c89e2a14025cb2c9ae55a60c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8f249c89e2a14025cb2c9ae55a60c53">&#9670;&nbsp;</a></span>reordered()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::reordered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute final result of reordering</p>
<p>This member function is called when both those node IDs that we assign a new ordering to as well as those assigned new IDs by other PEs have been reordered (and we contribute to) and we are ready (on this PE) to compute our final result of the reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00942">942</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l01087">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::bounds()</a>, <a class="el" href="_container_util_8h_source.html#l00037">tk::cref_find()</a>, <a class="el" href="_container_util_8h_source.html#l00168">tk::destroy()</a>, and <a class="el" href="_container_util_8h_source.html#l00053">tk::ref_find()</a>.</p>
<div class="fragment"><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                     {</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="comment">// Free memory used by communication maps used to store nodes and</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="comment">// edge-nodes and associated PEs during reordering.</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">m_ncommunication</a> );</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">m_ecommunication</a> );</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="comment">// Free memory used by maps associating a list of chare IDs to old (as in</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="comment">// file) global mesh node IDs and to edges as no longer needed.</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">m_nodechares</a> );</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">m_edgechares</a> );</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="comment">// Construct maps associating old node IDs (as in file) to new node IDs</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="comment">// (as in producing contiguous-row-id linear system contributions)</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      <span class="comment">// associated to chare IDs (outer key).</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">m_chinpoel</a>) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keyword">auto</span>&amp; nodes = <a class="code" href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">m_chfilenodes</a>[ c.first ];</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : c.second) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;          <span class="keyword">auto</span> n = <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>.find(p);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;          <span class="keywordflow">if</span> (n != end(<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>)) nodes[ n-&gt;second ] = p;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <span class="comment">// Update node IDs of edges, i.e., the map values</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">m_chedgenodes</a>)</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; e : c.second)</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;           e.second = <a class="code" href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">m_linedges</a>, e.first );</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">if</span> (!m_chedgenodes.empty()) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">// Update chare-categorized element connectivities with new nodes and</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="comment">// newly added edge-nodes during initial unifor mesh refinement</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        decltype(m_chinpoel) refinpoel;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; chi : m_chinpoel) {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;          <span class="keyword">auto</span>&amp; ri = refinpoel[ chi.first ];</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span>&amp; edgenodes = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( m_chedgenodes, chi.first );</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;          <span class="keywordflow">for</span> (std::size_t e=0; e&lt;chi.second.size()/4; ++e) {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keyword">auto</span> A = chi.second[e*4+0];</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            <span class="keyword">auto</span> B = chi.second[e*4+1];</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="keyword">auto</span> C = chi.second[e*4+2];</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <span class="keyword">auto</span> D = chi.second[e*4+3];</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> nA = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>, A );</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> nB = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>, B );</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> nC = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>, C );</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> nD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>, D );</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> AB = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ A,B }} );</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> AC = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ A,C }} );</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> AD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ A,D }} );</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> BC = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ B,C }} );</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> BD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ B,D }} );</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> CD = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, {{ C,D }} );</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="comment">// update connectivity of our mesh chunk</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            std::vector&lt; std::size_t &gt; newelems{{ nA, AB, AC, AD,</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                                  nB, BC, AB, BD,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                                  nC, AC, BC, CD,</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                                  nD, AD, CD, BD,</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                                  BC, CD, AC, BD,</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                                  AB, BD, AC, AD,</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                                                  AB, BC, AC, BD,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                                  AC, BD, CD, AD }};</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            ri.insert( end(ri), begin(newelems), end(newelems) );</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;          }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        }</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        m_chinpoel = std::move( refinpoel );</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="comment">// Update chare-categorized mesh nodes surrounding our mesh chunk with</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="comment">// the reordered node IDs</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        decltype(<a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>) newmsum;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">m_msum</a>) {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;          <span class="keyword">auto</span>&amp; m = newmsum[ c.first ];</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : c.second) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keyword">auto</span>&amp; s = m[ e.first ];</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> n : e.second)</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;              s.insert( <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>, n ) );</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;          }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        m_msum = std::move( newmsum );</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="comment">// Add newly added edge-nodes to chare-categorized mesh nodes</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="comment">// surrounding our mesh chunk</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">m_msumed</a>) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          <span class="keyword">auto</span>&amp; sur = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( m_msum, c.first );</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span>&amp; edgenodes = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( m_chedgenodes, c.first );</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e : c.second) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <span class="keyword">auto</span>&amp; s = <a class="code" href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a>( sur, e.first );</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ed : e.second)</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;              s.insert( <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( edgenodes, ed ) );</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( m_msumed );</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="comment">// Update node IDs of edges, i.e., the map keys</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : m_chedgenodes) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;          <a class="code" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> edgenodes;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; e : c.second)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;             edgenodes[ {{ <a class="code" href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a>(<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>,e.first[0]),</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                           <a class="code" href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a>(<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>,e.first[1]) }} ] = e.second;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          c.second = std::move( edgenodes );</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="comment">// Update chare-categorized element connectivities with the reordered</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="comment">// node IDs</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : m_chinpoel)</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : c.second) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            <span class="keyword">auto</span> n = <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>.find(p);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">if</span> (n != end(<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>)) p = n-&gt;second;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;          }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="comment">// Update chare-categorized mesh nodes surrounding our mesh chunk with</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">// the reordered node IDs</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : m_msum)</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; s : c.second) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            decltype(s.second) n;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            for (auto p : s.second) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;              <span class="keyword">auto</span> it = <a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>.find(p);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;              <span class="keywordflow">if</span> (it != end(<a class="code" href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">m_linnodes</a>)) n.insert( it-&gt;second );</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            s.second = std::move( n );</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;          }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="comment">// Update unique global node IDs chares on our PE will contribute to with</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="comment">// the reordered node IDs</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a> );</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : m_chinpoel)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : c.second)</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;          <a class="code" href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">m_nodeset</a>.insert( i );</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="comment">// send progress report to host</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() )</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>.pereordered();</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="comment">// Compute lower and upper bounds of reordered node IDs our PE operates on</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a7336d1b669341fd6a19bd6f793a61826">bounds</a>();</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a0c5f5b0de8ff6ffea0fb68d7e122a147"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0c5f5b0de8ff6ffea0fb68d7e122a147">inciter::Partitioner::m_msumed</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; &gt; m_msumed</div><div class="ttdoc">Mesh edges given by two global mesh node IDs associated to chare IDs bordering the mesh chunk held by...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00623">Partitioner.h:623</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ad5c299aa4a079c72ebebf13e2081a082"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ad5c299aa4a079c72ebebf13e2081a082">inciter::Partitioner::m_msum</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_msum</div><div class="ttdoc">Global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) cha...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00611">Partitioner.h:611</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ae1b731e31a69666832b534c6660fa259"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ae1b731e31a69666832b534c6660fa259">inciter::Partitioner::m_ecommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::Edges &gt; m_ecommunication</div><div class="ttdoc">Communication map used for distributed mesh edge-node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00556">Partitioner.h:556</a></div></div>
<div class="ttc" id="namespacetk_html_ab2aac5f0fd93d5119cfe50a39f3515c9"><div class="ttname"><a href="namespacetk.html#ab2aac5f0fd93d5119cfe50a39f3515c9">tk::ref_find</a></div><div class="ttdeci">auto ref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00053">ContainerUtil.h:53</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_aea771aec1570abf9abfe300ea2d0de34"><div class="ttname"><a href="classinciter_1_1_partitioner.html#aea771aec1570abf9abfe300ea2d0de34">inciter::Partitioner::m_edgechares</a></div><div class="ttdeci">tk::UnsMesh::EdgeChares m_edgechares</div><div class="ttdoc">Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file) ...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00600">Partitioner.h:600</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a4ed35d875ea3e96de7e19647c018adb4"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4ed35d875ea3e96de7e19647c018adb4">inciter::Partitioner::m_linedges</a></div><div class="ttdeci">tk::UnsMesh::EdgeNodes m_linedges</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00570">Partitioner.h:570</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a8d26edc5f176f72832902794355ee351"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a8d26edc5f176f72832902794355ee351">inciter::Partitioner::m_nodechares</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; m_nodechares</div><div class="ttdoc">Map associating a set of chare IDs to old (as in file) global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00595">Partitioner.h:595</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00037">ContainerUtil.h:37</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a40828decbbdc5cb63e1aae1bebca1e3d"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a40828decbbdc5cb63e1aae1bebca1e3d">inciter::Partitioner::m_chedgenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, tk::UnsMesh::EdgeNodes &gt; m_chedgenodes</div><div class="ttdoc">Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edge...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00588">Partitioner.h:588</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a74c778929b3a08e992c2fbf8de2e96d0"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a74c778929b3a08e992c2fbf8de2e96d0">inciter::Partitioner::m_chinpoel</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_chinpoel</div><div class="ttdoc">Global mesh element connectivity associated to chares owned. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00572">Partitioner.h:572</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00168">ContainerUtil.h:168</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a3d11df8f3650e32e2e220e549f1ac99f"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a3d11df8f3650e32e2e220e549f1ac99f">inciter::Partitioner::m_chfilenodes</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; m_chfilenodes</div><div class="ttdoc">Maps associating old node IDs to new node IDs (as in producing contiguous-row-id linear system contri...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00579">Partitioner.h:579</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7336d1b669341fd6a19bd6f793a61826"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7336d1b669341fd6a19bd6f793a61826">inciter::Partitioner::bounds</a></div><div class="ttdeci">void bounds()</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01087">Partitioner.h:1087</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00130">Tags.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a6a5e73f1abb4a1db8585567670b0a0e3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a6a5e73f1abb4a1db8585567670b0a0e3">inciter::Partitioner::m_linnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_linnodes</div><div class="ttdoc">Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-v...</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00566">Partitioner.h:566</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a16ae92f5c732dbd255ee0e99548439cf"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a16ae92f5c732dbd255ee0e99548439cf">inciter::Partitioner::m_ncommunication</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_ncommunication</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00549">Partitioner.h:549</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00045">Control.h:45</a></div></div>
<div class="ttc" id="classtk_1_1_uns_mesh_html_a839b6c15c42461bb067924eb8fb95b42"><div class="ttname"><a href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a></div><div class="ttdeci">std::unordered_map&lt; Edge, std::size_t, EdgeHash, EdgeEq &gt; EdgeNodes</div><div class="ttdoc">Map associating IDs of mesh nodes to edges. </div><div class="ttdef"><b>Definition:</b> <a href="_uns_mesh_8h_source.html#l00047">UnsMesh.h:47</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00031">Tags.h:31</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_carrier_8_c_source.html#l00046">Carrier.C:46</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_ac54451437b716668e1a46d87b923e4fa"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ac54451437b716668e1a46d87b923e4fa">inciter::Partitioner::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00559">Partitioner.h:559</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_ac8f249c89e2a14025cb2c9ae55a60c53_cgraph.svg" width="515" height="199"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa8ce085df4207f29f4974a472dbd3a37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ce085df4207f29f4974a472dbd3a37">&#9670;&nbsp;</a></span>request() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>nd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request new global node IDs for old node IDs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>PE request coming from and to which we send new IDs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nd</td><td>Set of old node IDs whose new IDs are requested </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00230">230</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00502">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_reqNodes</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                                                   {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="comment">// Queue up requesting PE and node IDs</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">m_reqNodes</a>.push_back( { p, nd } );</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="comment">// Trigger SDAG wait signaling that node IDs have been requested from us</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      nodes_requested_complete();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a4cdfb6686511fedd220822ceb6e3495e"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a4cdfb6686511fedd220822ceb6e3495e">inciter::Partitioner::m_reqNodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqNodes</div><div class="ttdoc">Queue of requested node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00502">Partitioner.h:502</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8be7e4d8a6ac31d3897fa16d06484d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be7e4d8a6ac31d3897fa16d06484d2f">&#9670;&nbsp;</a></span>request() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &amp;&#160;</td>
          <td class="paramname"><em>ed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Request new global node IDs for edges </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>PE request coming from and to which we send new IDs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ed</td><td>Set of edges whose new IDs are requested </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00240">240</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00504">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_reqEdges</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                    {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="comment">// Queue up requesting PE and node IDs</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">m_reqEdges</a>.push_back( { p, ed } );</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="comment">// Trigger SDAG wait signaling that node IDs have been requested from us</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      nodes_requested_complete();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_a0f683ab8ccce654b75de6e9220189a63"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a0f683ab8ccce654b75de6e9220189a63">inciter::Partitioner::m_reqEdges</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, tk::UnsMesh::Edges &gt; &gt; m_reqEdges</div><div class="ttdoc">Queue of requested edge-node IDs from PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00504">Partitioner.h:504</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a981a7e8f4a25f338eeb0c24de9b42af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981a7e8f4a25f338eeb0c24de9b42af3">&#9670;&nbsp;</a></span>signal2host_avecost()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_avecost </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute average communication cost of merging the linear system </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host to signal to</td></tr>
  </table>
  </dd>
</dl>
<p>This is done via a Charm++ typed reduction, adding up the cost across all PEs and reducing the result to our host chare. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01272">1272</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l01195">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::cost()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01125">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::create()</a>.</p>
<div class="fragment"><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                                                               {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <a class="code" href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">m_cost</a> = <a class="code" href="classinciter_1_1_partitioner.html#a65b34b277b10684b4461ac24232e8348">cost</a>( <a class="code" href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">m_lower</a>, <a class="code" href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">m_upper</a> );</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      Group::contribute( <span class="keyword">sizeof</span>(<a class="code" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>), &amp;<a class="code" href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">m_cost</a>, CkReduction::sum_double,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                         CkCallback( CkReductionTarget(Transporter,aveCost),</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                         host ));</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ab809fed852fdc8403c3f9759536ea7eb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">inciter::Partitioner::m_cost</a></div><div class="ttdeci">tk::real m_cost</div><div class="ttdoc">Communication cost of linear system merging for our PE. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00590">Partitioner.h:590</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a9b05bc57997b383b30712b9d76bdc99a"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a9b05bc57997b383b30712b9d76bdc99a">inciter::Partitioner::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00530">Partitioner.h:530</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a7f5230df0e8c17d30201065ccf6221d3"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a7f5230df0e8c17d30201065ccf6221d3">inciter::Partitioner::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00528">Partitioner.h:528</a></div></div>
<div class="ttc" id="namespacetk_html_a1a96ada94b7e2911ecca0a360f305575"><div class="ttname"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a></div><div class="ttdeci">double real</div><div class="ttdoc">Real number type used throughout the whole code. </div><div class="ttdef"><b>Definition:</b> <a href="_base_2_types_8h_source.html#l00016">Types.h:16</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a65b34b277b10684b4461ac24232e8348"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a65b34b277b10684b4461ac24232e8348">inciter::Partitioner::cost</a></div><div class="ttdeci">tk::real cost(std::size_t l, std::size_t u)</div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01195">Partitioner.h:1195</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a981a7e8f4a25f338eeb0c24de9b42af3_cgraph.svg" width="494" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a508822ce5612b121b1f7904a670585dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a508822ce5612b121b1f7904a670585dd">&#9670;&nbsp;</a></span>signal2host_distributed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_distributed </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal host that we are done our part of distributing mesh node IDs and we are ready for preparing (flattening) data for reordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host to signal to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01300">1300</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00730">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::distribute()</a>, and <a class="el" href="_partitioner_8h_source.html#l00286">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::recv()</a>.</p>
<div class="fragment"><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                                                                   {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      Group::contribute(</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        CkCallback(CkIndex_Transporter::redn_wrapper_distributed(NULL), host ));</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ac5246c046259db3dd3cedc168b4cb9c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5246c046259db3dd3cedc168b4cb9c4">&#9670;&nbsp;</a></span>signal2host_flattened()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_flattened </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal host that we are ready for computing the communication map, required for parallel distributed global mesh node reordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host to signal to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01307">1307</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>.</p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                                                                 {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      Group::contribute(</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        CkCallback(CkIndex_Transporter::redn_wrapper_flattened(NULL), host ));</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a9278f146c405108daff1a6cc6a1324b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9278f146c405108daff1a6cc6a1324b5">&#9670;&nbsp;</a></span>signal2host_graph_complete()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_graph_complete </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>nelem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal back to host that we have done our part of reading the mesh graph. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host to signal to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nelem</td><td>Nunmber of elements in mesh graph contributed</td></tr>
  </table>
  </dd>
</dl>
<p>Signaling back is done via a Charm++ typed reduction, which also computes the sum of the number of mesh cells our PE operates on. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01263">1263</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::readGraph()</a>.</p>
<div class="fragment"><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                                                      {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      Group::contribute(<span class="keyword">sizeof</span>(uint64_t), &amp;nelem, CkReduction::sum_int,</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                        CkCallback(CkReductionTarget(Transporter,load), host));</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="ac4ab604a020b38f400dd76d5e8ac044b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ab604a020b38f400dd76d5e8ac044b">&#9670;&nbsp;</a></span>signal2host_setup_complete()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_setup_complete </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Signal back to host that we are ready for partitioning the mesh </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host to signal to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01293">1293</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00651">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::computeCentroids()</a>, and <a class="el" href="_partitioner_8h_source.html#l00132">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::Partitioner()</a>.</p>
<div class="fragment"><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                                                                      {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      Group::contribute(</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        CkCallback(CkIndex_Transporter::redn_wrapper_part(NULL), host ));</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a id="a568d8903ddb298acc34fb2c66b2da638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a568d8903ddb298acc34fb2c66b2da638">&#9670;&nbsp;</a></span>signal2host_stdcost()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_stdcost </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute standard deviation of the communication cost of merging the linear system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host to signal to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var</td><td>Square of the communication cost minus the average for our PE.</td></tr>
  </table>
  </dd>
</dl>
<p>This is done via a Charm++ typed reduction, adding up the squares of the communication cost minus the average across all PEs and reducing the result to our host chare. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l01286">1286</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00343">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::stdCost()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00343">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::stdCost()</a>.</p>
<div class="fragment"><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                                                                           {</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      Group::contribute( <span class="keyword">sizeof</span>(<a class="code" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>), &amp;var, CkReduction::sum_double,</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                         CkCallback( CkReductionTarget(Transporter,<a class="code" href="classinciter_1_1_partitioner.html#a6e83b4ee8468009d81864887403ff69c">stdCost</a>),</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                         host ));</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    }</div><div class="ttc" id="namespacetk_html_a1a96ada94b7e2911ecca0a360f305575"><div class="ttname"><a href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a></div><div class="ttdeci">double real</div><div class="ttdoc">Real number type used throughout the whole code. </div><div class="ttdef"><b>Definition:</b> <a href="_base_2_types_8h_source.html#l00016">Types.h:16</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a6e83b4ee8468009d81864887403ff69c"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a6e83b4ee8468009d81864887403ff69c">inciter::Partitioner::stdCost</a></div><div class="ttdeci">void stdCost(tk::real av)</div><div class="ttdoc">Compute the variance of the communication cost of merging the linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00343">Partitioner.h:343</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a568d8903ddb298acc34fb2c66b2da638_cgraph.svg" width="352" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6e83b4ee8468009d81864887403ff69c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e83b4ee8468009d81864887403ff69c">&#9670;&nbsp;</a></span>stdCost()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::stdCost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a>&#160;</td>
          <td class="paramname"><em>av</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the variance of the communication cost of merging the linear system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">av</td><td>Average of the communication cost</td></tr>
  </table>
  </dd>
</dl>
<p>Computing the standard deviation is done via computing and summing up the variances on each PE and asynchronously reducing the sum to our host. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00343">343</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">References <a class="el" href="_partitioner_8h_source.html#l00590">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_cost</a>, <a class="el" href="_partitioner_8h_source.html#l00492">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</a>, and <a class="el" href="_partitioner_8h_source.html#l01286">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_stdcost()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01286">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::signal2host_stdcost()</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    { <a class="code" href="classinciter_1_1_partitioner.html#a568d8903ddb298acc34fb2c66b2da638">signal2host_stdcost</a>( <a class="code" href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">m_host</a>, (<a class="code" href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">m_cost</a>-av)*(<a class="code" href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">m_cost</a>-av) ); }</div><div class="ttc" id="classinciter_1_1_partitioner_html_ab809fed852fdc8403c3f9759536ea7eb"><div class="ttname"><a href="classinciter_1_1_partitioner.html#ab809fed852fdc8403c3f9759536ea7eb">inciter::Partitioner::m_cost</a></div><div class="ttdeci">tk::real m_cost</div><div class="ttdoc">Communication cost of linear system merging for our PE. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00590">Partitioner.h:590</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_a568d8903ddb298acc34fb2c66b2da638"><div class="ttname"><a href="classinciter_1_1_partitioner.html#a568d8903ddb298acc34fb2c66b2da638">inciter::Partitioner::signal2host_stdcost</a></div><div class="ttdeci">void signal2host_stdcost(const CProxy_Transporter &amp;host, tk::real var)</div><div class="ttdoc">Compute standard deviation of the communication cost of merging the linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l01286">Partitioner.h:1286</a></div></div>
<div class="ttc" id="classinciter_1_1_partitioner_html_afb48d48ec1e100f7d57b9dbf1227fa50"><div class="ttname"><a href="classinciter_1_1_partitioner.html#afb48d48ec1e100f7d57b9dbf1227fa50">inciter::Partitioner::m_host</a></div><div class="ttdeci">HostProxy m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_partitioner_8h_source.html#l00492">Partitioner.h:492</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_partitioner_a6e83b4ee8468009d81864887403ff69c_cgraph.svg" width="352" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a827c0aac430c4bf095ff2cb83020e3e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827c0aac430c4bf095ff2cb83020e3e5">&#9670;&nbsp;</a></span>m_centroid</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt; std::vector&lt; <a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> &gt;, 3 &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_centroid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Element centroid coordinates of our chunk of the mesh. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00524">524</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>.</p>

</div>
</div>
<a id="a40828decbbdc5cb63e1aae1bebca1e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40828decbbdc5cb63e1aae1bebca1e3d">&#9670;&nbsp;</a></span>m_chedgenodes</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_chedgenodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edges (a pair of old node IDs) in <a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42" title="Map associating IDs of mesh nodes to edges. ">tk::UnsMesh::EdgeNodes</a> maps, associated to and categorized by chares. </p>
<p>Maps associating new node IDs (as in producing contiguous-row-id linear system contributions) to edges (a pair of old node IDs, as in file) associated to chare IDs (outer key) for only the nodes newly added as a result of initial uniform refinement. </p><dl class="section note"><dt>Note</dt><dd>Used for looking up boundary conditions, see, e.g., <a class="el" href="classinciter_1_1_carrier.html#add2ef2afdc2748c9983a0d7440cd43c2" title="Extract node IDs from side set node lists and match to. ">Carrier::bc()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00588">588</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>.</p>

</div>
</div>
<a id="a3d11df8f3650e32e2e220e549f1ac99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d11df8f3650e32e2e220e549f1ac99f">&#9670;&nbsp;</a></span>m_chfilenodes</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_chfilenodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps associating old node IDs to new node IDs (as in producing contiguous-row-id linear system contributions) categorized by chares. </p>
<p>Maps associating old node IDs (as in file) as map-values to new node IDs (as in producing contiguous-row-id linear system contributions) as map-keys, associated to chare IDs (outer keys). </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00579">579</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<a id="a74c778929b3a08e992c2fbf8de2e96d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c778929b3a08e992c2fbf8de2e96d0">&#9670;&nbsp;</a></span>m_chinpoel</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_chinpoel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global mesh element connectivity associated to chares owned. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00572">572</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00272">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::add()</a>, and <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>.</p>

</div>
</div>
<a id="ab809fed852fdc8403c3f9759536ea7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab809fed852fdc8403c3f9759536ea7eb">&#9670;&nbsp;</a></span>m_cost</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetk.html#a1a96ada94b7e2911ecca0a360f305575">tk::real</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_cost</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Communication cost of linear system merging for our PE. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00590">590</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00343">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::stdCost()</a>.</p>

</div>
</div>
<a id="a0563272f10823691e8733132cb371d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0563272f10823691e8733132cb371d67">&#9670;&nbsp;</a></span>m_ecomm</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ecomm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Temporary communication map used to receive global mesh edges. </p>
<p>This map, on each PE, associates the list of global mesh edges indices to fellow PE IDs from which we will receive new nodes IDs (as in producing contiguous-row-id linear system contributions) associated to edges during reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00542">542</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="ae1b731e31a69666832b534c6660fa259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1b731e31a69666832b534c6660fa259">&#9670;&nbsp;</a></span>m_ecommunication</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ecommunication</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Communication map used for distributed mesh edge-node reordering. </p>
<p>This map, on each PE, associates the list of global mesh edges to fellow PE IDs from which we will receive new node IDs (as in producing contiguous-row-id linear system contributions)associated to edges during reordering. Only data that will be received from PEs with a lower index are stored. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00556">556</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="aea771aec1570abf9abfe300ea2d0de34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea771aec1570abf9abfe300ea2d0de34">&#9670;&nbsp;</a></span>m_edgechares</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtk_1_1_uns_mesh.html#a11a7aae0f8c2d3292b9b7e3f5ea50c9c">tk::UnsMesh::EdgeChares</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgechares</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map associating a set of chare IDs to edges given by two old global mesh node IDs (old as in file) </p>
<p>Note that a single edge can be associated to multiple chare IDs as multiple chares can contribute to a single edge. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00600">600</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>, and <a class="el" href="_partitioner_8h_source.html#l00362">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::query()</a>.</p>

</div>
</div>
<a id="abc3b491c564635c8e13d44d96cfc4675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3b491c564635c8e13d44d96cfc4675">&#9670;&nbsp;</a></span>m_edgeset</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_edgeset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unique global edges whose nodes chares on our PE will contribute to in a linear system. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00562">562</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00348">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::gather()</a>, <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>, <a class="el" href="_partitioner_8h_source.html#l00260">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::neworder()</a>, and <a class="el" href="_partitioner_8h_source.html#l00362">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::query()</a>.</p>

</div>
</div>
<a id="a94fec1e897a9b1927db3c91335d31b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94fec1e897a9b1927db3c91335d31b6f">&#9670;&nbsp;</a></span>m_gelemid</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; long &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_gelemid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global element IDs we read (our chunk of the mesh) </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00522">522</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>.</p>

</div>
</div>
<a id="afb48d48ec1e100f7d57b9dbf1227fa50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb48d48ec1e100f7d57b9dbf1227fa50">&#9670;&nbsp;</a></span>m_host</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HostProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_host</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Host proxy. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00492">492</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>, <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>, <a class="el" href="_partitioner_8h_source.html#l00132">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::Partitioner()</a>, <a class="el" href="_partitioner_8h_source.html#l00286">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::recv()</a>, and <a class="el" href="_partitioner_8h_source.html#l00343">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::stdCost()</a>.</p>

</div>
</div>
<a id="a4ed35d875ea3e96de7e19647c018adb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed35d875ea3e96de7e19647c018adb4">&#9670;&nbsp;</a></span>m_linedges</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtk_1_1_uns_mesh.html#a839b6c15c42461bb067924eb8fb95b42">tk::UnsMesh::EdgeNodes</a> <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_linedges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-values to edges given by two old node IDs (as in file) as map-keys. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00570">570</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00260">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::neworder()</a>.</p>

</div>
</div>
<a id="a6a5e73f1abb4a1db8585567670b0a0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a5e73f1abb4a1db8585567670b0a0e3">&#9670;&nbsp;</a></span>m_linnodes</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::size_t, std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_linnodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map associating new node IDs (as in producing contiguous-row-id linear system contributions) as map-values to old node IDs (as in file) as map-keys. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00566">566</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00249">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::neworder()</a>.</p>

</div>
</div>
<a id="aa956f1ecb03d8e814c2e473f754ed029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa956f1ecb03d8e814c2e473f754ed029">&#9670;&nbsp;</a></span>m_linsysmerger</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LinSysMergerProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_linsysmerger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Linear system merger proxy. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00496">496</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<a id="a7f5230df0e8c17d30201065ccf6221d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5230df0e8c17d30201065ccf6221d3">&#9670;&nbsp;</a></span>m_lower</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_lower</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lower bound of node IDs our PE operates on after reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00528">528</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00332">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::lower()</a>.</p>

</div>
</div>
<a id="ad5c299aa4a079c72ebebf13e2081a082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c299aa4a079c72ebebf13e2081a082">&#9670;&nbsp;</a></span>m_msum</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_msum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) chare IDs this PE owns. </p>
<p>msum: (M)esh chunks (S)urrounding (M)esh chunks storing mesh nodes. Outer map-key: chare IDs this PE owns whose neighbors are stored, inner map-key: chare IDs of those chares that hold mesh chunks surrounding the outer-key chare's mesh, map-values: global new (reordered, as in producing contiguous-row-id linear system contributions) mesh node IDs along the border of chares (at which the chares will need to communicate) during time stepping. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00611">611</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="a0c5f5b0de8ff6ffea0fb68d7e122a147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5f5b0de8ff6ffea0fb68d7e122a147">&#9670;&nbsp;</a></span>m_msumed</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::unordered_map&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_msumed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mesh edges given by two global mesh node IDs associated to chare IDs bordering the mesh chunk held by (and associated to) chare IDs this PE owns. </p>
<p>msum: (M)esh chunks (S)urrounding (M)esh chunks storing mesh nodes. Outer map-key: chare IDs this PE owns whose neighbors are stored, inner map-key: chare IDs of those chares that hold mesh chunks surrounding the outer-key chare's mesh, map-values: mesh edges given by two global new (reordered, as in producing contiguous-row-id linear system contributions) mesh node IDs along the border of chares (at which the chares will need to communicate) during time stepping. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00623">623</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="a0eff2536977f42de737bbb43c268c2d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eff2536977f42de737bbb43c268c2d7">&#9670;&nbsp;</a></span>m_nchare</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nchare</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of chares across all PEs. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00526">526</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>.</p>

</div>
</div>
<a id="a601b31c536569707303052511f2bcf9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601b31c536569707303052511f2bcf9c">&#9670;&nbsp;</a></span>m_ncomm</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ncomm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Temporary communication map used to receive global mesh node IDs. </p>
<p>This map, on each PE, associates the list of global mesh point indices to fellow PE IDs from which we will receive new node IDs (as in producing contiguous-row-id linear system contributions) during reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00536">536</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="a16ae92f5c732dbd255ee0e99548439cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ae92f5c732dbd255ee0e99548439cf">&#9670;&nbsp;</a></span>m_ncommunication</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::unordered_set&lt;std::size_t&gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_ncommunication</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Communication map used for distributed mesh node reordering. </p>
<p>This map, on each PE, associates the list of global mesh point indices to fellow PE IDs from which we will receive new node IDs (as in producing contiguous-row-id linear system contributions) during reordering. Only data that will be received from PEs with a lower index are stored. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00549">549</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="a8d26edc5f176f72832902794355ee351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d26edc5f176f72832902794355ee351">&#9670;&nbsp;</a></span>m_nodechares</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::size_t, std::vector&lt; int &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodechares</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map associating a set of chare IDs to old (as in file) global mesh node IDs. </p>
<p>Note that a single global mesh ID can be associated to multiple chare IDs as multiple chares can contribute to a single mesh node. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00595">595</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>, and <a class="el" href="_partitioner_8h_source.html#l00362">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::query()</a>.</p>

</div>
</div>
<a id="ac54451437b716668e1a46d87b923e4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54451437b716668e1a46d87b923e4fa">&#9670;&nbsp;</a></span>m_nodeset</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nodeset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unique global node IDs chares on our PE will contribute to in a linear system. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00559">559</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00293">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::flatten()</a>, <a class="el" href="_partitioner_8h_source.html#l00348">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::gather()</a>, <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>, <a class="el" href="_partitioner_8h_source.html#l00249">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::neworder()</a>, and <a class="el" href="_partitioner_8h_source.html#l00362">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::query()</a>.</p>

</div>
</div>
<a id="a570d536f4f2b5cdf16e956031257c3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a570d536f4f2b5cdf16e956031257c3b4">&#9670;&nbsp;</a></span>m_noffset</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_noffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for number of offsets. </p>
<p>This counts the to-be-received node IDs received while computing global mesh node ID offsets for each PE rquired for node reordering later </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00512">512</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00222">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::offset()</a>.</p>

</div>
</div>
<a id="aa00cdc54d2e07f7f9a1bc16239d28e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00cdc54d2e07f7f9a1bc16239d28e61">&#9670;&nbsp;</a></span>m_npe</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_npe</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of fellow PEs to send elem IDs to. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00500">500</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00286">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::recv()</a>.</p>

</div>
</div>
<a id="a2802464f5cf446e49736791627cc82b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2802464f5cf446e49736791627cc82b6">&#9670;&nbsp;</a></span>m_nquery</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_nquery</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for number of masks of to-be-received global mesh node IDs received. </p>
<p>This counts the to-be-received node ID masks received while gathering the node IDs that need to be received (instead of uniquely assigned) by each PE </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00518">518</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00398">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::mask()</a>.</p>

</div>
</div>
<a id="a54b2ce444f845d1c6655b4389efaf118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b2ce444f845d1c6655b4389efaf118">&#9670;&nbsp;</a></span>m_particlewriter</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ParticleWriterProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_particlewriter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Particle writer proxy. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00498">498</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<a id="a0f683ab8ccce654b75de6e9220189a63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f683ab8ccce654b75de6e9220189a63">&#9670;&nbsp;</a></span>m_reqEdges</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; int, <a class="el" href="classtk_1_1_uns_mesh.html#a11894f8b13b973c0e30146023fe88123">tk::UnsMesh::Edges</a> &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_reqEdges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of requested edge-node IDs from PEs. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00504">504</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00240">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::request()</a>.</p>

</div>
</div>
<a id="a4cdfb6686511fedd220822ceb6e3495e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cdfb6686511fedd220822ceb6e3495e">&#9670;&nbsp;</a></span>m_reqNodes</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; int, std::unordered_set&lt;std::size_t&gt; &gt; &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_reqNodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of requested node IDs from PEs. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00502">502</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00230">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::request()</a>.</p>

</div>
</div>
<a id="a8ed04cf114715da1ca8c3a334375306e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed04cf114715da1ca8c3a334375306e">&#9670;&nbsp;</a></span>m_start</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starting global mesh node ID for node reordering on this PE during mesh node reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00507">507</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00222">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::offset()</a>.</p>

</div>
</div>
<a id="a31c3fcb2ea50425934f476200ee90eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31c3fcb2ea50425934f476200ee90eb0">&#9670;&nbsp;</a></span>m_tetinpoel</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_tetinpoel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tetrtahedron element connectivity of our chunk of the mesh. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00520">520</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l00651">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::computeCentroids()</a>, <a class="el" href="_partitioner_8h_source.html#l00185">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::partition()</a>, and <a class="el" href="_partitioner_8h_source.html#l00627">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::readGraph()</a>.</p>

</div>
</div>
<a id="a9b05bc57997b383b30712b9d76bdc99a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b05bc57997b383b30712b9d76bdc99a">&#9670;&nbsp;</a></span>m_upper</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_upper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upper bound of node IDs our PE operates on after reordering. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00530">530</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_partitioner_8h_source.html#l01087">inciter::Partitioner&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::bounds()</a>.</p>

</div>
</div>
<a id="ac76f49357e67f9e7c0b1f456d21a8ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76f49357e67f9e7c0b1f456d21a8ed0">&#9670;&nbsp;</a></span>m_worker</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HostProxy , class WorkerProxy , class LinSysMergerProxy , class ParticleWriterProxy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WorkerProxy <a class="el" href="classinciter_1_1_partitioner.html">inciter::Partitioner</a>&lt; HostProxy, WorkerProxy, LinSysMergerProxy, ParticleWriterProxy &gt;::m_worker</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Worker proxy. </p>

<p class="definition">Definition at line <a class="el" href="_partitioner_8h_source.html#l00494">494</a> of file <a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/tmp/TeamCity-10/work/821a9fd6f64749d9/src/Inciter/<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 17 2017 22:52:06 for Quinoa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
