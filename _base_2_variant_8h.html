<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quinoa: /tmp/TeamCity-14/work/821a9fd6f64749d9/src/Base/Variant.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4814b1a558d470c33d85e65dbde02eaa.html">Base</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">Variant.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Variant is a wrapper around boost::variant to make it PUPable.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;boost/mpl/vector.hpp&gt;</code><br />
<code>#include &quot;<a class="el" href="_no_warning_2_variant_8h_source.html">NoWarning/variant.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="for__each_8h_source.html">NoWarning/for_each.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_get___tuple_8h_source.html">Get_Tuple.h</a>&quot;</code><br />
</div>
<p><a href="_base_2_variant_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtk_1_1_variant.html">tk::Variant&lt; Types &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtk_1_1_variant_1_1getval.html">tk::Variant&lt; Types &gt;::getval</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visitor setting a value of tuple that matches the type of the variant.  <a href="structtk_1_1_variant_1_1getval.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtk_1_1_variant_1_1setval.html">tk::Variant&lt; Types &gt;::setval</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functor setting the variant based on idx.  <a href="structtk_1_1_variant_1_1setval.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacetk"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetk.html">tk</a></td></tr>
<tr class="memdesc:namespacetk"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toolkit declarations and definitions for general purpose utilities. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Variant is a wrapper around boost::variant to make it PUPable. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2012-2015, J. Bakosi, 2016-2017, Los Alamos National Security, LLC.</dd></dl>
<p>Variant is a wrapper around boost::variant to make it PUPable.</p>
<p>Since boost::variant (as well as std::variant) when default-constructed is initialized to hold a value of the first alternative of its type list, calling <a class="el" href="namespace_p_u_p.html" title="Extensions to Charm++&#39;s Pack/Unpack routines. ">PUP</a> that works based on a boost::visitor with a templated operator() always incorrectly triggers the overload for the first type. Thus when PUPing a variant not only its value but its type must also be sent during migration. The class below achieves this by reading out not only the value but also its zero-based index of the type alternative that is currently held by the variant passed to its initializer constructor. The index and the value are stored as an integer and a value in a tuple that can hold a value of any of the alternative types the variant can. The index and tuple are then PUPed and when unpacking, as an additional step, the variant is reconstructed using the index and the value in the tuple. This latter is done by invoking a runtime loop across all alternative types using boost::mpl::for_each. The final variant can then be accessed by the get() public member function.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_test_p_u_p_util_8h.html" title="Unit tests for Base/PUPUtil.h. ">UnitTest/tests/Base/TestPUPUtil.h</a> or Inciter::SchemeBase.h for <a class="el" href="classtk_1_1_variant.html">tk::Variant</a> in action.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Type-based access to tuple elements as in std::get&lt;T&gt;( tuple ) requires C++14. </dd></dl>

<p class="definition">Definition in file <a class="el" href="_base_2_variant_8h_source.html">Variant.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 12 2018 09:41:07 for Quinoa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
