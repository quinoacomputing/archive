<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quinoa: /tmp/TeamCity-12/work/821a9fd6f64749d9/src/Inciter/Transporter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_606df7a4664720c111e6e5b0e11c4e03.html">Inciter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">Transporter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Transporter drives the time integration of transport equations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;map&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
<code>#include &quot;<a class="el" href="_timer_8h_source.html">Timer.h</a>&quot;</code><br />
<code>#include &quot;Types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_inciter_print_8h_source.html">InciterPrint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_vector_reducer_8h_source.html">VectorReducer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_progress_8h_source.html">Progress.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_inciter_2_scheme_8h_source.html">Scheme.h</a>&quot;</code><br />
</div>
<p><a href="_transporter_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_transporter.html">inciter::Transporter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classinciter_1_1_transporter.html" title="Transporter drives the time integration of transport equations. ">Transporter</a> drives the time integration of transport equations.  <a href="classinciter_1_1_transporter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceinciter"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceinciter.html">inciter</a></td></tr>
<tr class="memdesc:namespaceinciter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inciter declarations and definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transporter drives the time integration of transport equations. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>2012-2015, J. Bakosi, 2016-2018, Los Alamos National Security, LLC.</dd></dl>
<p>Transporter drives the time integration of transport equations.</p>
<p>The implementation uses the Charm++ runtime system and is fully asynchronous, overlapping computation and communication. The algorithm utilizes the structured dagger (SDAG) Charm++ functionality. The high-level overview of the algorithm structure and how it interfaces with Charm++ is discussed in the Charm++ interface file <a class="el" href="transporter_8ci.html">src/Inciter/transporter.ci</a>.</p>
<h4>Call graph</h4>
<p>The following is a directed acyclic graph (DAG) that outlines the asynchronous algorithm implemented in this class The detailed discussion of the algorithm is given in the Charm++ interface file <a class="el" href="transporter_8ci.html">transporter.ci</a>, which also repeats the graph below using ASCII graphics. On the DAG orange fills denote global synchronization points that contain or eventually lead to global reductions. Dashed lines are potential shortcuts that allow jumping over some of the task-graph under some circumstances or optional code paths (taken, e.g., only in DEBUG mode). See the detailed discussion in <a class="el" href="transporter_8ci.html">transporter.ci</a>. </p><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_5.svg" width="326" height="572"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
 <div class="fragment"><div class="line">// *****************************************************************************</div><div class="line">/*!</div><div class="line">  \file      src/Inciter/transporter.ci</div><div class="line">  \copyright 2012-2015, J. Bakosi, 2016-2018, Los Alamos National Security, LLC.</div><div class="line">  \brief     Charm++ module interface file for Transporter</div><div class="line">  \details   Charm++ module interface file for Transporter</div><div class="line">*/</div><div class="line">// *****************************************************************************</div><div class="line"></div><div class="line">module transporter {</div><div class="line"></div><div class="line">  include &quot;Types.h&quot;;</div><div class="line"></div><div class="line">  namespace inciter {</div><div class="line"></div><div class="line">    chare Transporter {</div><div class="line">      entry Transporter();</div><div class="line">      entry [reductiontarget] void refdistributed();</div><div class="line">      entry [reductiontarget] void distributed();</div><div class="line">      entry [reductiontarget] void matched( std::size_t extra );</div><div class="line">      entry [reductiontarget] void refined( uint64_t nelem );</div><div class="line">      entry [reductiontarget] void flattened();</div><div class="line">      entry [reductiontarget] void coord();</div><div class="line">      entry [reductiontarget] void comfinal();</div><div class="line">      entry [reductiontarget] void totalvol( tk::real v );</div><div class="line">      entry [reductiontarget] void vol();</div><div class="line">      entry [reductiontarget] void minstat( tk::real d0, tk::real d1 );</div><div class="line">      entry [reductiontarget] void maxstat( tk::real d0, tk::real d1 );</div><div class="line">      entry [reductiontarget] void sumstat( tk::real d0, tk::real d1,</div><div class="line">                                            tk::real d2, tk::real d3 );</div><div class="line">      entry [reductiontarget] void pdfstat( CkReductionMsg* msg );</div><div class="line">      entry [reductiontarget] void aveCost( tk::real c );</div><div class="line">      entry [reductiontarget] void stdCost( tk::real c );</div><div class="line">      entry [reductiontarget] void diagnostics( CkReductionMsg* msg );</div><div class="line">      entry [reductiontarget] void start();</div><div class="line">      entry [reductiontarget] void next();</div><div class="line">      entry [reductiontarget] void finish();</div><div class="line"></div><div class="line">      entry void peread();</div><div class="line">      entry void perefined();</div><div class="line">      entry void pecentroid();</div><div class="line"></div><div class="line">      entry void pepartitioned();</div><div class="line">      entry void pedistributed();</div><div class="line"></div><div class="line">      entry void peflattened();</div><div class="line">      entry void pegather();</div><div class="line">      entry void pequery();</div><div class="line">      entry void pemask();</div><div class="line">      entry void pereordered();</div><div class="line">      entry void pebounds();</div><div class="line"></div><div class="line">      // SDAG code follows. See http://charm.cs.illinois.edu/manuals/html/</div><div class="line">      // charm++/manual.html, Sec. &quot;Structured Control Flow: Structured Dagger&quot;.</div><div class="line"></div><div class="line">      // High-level overview of the dependency and asynchronous call structure</div><div class="line">      // ---------------------------------------------------------------------</div><div class="line">      //</div><div class="line">      // Directed Acyclic Graph (DAG):</div><div class="line">      // -----------------------------</div><div class="line">      //</div><div class="line">      // See src/Inciter/Transporter.h.</div><div class="line">      //</div><div class="line">      // Interpretation of the above DAG</div><div class="line">      // -------------------------------</div><div class="line">      // Control flow is from left to right and top to bottom.</div><div class="line">      //</div><div class="line">      // Only when all of (1) reading the mesh from file, (2) (optional) initial</div><div class="line">      // mesh reinfment has been completed, and (3) the cell centroids have been</div><div class="line">      // computed (if a geometric partitioner has been configured), the</div><div class="line">      // mesh partitioning can be started.</div><div class="line">      //</div><div class="line">      // MinStat, MaxStat, SumStat, and PdfStat denote different global</div><div class="line">      // reductions used to compute mesh cell statistics. Only when all of these</div><div class="line">      // are and setting up the communication buffers have been completed will</div><div class="line">      // they be echoed to screen at once, denoted by Stat.</div><div class="line"></div><div class="line">      entry void wait4stat() {</div><div class="line">        when minstat_complete(), maxstat_complete(), sumstat_complete(),</div><div class="line">             pdfstat_complete(), com_complete() serial &quot;stat&quot; { stat(); } };</div><div class="line"></div><div class="line">      entry void minstat_complete();</div><div class="line">      entry void maxstat_complete();</div><div class="line">      entry void sumstat_complete();</div><div class="line">      entry void pdfstat_complete();</div><div class="line">      entry void com_complete();</div><div class="line">    }</div><div class="line"></div><div class="line">  } // inciter::</div><div class="line"></div><div class="line">}</div></div><!-- fragment --><h4>Call graph with the interactions of Transporter, Solver, and MatCG</h4>
<p>The following a DAG documentaion of the itneractions <em>among</em> the classes Transporter (single chare), Solver (chare group), and MatCG (chare array). The prefixes p_, s_, t_ c_, respectively, denote Partitioner, Solver, Transporter, and MatCG, which help identifying which class' member function the label is associated with. (These prefixes only show up in the source of "dot", used to generate the visual graph. Note that MatMatCG can be thought of as a child that inherits from class Discretization. Both MatCG and Discretization are Charm++ chare arrays whose elements are abound together when migrated and via class Scheme they are used in a runtime polymorphic fashion. This means when the prefix c is used in the DAG below, the member function might be in the (base) Discretization class instead of in MatCG. Note that the graph below is partial as it only partially contains how this hooks into Partitioner. </p><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_6.svg" width="3390" height="343"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<h4>Call graph documenting the interactions of Transporter and DG</h4>
<p>The following a DAG documentaion of the itneractions <em>among</em> the classes Transporter (single chare) and DG (chare array). The prefixes p_, t_ d_, respectively, denote Partitioner, Transporter, and DG, which help identifying which class' member function the label is associated with. (These prefixes only show up in the source of "dot", used to generate the visual graph. Note that DG can be thought of as a child that inherits from class Discretization. Both DG and Discretization are Charm++ chare arrays whose elements are abound together when migrated and via class Scheme they are used in a runtime polymorphic fashion. This means when the prefix c is used in the DAG below, the member function might be in the (base) Discretization class instead of in DG. Note that the graph below is partial as it only partially contains how this hooks into Partitioner. </p><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_7.svg" width="2246" height="352"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
 
<p class="definition">Definition in file <a class="el" href="_transporter_8h_source.html">Transporter.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 6 2018 03:36:50 for Quinoa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
