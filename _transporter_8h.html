<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quinoa: /tmp/q/quinoa/src/Inciter/Transporter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_606df7a4664720c111e6e5b0e11c4e03.html">Inciter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<div class="title">Transporter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Transporter drives the time integration of transport equations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;map&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
<code>#include &quot;<a class="el" href="_timer_8h_source.html">Timer.h</a>&quot;</code><br />
<code>#include &quot;Types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_inciter_print_8h_source.html">InciterPrint.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_partitioner_8h_source.html">Partitioner.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_vector_reducer_8h_source.html">VectorReducer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_particle_writer_8h_source.html">ParticleWriter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_progress_8h_source.html">Progress.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="carrier_8decl_8h_source.html">NoWarning/carrier.decl.h</a>&quot;</code><br />
</div>
<p><a href="_transporter_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_transporter.html">inciter::Transporter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classinciter_1_1_transporter.html" title="Transporter drives the time integration of transport equations. ">Transporter</a> drives the time integration of transport equations.  <a href="classinciter_1_1_transporter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceinciter"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceinciter.html">inciter</a></td></tr>
<tr class="memdesc:namespaceinciter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inciter declarations and definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transporter drives the time integration of transport equations. </p>
<dl class="section author"><dt>Author</dt><dd>J. Bakosi </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2012-2015, Jozsef Bakosi, 2016, Los Alamos National Security, LLC.</dd></dl>
<p>Transporter drives the time integration of transport equations.</p>
<p>The implementation uses the Charm++ runtime system and is fully asynchronous, overlapping computation and communication. The algorithm utilizes the structured dagger (SDAG) Charm++ functionality. The high-level overview of the algorithm structure and how it interfaces with Charm++ is discussed in the Charm++ interface file <a class="el" href="transporter_8ci.html">src/Inciter/transporter.ci</a>.</p>
<h4>Call graph</h4>
<p>The following is a directed acyclic graph (DAG) that outlines the asynchronous algorithm implemented in this class The detailed discussion of the algorithm is given in the Charm++ interface file <a class="el" href="transporter_8ci.html">transporter.ci</a>, which also repeats the graph below using ASCII graphics. On the DAG orange fills denote global synchronization points that contain or eventually lead to global reductions. Dashed lines are potential shortcuts that allow jumping over some of the task-graph under some circumstances or optional code paths (taken, e.g., only in DEBUG mode). See the detailed discussion in <a class="el" href="transporter_8ci.html">transporter.ci</a>. </p><div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_3.svg" width="203" height="134"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
 <div class="fragment"><div class="line">// *****************************************************************************</div><div class="line">/*!</div><div class="line">  \file      src/Inciter/transporter.ci</div><div class="line">  \author    J. Bakosi</div><div class="line">  \copyright 2012-2015, Jozsef Bakosi, 2016, Los Alamos National Security, LLC.</div><div class="line">  \brief     Charm++ module interface file for Transporter</div><div class="line">  \details   Charm++ module interface file for Transporter</div><div class="line">*/</div><div class="line">// *****************************************************************************</div><div class="line"></div><div class="line">module transporter {</div><div class="line"></div><div class="line">  extern module partitioner;</div><div class="line"></div><div class="line">  namespace inciter {</div><div class="line"></div><div class="line">    chare Transporter {</div><div class="line">      entry Transporter();</div><div class="line">      entry [reductiontarget] void load( uint64_t nelem );</div><div class="line">      entry [reductiontarget] void partition();</div><div class="line">      entry [reductiontarget] void distributed();</div><div class="line">      entry [reductiontarget] void flattened();</div><div class="line">      entry [reductiontarget] void setup();</div><div class="line">      entry [reductiontarget] void rowcomplete();</div><div class="line">      entry [reductiontarget] void volcomplete();</div><div class="line">      entry [reductiontarget] void dt( tk::real d[n], std::size_t n );</div><div class="line">      entry [reductiontarget] void aveCost( tk::real c );</div><div class="line">      entry [reductiontarget] void stdCost( tk::real c );</div><div class="line">      entry [reductiontarget] void initcomplete();</div><div class="line">      entry [reductiontarget] void parcomcomplete();</div><div class="line">      entry [reductiontarget] void nparcomplete();</div><div class="line">      entry [reductiontarget] void diagnostics( tk::real d[n], std::size_t n );</div><div class="line">      entry [reductiontarget] void diagcomplete();</div><div class="line">      entry [reductiontarget] void outcomplete();</div><div class="line">      entry [reductiontarget] void computedt();</div><div class="line">      entry [reductiontarget] void finish();</div><div class="line">      entry [reductiontarget] void verified();</div><div class="line"></div><div class="line">      entry void pegraph();</div><div class="line"></div><div class="line">      entry void pepartitioned();</div><div class="line">      entry void pedistributed();</div><div class="line"></div><div class="line">      entry void peflattened();</div><div class="line">      entry void pemask();</div><div class="line">      entry void pereordered();</div><div class="line">      entry void pebounds();</div><div class="line"></div><div class="line">      entry void perowcomplete();</div><div class="line">      entry void chbcmatched();</div><div class="line">      entry void pebccomplete();</div><div class="line"></div><div class="line">      entry void pesolcomplete();</div><div class="line">      entry void chic();</div><div class="line">      entry void chlhs();</div><div class="line"></div><div class="line">      entry void chrhs();</div><div class="line">      entry void pesolve();</div><div class="line">      entry void chlim();</div><div class="line">      entry void chtrack();</div><div class="line"></div><div class="line">      // SDAG code follows. See http://charm.cs.illinois.edu/manuals/html/</div><div class="line">      // charm++/manual.html, Sec. &quot;Structured Control Flow: Structured Dagger&quot;.</div><div class="line"></div><div class="line">      // High-level overview of the dependency and asynchronous call structure</div><div class="line">      // ---------------------------------------------------------------------</div><div class="line">      //</div><div class="line">      // Directed Acyclic Graph (DAG):</div><div class="line">      // -----------------------------</div><div class="line">      //</div><div class="line">      // See srcInciter/Transporter.h.</div><div class="line">      //</div><div class="line">      // Interpretation of the above DAG</div><div class="line">      // -------------------------------</div><div class="line">      // Control flow is from left to right and top to bottom.</div><div class="line">      //</div><div class="line">      // The time step is evaluated only if both the diagnostics and the</div><div class="line">      // field and particle output have been done by the workers.</div><div class="line">      //</div><div class="line">      // Collecting diagnostics is optional, i.e., it does not happen every time</div><div class="line">      // step. If diagnostics are collected diag_complete() is signaled from the</div><div class="line">      // reduction target, Transporter::diagnostics(). If diagnostics are not</div><div class="line">      // collected in a time step, collection is skipped, and diag_complete() is</div><div class="line">      // signaled from the shortcut function, Transporter::diagcomplete().</div><div class="line">      //</div><div class="line">      // Similar to diagnostics output, particle output is also optional and</div><div class="line">      // does not happen every time step. The Charm++ reduction target</div><div class="line">      // Transporter::outcomplete() is reached either way but on different</div><div class="line">      // routes: if particles are output, the reduction originates from the</div><div class="line">      // ParticleWriter Charm++ group after writeCoords() finished the output,</div><div class="line">      // if particles are not output, the reduction originates from</div><div class="line">      // Carrier::out(). Either way, the above DAG and its logic remains the</div><div class="line">      // same.</div><div class="line"></div><div class="line">      entry void wait4eval() {</div><div class="line">        when out_complete(), diag_complete() serial &quot;eval&quot; {</div><div class="line">          evaluateTime(); } };</div><div class="line"></div><div class="line">      entry void out_complete();</div><div class="line">      entry void diag_complete();</div><div class="line">    }</div><div class="line"></div><div class="line">  } // inciter::</div><div class="line"></div><div class="line">}</div></div><!-- fragment --> 
<p class="definition">Definition in file <a class="el" href="_transporter_8h_source.html">Transporter.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 26 2017 05:41:00 for Quinoa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
