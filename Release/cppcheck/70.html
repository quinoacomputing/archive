
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Cppcheck - HTML report - [<a href="https://github.com/quinoacomputing/quinoa/commit/0563366">Quinoa_v0.2-1899-g0563366</a>]</title>
    <link rel="stylesheet" href="style.css">
    <style>
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #888888 } /* Comment */
.highlight .err { color: #FF0000; background-color: #FFAAAA } /* Error */
.highlight .k { color: #008800; font-weight: bold } /* Keyword */
.highlight .o { color: #333333 } /* Operator */
.highlight .ch { color: #888888 } /* Comment.Hashbang */
.highlight .cm { color: #888888 } /* Comment.Multiline */
.highlight .cp { color: #557799 } /* Comment.Preproc */
.highlight .cpf { color: #888888 } /* Comment.PreprocFile */
.highlight .c1 { color: #888888 } /* Comment.Single */
.highlight .cs { color: #cc0000; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #003388; font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #333399; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #6600EE; font-weight: bold } /* Literal.Number */
.highlight .s { background-color: #fff0f0 } /* Literal.String */
.highlight .na { color: #0000CC } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #BB0066; font-weight: bold } /* Name.Class */
.highlight .no { color: #003366; font-weight: bold } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #880000; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #FF0000; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0066BB; font-weight: bold } /* Name.Function */
.highlight .nl { color: #997700; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #007700 } /* Name.Tag */
.highlight .nv { color: #996633 } /* Name.Variable */
.highlight .ow { color: #000000; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #6600EE; font-weight: bold } /* Literal.Number.Bin */
.highlight .mf { color: #6600EE; font-weight: bold } /* Literal.Number.Float */
.highlight .mh { color: #005588; font-weight: bold } /* Literal.Number.Hex */
.highlight .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.highlight .mo { color: #4400EE; font-weight: bold } /* Literal.Number.Oct */
.highlight .sa { background-color: #fff0f0 } /* Literal.String.Affix */
.highlight .sb { background-color: #fff0f0 } /* Literal.String.Backtick */
.highlight .sc { color: #0044DD } /* Literal.String.Char */
.highlight .dl { background-color: #fff0f0 } /* Literal.String.Delimiter */
.highlight .sd { color: #DD4422 } /* Literal.String.Doc */
.highlight .s2 { background-color: #fff0f0 } /* Literal.String.Double */
.highlight .se { color: #666666; font-weight: bold; background-color: #fff0f0 } /* Literal.String.Escape */
.highlight .sh { background-color: #fff0f0 } /* Literal.String.Heredoc */
.highlight .si { background-color: #eeeeee } /* Literal.String.Interpol */
.highlight .sx { color: #DD2200; background-color: #fff0f0 } /* Literal.String.Other */
.highlight .sr { color: #000000; background-color: #fff0ff } /* Literal.String.Regex */
.highlight .s1 { background-color: #fff0f0 } /* Literal.String.Single */
.highlight .ss { color: #AA6600 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0066BB; font-weight: bold } /* Name.Function.Magic */
.highlight .vc { color: #336699 } /* Name.Variable.Class */
.highlight .vg { color: #dd7700; font-weight: bold } /* Name.Variable.Global */
.highlight .vi { color: #3333BB } /* Name.Variable.Instance */
.highlight .vm { color: #996633 } /* Name.Variable.Magic */
.highlight .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
    </style>
    <script language="javascript">
      function getStyle(el,styleProp) {
        if (el.currentStyle)
          var y = el.currentStyle[styleProp];
        else if (window.getComputedStyle)
          var y = document.defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);
        return y;
      }
      function toggle() {
        var el = this.expandable_content;
        var mark = this.expandable_marker;
        if (el.style.display == "block") {
          el.style.display = "none";
          mark.innerHTML = "[+]";
        } else {
          el.style.display = "block";
          mark.innerHTML = "[-]";
        }
      }
      function init_expandables() {
        var elts = document.getElementsByClassName("expandable");
        for (var i = 0; i < elts.length; i++) {
          var el = elts[i];
          var clickable = el.getElementsByTagName("span")[0];
          var marker = clickable.getElementsByClassName("marker")[0];
          var content = el.getElementsByClassName("content")[0];
          var width = clickable.clientWidth - parseInt(getStyle(content, "padding-left")) - parseInt(getStyle(content, "padding-right"));
          content.style.width = width + "px";
          clickable.expandable_content = content;
          clickable.expandable_marker = marker;
          clickable.onclick = toggle;
        }
      }
      function set_class_display(c, st) {
        var elements = document.querySelectorAll('.' + c),
            len = elements.length;
        for (i = 0; i < len; i++) {
            elements[i].style.display = st;
        }
      }
      function toggle_class_visibility(id) {
        var box = document.getElementById(id);
        set_class_display(id, box.checked ? '' : 'none');
      }
    </script>
  </head>
  <body onload="init_expandables()">
      <div id="header">
        <h1>Cppcheck report - [<a href="https://github.com/quinoacomputing/quinoa/commit/0563366">Quinoa_v0.2-1899-g0563366</a>]: /tmp/TeamCity-12/work/821a9fd6f64749d9/src/PDE/Integrate/Riemann/RiemannFactory.h </h1>
      </div>
      <div id="menu" dir="rtl">
       <p id="filename"><a href="index.html">Defects:</a> RiemannFactory.h</p>
<a href='70.html#line-40'> noExplicitConstructor 40</a>
      </div>
      <div id="content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre></div></td><td class="code"><div class="highlight"><pre><span></span><a name="line-1"></a><span class="c1">// *****************************************************************************</span>
<a name="line-2"></a><span class="cm">/*!</span>
<a name="line-3"></a><span class="cm">  \file      src/PDE/Integrate/Riemann/RiemannFactory.h</span>
<a name="line-4"></a><span class="cm">  \copyright 2016-2018, Los Alamos National Security, LLC.</span>
<a name="line-5"></a><span class="cm">  \brief     Register available Riemann solvers into a factory</span>
<a name="line-6"></a><span class="cm">  \details   Register available Riemann solvers into a factory.</span>
<a name="line-7"></a><span class="cm">*/</span>
<a name="line-8"></a><span class="c1">// *****************************************************************************</span>
<a name="line-9"></a><span class="cp">#ifndef RiemannSolverFactory_h</span>
<a name="line-10"></a><span class="cp">#define RiemannSolverFactory_h</span>
<a name="line-11"></a>
<a name="line-12"></a><span class="cp">#include</span> <span class="cpf">&lt;map&gt;</span><span class="cp"></span>
<a name="line-13"></a><span class="cp">#include</span> <span class="cpf">&lt;functional&gt;</span><span class="cp"></span>
<a name="line-14"></a>
<a name="line-15"></a><span class="cp">#include</span> <span class="cpf">&quot;NoWarning/value_factory.h&quot;</span><span class="cp"></span>
<a name="line-16"></a>
<a name="line-17"></a><span class="cp">#include</span> <span class="cpf">&quot;RiemannSolver.h&quot;</span><span class="cp"></span>
<a name="line-18"></a><span class="cp">#include</span> <span class="cpf">&quot;Inciter/Options/Flux.h&quot;</span><span class="cp"></span>
<a name="line-19"></a>
<a name="line-20"></a><span class="n">namespace</span> <span class="n">inciter</span> <span class="p">{</span>
<a name="line-21"></a>
<a name="line-22"></a><span class="c1">//! Factory for Riemann solvers</span>
<a name="line-23"></a><span class="c1">//! \details This factory is used to store the constructors as a</span>
<a name="line-24"></a><span class="c1">//!   std::function of specific Riemann solvers that can be invoked at a</span>
<a name="line-25"></a><span class="c1">//!   later time compared to the point where the map is populated. The key</span>
<a name="line-26"></a><span class="c1">//!   is an enum, uniquely idenfitying a specific Riemann solver. The value</span>
<a name="line-27"></a><span class="c1">//!   is std::function storing a constructor to be invoked. The type of</span>
<a name="line-28"></a><span class="c1">//!   object stored in std::function is a generic (base) class constructor,</span>
<a name="line-29"></a><span class="c1">//!   which provides a polymorphyic interface (overridable functions) that</span>
<a name="line-30"></a><span class="c1">//!   specific (child) Riemann solvers override, yielding runtime polymorphism.</span>
<a name="line-31"></a><span class="n">using</span> <span class="n">RiemannFactory</span> <span class="o">=</span>
<a name="line-32"></a>  <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="n">ctr</span><span class="o">::</span><span class="n">FluxType</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span> <span class="n">RiemannSolver</span><span class="p">()</span> <span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">;</span>
<a name="line-33"></a>
<a name="line-34"></a><span class="c1">//! Functor to register a Riemann solver into the Riemann solver factory</span>
<a name="line-35"></a><span class="k">struct</span> <span class="n">registerRiemannSolver</span> <span class="p">{</span>
<a name="line-36"></a>  <span class="c1">//! Factory to which to register the Riemann solver</span>
<a name="line-37"></a>  <span class="n">RiemannFactory</span><span class="o">&amp;</span> <span class="n">factory</span><span class="p">;</span>
<a name="line-38"></a>  <span class="c1">//! Constructor</span>
<a name="line-39"></a>  <span class="c1">//! \param[in] f Factory</span>
<a name="line-40"></a><span class="hll">  <span class="n">registerRiemannSolver</span><span class="p">(</span> <span class="n">RiemannFactory</span><span class="o">&amp;</span> <span class="n">f</span> <span class="p">)</span> <span class="o">:</span> <span class="n">factory</span><span class="p">(</span> <span class="n">f</span> <span class="p">)</span> <span class="p">{}</span><div class='verbose expandable'><span class='error2'>&lt;--- Struct 'registerRiemannSolver' has a constructor with 1 argument that is not explicit. <span class='marker'>[+]</span></span><div class='content'>Struct &apos;registerRiemannSolver&apos; has a constructor with 1 argument that is not explicit. Such constructors should in general be explicit for type safety reasons. Using the explicit keyword in the constructor means some mistakes when using the class can be avoided.</div></div>
</span><a name="line-41"></a>  <span class="c1">//! \brief Function call operator templated on the type that implements</span>
<a name="line-42"></a>  <span class="c1">//!   a specific Riemann solver</span>
<a name="line-43"></a>  <span class="n">template</span><span class="o">&lt;</span> <span class="kr">typename</span> <span class="n">U</span> <span class="o">&gt;</span> <span class="kt">void</span> <span class="n">operator</span><span class="p">()(</span> <span class="n">brigand</span><span class="o">::</span><span class="n">type_</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="p">)</span> <span class="p">{</span>
<a name="line-44"></a>     <span class="c1">// Function object holding the (default) constructor to be called later</span>
<a name="line-45"></a>     <span class="c1">// without bound arguments, since all specific Riemann solvers&#39;</span>
<a name="line-46"></a>     <span class="c1">// constructors are compiler-generated (default) constructors, and thus</span>
<a name="line-47"></a>     <span class="c1">// taking no arguments.</span>
<a name="line-48"></a>     <span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span> <span class="n">U</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">boost</span><span class="o">::</span><span class="n">value_factory</span><span class="o">&lt;</span> <span class="n">U</span> <span class="o">&gt;</span><span class="p">();</span>
<a name="line-49"></a>     <span class="c1">// Associate constructor function object to flux type in factory</span>
<a name="line-50"></a>     <span class="n">factory</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span> <span class="n">U</span><span class="o">::</span><span class="n">type</span><span class="p">(),</span>
<a name="line-51"></a>       <span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">value_factory</span><span class="o">&lt;</span> <span class="n">RiemannSolver</span> <span class="o">&gt;</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">c</span><span class="p">))</span> <span class="p">);</span>
<a name="line-52"></a>  <span class="p">}</span>
<a name="line-53"></a><span class="p">};</span>
<a name="line-54"></a>
<a name="line-55"></a><span class="c1">//! Register available Riemann solvers into a factory</span>
<a name="line-56"></a><span class="n">RiemannFactory</span> <span class="nf">RiemannSolvers</span><span class="p">();</span>
<a name="line-57"></a>
<a name="line-58"></a><span class="p">}</span> <span class="c1">// inciter::</span>
<a name="line-59"></a>
<a name="line-60"></a><span class="cp">#endif </span><span class="c1">// RiemannSolverFactory_h</span>
</pre></div>
</td></tr></table>
      </div>
      <div id="footer">
        <p>
         Cppcheck 1.86 - a tool for static C/C++ code analysis</br>
         </br>
         Internet: <a href="http://cppcheck.net">http://cppcheck.net</a></br>
         IRC: <a href="irc://irc.freenode.net/cppcheck">irc://irc.freenode.net/cppcheck</a></br>
        <p>
      </div>
  </body>
</html>
