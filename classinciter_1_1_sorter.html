<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quinoa: inciter::Sorter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="quinoa.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quinoa
   </div>
   <div id="projectbrief">Adaptive computational fluid dynamics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceinciter.html">inciter</a></li><li class="navelem"><a class="el" href="classinciter_1_1_sorter.html">Sorter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classinciter_1_1_sorter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inciter::Sorter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Mesh sorter for global distributed mesh node reordering.  
 <a href="classinciter_1_1_sorter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_sorter_8h_source.html">Sorter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inciter::Sorter:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter__inherit__graph.svg" width="118" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a82209537f43d0c87072bb4d2ae7a30dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a82209537f43d0c87072bb4d2ae7a30dc">Sorter</a> (const CProxy_Transporter &amp;transporter, const tk::CProxy_Solver &amp;solver, const <a class="el" href="namespacetk.html#aee5e81a51fe8734df54d70ab33b1b8d0">tk::SorterCallback</a> &amp;cbs, const <a class="el" href="classinciter_1_1_scheme.html">Scheme</a> &amp;scheme, const std::vector&lt; std::size_t &gt; &amp;ginpoel, const <a class="el" href="classtk_1_1_uns_mesh.html#a4b2d1f8043c0354b11461c118a4379c5">tk::UnsMesh::CoordMap</a> &amp;coordmap, const std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;bface, const std::vector&lt; std::size_t &gt; &amp;triinpoel, const std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;bnode, int nchare)</td></tr>
<tr class="memdesc:a82209537f43d0c87072bb4d2ae7a30dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a82209537f43d0c87072bb4d2ae7a30dc">More...</a><br /></td></tr>
<tr class="separator:a82209537f43d0c87072bb4d2ae7a30dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf45d3adb35902c5120c1ab5c849779"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#afdf45d3adb35902c5120c1ab5c849779">createWorkers</a> ()</td></tr>
<tr class="memdesc:afdf45d3adb35902c5120c1ab5c849779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create worker chare array elements on this PE.  <a href="#afdf45d3adb35902c5120c1ab5c849779">More...</a><br /></td></tr>
<tr class="separator:afdf45d3adb35902c5120c1ab5c849779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484aabe8effc0c1edce1ebedfb9493eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a484aabe8effc0c1edce1ebedfb9493eb">comm</a> (CkReductionMsg *msg)</td></tr>
<tr class="memdesc:a484aabe8effc0c1edce1ebedfb9493eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive aggregated chare boundary nodes associated to chares.  <a href="#a484aabe8effc0c1edce1ebedfb9493eb">More...</a><br /></td></tr>
<tr class="separator:a484aabe8effc0c1edce1ebedfb9493eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46342a666a96e5492888039cc42dd8ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a46342a666a96e5492888039cc42dd8ee">offset</a> (int c, std::size_t u)</td></tr>
<tr class="memdesc:a46342a666a96e5492888039cc42dd8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive number of uniquely assigned global mesh node IDs from chares with lower indices.  <a href="#a46342a666a96e5492888039cc42dd8ee">More...</a><br /></td></tr>
<tr class="separator:a46342a666a96e5492888039cc42dd8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58c9d0423081eddfb70f8f382462217"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#af58c9d0423081eddfb70f8f382462217">request</a> (int c, const std::unordered_set&lt; std::size_t &gt; &amp;nd)</td></tr>
<tr class="memdesc:af58c9d0423081eddfb70f8f382462217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request new global node IDs for old node IDs.  <a href="#af58c9d0423081eddfb70f8f382462217">More...</a><br /></td></tr>
<tr class="separator:af58c9d0423081eddfb70f8f382462217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccf01d451d039bd9245e4028d0a04f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a3ccf01d451d039bd9245e4028d0a04f8">lower</a> (std::size_t low)</td></tr>
<tr class="memdesc:a3ccf01d451d039bd9245e4028d0a04f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive lower bound of node IDs our PE operates on after reordering.  <a href="#a3ccf01d451d039bd9245e4028d0a04f8">More...</a><br /></td></tr>
<tr class="separator:a3ccf01d451d039bd9245e4028d0a04f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d643a1a64ca369030170c76a80b3257"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a3d643a1a64ca369030170c76a80b3257">neworder</a> (const std::unordered_map&lt; std::size_t, std::tuple&lt; std::size_t, <a class="el" href="classtk_1_1_uns_mesh.html#a880f09d552514074c37973e005b1f63e">tk::UnsMesh::Coord</a> &gt; &gt; &amp;nodes)</td></tr>
<tr class="memdesc:a3d643a1a64ca369030170c76a80b3257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive new (reordered) global node IDs and coordinates.  <a href="#a3d643a1a64ca369030170c76a80b3257">More...</a><br /></td></tr>
<tr class="separator:a3d643a1a64ca369030170c76a80b3257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a3090d1bf2b96b03e4a2251231adcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#ad0a3090d1bf2b96b03e4a2251231adcc">createDiscWorkers</a> ()</td></tr>
<tr class="memdesc:ad0a3090d1bf2b96b03e4a2251231adcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create <a class="el" href="classinciter_1_1_discretization.html" title="Discretization Charm++ chare array holding common functinoality to all discretization schemes...">Discretization</a> chare array elements on this PE.  <a href="#ad0a3090d1bf2b96b03e4a2251231adcc">More...</a><br /></td></tr>
<tr class="separator:ad0a3090d1bf2b96b03e4a2251231adcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7107801f98c24e6ab70ec3a9df742adb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a7107801f98c24e6ab70ec3a9df742adb">registerReducers</a> ()</td></tr>
<tr class="memdesc:a7107801f98c24e6ab70ec3a9df742adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure Charm++ reduction types.  <a href="#a7107801f98c24e6ab70ec3a9df742adb">More...</a><br /></td></tr>
<tr class="separator:a7107801f98c24e6ab70ec3a9df742adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae2a1cb405d957571f0f2fea901809bae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#ae2a1cb405d957571f0f2fea901809bae">mask</a> ()</td></tr>
<tr class="memdesc:ae2a1cb405d957571f0f2fea901809bae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start preparing for mesh node reordering in parallel.  <a href="#ae2a1cb405d957571f0f2fea901809bae">More...</a><br /></td></tr>
<tr class="separator:ae2a1cb405d957571f0f2fea901809bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11db6d02a4425d15fc8bafad5e8b2205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a11db6d02a4425d15fc8bafad5e8b2205">reorder</a> ()</td></tr>
<tr class="memdesc:a11db6d02a4425d15fc8bafad5e8b2205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorder global mesh node IDs.  <a href="#a11db6d02a4425d15fc8bafad5e8b2205">More...</a><br /></td></tr>
<tr class="separator:a11db6d02a4425d15fc8bafad5e8b2205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad068df94145f41c044bb0d2ce1281e49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#ad068df94145f41c044bb0d2ce1281e49">prepare</a> ()</td></tr>
<tr class="memdesc:ad068df94145f41c044bb0d2ce1281e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate new node IDs to old ones and return them to the requestor(s)  <a href="#ad068df94145f41c044bb0d2ce1281e49">More...</a><br /></td></tr>
<tr class="separator:ad068df94145f41c044bb0d2ce1281e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd77a726c4ea5281479f5589e0974dbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#acd77a726c4ea5281479f5589e0974dbc">finish</a> ()</td></tr>
<tr class="memdesc:acd77a726c4ea5281479f5589e0974dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute final result of reordering.  <a href="#acd77a726c4ea5281479f5589e0974dbc">More...</a><br /></td></tr>
<tr class="separator:acd77a726c4ea5281479f5589e0974dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca78610048ca13f97e5e15996cf49055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#aca78610048ca13f97e5e15996cf49055">bounds</a> ()</td></tr>
<tr class="memdesc:aca78610048ca13f97e5e15996cf49055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute lower and upper bounds of reordered node IDs our PE operates on.  <a href="#aca78610048ca13f97e5e15996cf49055">More...</a><br /></td></tr>
<tr class="separator:aca78610048ca13f97e5e15996cf49055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8f4494ad1bfc3c9f16bf216b8d96de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a7e8f4494ad1bfc3c9f16bf216b8d96de">create</a> ()</td></tr>
<tr class="memdesc:a7e8f4494ad1bfc3c9f16bf216b8d96de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create chare array elements on this PE and assign the global mesh element IDs they will operate on.  <a href="#a7e8f4494ad1bfc3c9f16bf216b8d96de">More...</a><br /></td></tr>
<tr class="separator:a7e8f4494ad1bfc3c9f16bf216b8d96de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a72ea4d1a6289dbad2406270375e4591d"><td class="memItemLeft" align="right" valign="top">CProxy_Transporter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a></td></tr>
<tr class="memdesc:a72ea4d1a6289dbad2406270375e4591d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host proxy.  <a href="#a72ea4d1a6289dbad2406270375e4591d">More...</a><br /></td></tr>
<tr class="separator:a72ea4d1a6289dbad2406270375e4591d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a74fae6b4cf88849f0fe978b5e170e"><td class="memItemLeft" align="right" valign="top">tk::CProxy_Solver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">m_solver</a></td></tr>
<tr class="memdesc:a04a74fae6b4cf88849f0fe978b5e170e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear system solver proxy.  <a href="#a04a74fae6b4cf88849f0fe978b5e170e">More...</a><br /></td></tr>
<tr class="separator:a04a74fae6b4cf88849f0fe978b5e170e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9b323cc984267a513608c81e30ed3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetk.html#aee5e81a51fe8734df54d70ab33b1b8d0">tk::SorterCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">m_cbs</a></td></tr>
<tr class="memdesc:a5c9b323cc984267a513608c81e30ed3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Charm++ callbacks associated to compile-time tags for sorter.  <a href="#a5c9b323cc984267a513608c81e30ed3a">More...</a><br /></td></tr>
<tr class="separator:a5c9b323cc984267a513608c81e30ed3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685d2256a9e60206e5ca8d8e9b2bf6cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinciter_1_1_scheme.html">Scheme</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a></td></tr>
<tr class="memdesc:a685d2256a9e60206e5ca8d8e9b2bf6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classinciter_1_1_discretization.html" title="Discretization Charm++ chare array holding common functinoality to all discretization schemes...">Discretization</a> scheme.  <a href="#a685d2256a9e60206e5ca8d8e9b2bf6cf">More...</a><br /></td></tr>
<tr class="separator:a685d2256a9e60206e5ca8d8e9b2bf6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4c5037d8dca525a56c03b316d6f1d9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a></td></tr>
<tr class="memdesc:a9c4c5037d8dca525a56c03b316d6f1d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tetrtahedron element connectivity of our chunk of the mesh (global ids)  <a href="#a9c4c5037d8dca525a56c03b316d6f1d9">More...</a><br /></td></tr>
<tr class="separator:a9c4c5037d8dca525a56c03b316d6f1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e22a30aa6f7279990ec4ea93ceb6127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtk_1_1_uns_mesh.html#a4b2d1f8043c0354b11461c118a4379c5">tk::UnsMesh::CoordMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">m_coordmap</a></td></tr>
<tr class="memdesc:a6e22a30aa6f7279990ec4ea93ceb6127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinates associated to global node IDs of our mesh chunk.  <a href="#a6e22a30aa6f7279990ec4ea93ceb6127">More...</a><br /></td></tr>
<tr class="separator:a6e22a30aa6f7279990ec4ea93ceb6127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa306c3cd8d2cd8a6bf2be6da3a126ece"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a></td></tr>
<tr class="memdesc:aa306c3cd8d2cd8a6bf2be6da3a126ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of boundary faces associated to side-set IDs.  <a href="#aa306c3cd8d2cd8a6bf2be6da3a126ece">More...</a><br /></td></tr>
<tr class="separator:aa306c3cd8d2cd8a6bf2be6da3a126ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e12cf381612434802575c9f6c04ec9d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a></td></tr>
<tr class="memdesc:a3e12cf381612434802575c9f6c04ec9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boundary face-node connectivity.  <a href="#a3e12cf381612434802575c9f6c04ec9d">More...</a><br /></td></tr>
<tr class="separator:a3e12cf381612434802575c9f6c04ec9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9ce6b022dbf99c7e1f4b33894d2944"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">m_bnode</a></td></tr>
<tr class="memdesc:acf9ce6b022dbf99c7e1f4b33894d2944"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of boundary nodes associated to side-set IDs.  <a href="#acf9ce6b022dbf99c7e1f4b33894d2944">More...</a><br /></td></tr>
<tr class="separator:acf9ce6b022dbf99c7e1f4b33894d2944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5561f7c2e28e3d78c0d9e0333cc715c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a></td></tr>
<tr class="memdesc:af5561f7c2e28e3d78c0d9e0333cc715c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of sorter chares.  <a href="#af5561f7c2e28e3d78c0d9e0333cc715c">More...</a><br /></td></tr>
<tr class="separator:af5561f7c2e28e3d78c0d9e0333cc715c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f916c2338d5fda993e24a781281841"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a></td></tr>
<tr class="memdesc:a39f916c2338d5fda993e24a781281841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unique global node IDs chares on our PE will contribute to.  <a href="#a39f916c2338d5fda993e24a781281841">More...</a><br /></td></tr>
<tr class="separator:a39f916c2338d5fda993e24a781281841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a836efa1dffde0dc807b90e9c22002a42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">m_noffset</a></td></tr>
<tr class="memdesc:a836efa1dffde0dc807b90e9c22002a42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for the number of chares from which this chare has received node reordering offsets from.  <a href="#a836efa1dffde0dc807b90e9c22002a42">More...</a><br /></td></tr>
<tr class="separator:a836efa1dffde0dc807b90e9c22002a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9687cc1a9065dee120303c090a453e8"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a></td></tr>
<tr class="memdesc:ae9687cc1a9065dee120303c090a453e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node IDs with.  <a href="#ae9687cc1a9065dee120303c090a453e8">More...</a><br /></td></tr>
<tr class="separator:ae9687cc1a9065dee120303c090a453e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ab9ae610e72bbe98f08ee5a0fc81b5"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a></td></tr>
<tr class="memdesc:a00ab9ae610e72bbe98f08ee5a0fc81b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication map used for distributed mesh node reordering.  <a href="#a00ab9ae610e72bbe98f08ee5a0fc81b5">More...</a><br /></td></tr>
<tr class="separator:a00ab9ae610e72bbe98f08ee5a0fc81b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3eab8acb64865dac049686919582a9a"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a></td></tr>
<tr class="memdesc:ad3eab8acb64865dac049686919582a9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starting global mesh node ID for node reordering on this chare during mesh node reordering.  <a href="#ad3eab8acb64865dac049686919582a9a">More...</a><br /></td></tr>
<tr class="separator:ad3eab8acb64865dac049686919582a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80fdbf65ae425a23e10ca718a296bfc3"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::size_t, std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a></td></tr>
<tr class="memdesc:a80fdbf65ae425a23e10ca718a296bfc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map associating new node IDs (value) to old node IDs (key)  <a href="#a80fdbf65ae425a23e10ca718a296bfc3">More...</a><br /></td></tr>
<tr class="separator:a80fdbf65ae425a23e10ca718a296bfc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c72377c4f7e1c6737546d03d767aafc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtk_1_1_uns_mesh.html#a4b2d1f8043c0354b11461c118a4379c5">tk::UnsMesh::CoordMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a></td></tr>
<tr class="memdesc:a4c72377c4f7e1c6737546d03d767aafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinates associated to global (new) node IDs during reordering.  <a href="#a4c72377c4f7e1c6737546d03d767aafc">More...</a><br /></td></tr>
<tr class="separator:a4c72377c4f7e1c6737546d03d767aafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15091e00fac037fc4d650f1061359ae4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">m_reqnodes</a></td></tr>
<tr class="memdesc:a15091e00fac037fc4d650f1061359ae4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of requested node IDs from chares.  <a href="#a15091e00fac037fc4d650f1061359ae4">More...</a><br /></td></tr>
<tr class="separator:a15091e00fac037fc4d650f1061359ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf82de5d37de81c8fdf60a91456eb8d1"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">m_lower</a></td></tr>
<tr class="memdesc:adf82de5d37de81c8fdf60a91456eb8d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower bound of node IDs this chare contributes to in a linear system.  <a href="#adf82de5d37de81c8fdf60a91456eb8d1">More...</a><br /></td></tr>
<tr class="separator:adf82de5d37de81c8fdf60a91456eb8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0935c8b79aa30fd919b4850cc5799f8"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a></td></tr>
<tr class="memdesc:ac0935c8b79aa30fd919b4850cc5799f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upper bound of node IDs this chare contributes to in a linear system.  <a href="#ac0935c8b79aa30fd919b4850cc5799f8">More...</a><br /></td></tr>
<tr class="separator:ac0935c8b79aa30fd919b4850cc5799f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdcf03ec50948788ef3050f2abb581c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#afdcf03ec50948788ef3050f2abb581c5">pup</a> (PUP::er &amp;p)</td></tr>
<tr class="memdesc:afdcf03ec50948788ef3050f2abb581c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack/Unpack serialize member function.  <a href="#afdcf03ec50948788ef3050f2abb581c5">More...</a><br /></td></tr>
<tr class="separator:afdcf03ec50948788ef3050f2abb581c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c2e33164f7523b98202c3e766f4449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinciter_1_1_sorter.html#a05c2e33164f7523b98202c3e766f4449">operator|</a> (PUP::er &amp;p, <a class="el" href="classinciter_1_1_sorter.html">Sorter</a> &amp;s)</td></tr>
<tr class="memdesc:a05c2e33164f7523b98202c3e766f4449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack/Unpack serialize operator|.  <a href="#a05c2e33164f7523b98202c3e766f4449">More...</a><br /></td></tr>
<tr class="separator:a05c2e33164f7523b98202c3e766f4449"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Mesh sorter for global distributed mesh node reordering. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00032">32</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a82209537f43d0c87072bb4d2ae7a30dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82209537f43d0c87072bb4d2ae7a30dc">&#9670;&nbsp;</a></span>Sorter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Sorter::Sorter </td>
          <td>(</td>
          <td class="paramtype">const CProxy_Transporter &amp;&#160;</td>
          <td class="paramname"><em>transporter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const tk::CProxy_Solver &amp;&#160;</td>
          <td class="paramname"><em>solver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacetk.html#aee5e81a51fe8734df54d70ab33b1b8d0">tk::SorterCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>cbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinciter_1_1_scheme.html">Scheme</a> &amp;&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ginpoel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtk_1_1_uns_mesh.html#a4b2d1f8043c0354b11461c118a4379c5">tk::UnsMesh::CoordMap</a> &amp;&#160;</td>
          <td class="paramname"><em>coordmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>bface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>triinpoel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>bnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nchare</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bface</td><td>Face lists mapped to side set ids </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">triinpoel</td><td>Interconnectivity of points and boundary-face </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00030">30</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_sorter_8_c_source.html#l00024">inciter::BndNodeMerger</a>, <a class="el" href="_d_g_8_c_source.html#l00028">inciter::g_inputdeck</a>, <a class="el" href="_derived_data_8_c_source.html#l00934">tk::genEsuelTet()</a>, <a class="el" href="_derived_data_8_c_source.html#l00042">tk::genEsup()</a>, <a class="el" href="_control_8h_source.html#l00046">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_reorder_8_c_source.html#l00164">tk::global2local()</a>, <a class="el" href="_derived_data_8h_source.html#l00033">tk::lpofa</a>, <a class="el" href="_sorter_8h_source.html#l00142">m_bface</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_hash_map_reducer_8h_source.html#l00034">tk::serialize()</a>, and <a class="el" href="_container_util_8h_source.html#l00023">tk::unique()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                             :</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>( transporter ),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">m_solver</a>( solver ),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">m_cbs</a>( cbs ),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a>( scheme ),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a>( ginpoel ),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">m_coordmap</a>( coordmap ),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>( bface ),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a>( triinpoel ),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">m_bnode</a>( bnode ),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a>( nchare ),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>( begin(ginpoel), end(ginpoel) ),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">m_noffset</a>( 0 ),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>(),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a>(),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a>( 0 ),</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>(),</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a>(),</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">m_reqnodes</a>(),</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">m_lower</a>( 0 ),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a>( 0 )</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// *****************************************************************************</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//  Constructor: prepare owned mesh node IDs for reordering</span><span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//! \param[in] bface Face lists mapped to side set ids</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">//! \param[in] triinpoel Interconnectivity of points and boundary-face</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span><span class="comment">// *****************************************************************************</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// Ensure boundary face ids will not index out of face connectivity</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( std::all_of( begin(<a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>), end(<a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            [&amp;](<span class="keyword">const</span> decltype(<a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>)::value_type&amp; s)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            { <span class="keywordflow">return</span> std::all_of( begin(s.second), end(s.second),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                  [&amp;](decltype(s.second)::value_type f)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                  { return f*3+2 &lt; m_triinpoel.size(); } ); } ),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;          <span class="stringliteral">&quot;Boundary face data structures inconsistent&quot;</span> );</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// Find chare-boundary nodes</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  std::vector&lt; std::size_t &gt; chbnode;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keyword">auto</span> el = <a class="code" href="namespacetk.html#a0ee7abd71123782d48e2ec04906fe982">tk::global2local</a>( ginpoel );      <span class="comment">// generate local mesh data</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; inpoel = std::get&lt; 0 &gt;( el );   <span class="comment">// local connectivity</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; gid = std::get&lt; 1 &gt;( el );      <span class="comment">// local-&gt;global node ids</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keyword">auto</span> esup = <a class="code" href="namespacetk.html#a66a2889d5d8aeb4a836842c6a1010463">tk::genEsup</a>( inpoel, 4 );       <span class="comment">// elements surrounding points</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">auto</span> esuel = <a class="code" href="namespacetk.html#a5b61b3cb6492e71ff9853404440fddcc">tk::genEsuelTet</a>( inpoel, esup ); <span class="comment">// elems surrounding elements</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">for</span> (std::size_t e=0; e&lt;esuel.size()/4; ++e) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">auto</span> mark = e*4;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">for</span> (std::size_t f=0; f&lt;4; ++f) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">if</span> (esuel[mark+f] == -1) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        chbnode.push_back( gid[ inpoel[ mark+<a class="code" href="namespacetk.html#a30ac7c57927d6134e6563817f5d005a0">tk::lpofa</a>[f][0] ] ] );</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        chbnode.push_back( gid[ inpoel[ mark+<a class="code" href="namespacetk.html#a30ac7c57927d6134e6563817f5d005a0">tk::lpofa</a>[f][1] ] ] );</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        chbnode.push_back( gid[ inpoel[ mark+<a class="code" href="namespacetk.html#a30ac7c57927d6134e6563817f5d005a0">tk::lpofa</a>[f][2] ] ] );</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// Make boundary nodes unique</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( chbnode );</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;()) <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>.chbnd();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Aggregate boundary nodes across all Sorter chares</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    bnd{{ thisIndex, std::move(chbnode) }};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keyword">auto</span> stream = <a class="code" href="namespacetk.html#ae89ad400e8727632059aab318889c52c">tk::serialize</a>( bnd );</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  contribute( stream.first, stream.second.get(), <a class="code" href="namespaceinciter.html#a8a0d9211ded7485dd6f9d0149cf158b8">BndNodeMerger</a>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    CkCallback(CkIndex_Sorter::comm(<span class="keyword">nullptr</span>),thisProxy) );</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_adf82de5d37de81c8fdf60a91456eb8d1"><div class="ttname"><a href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">inciter::Sorter::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00173">Sorter.h:173</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="namespacetk_html_a0ee7abd71123782d48e2ec04906fe982"><div class="ttname"><a href="namespacetk.html#a0ee7abd71123782d48e2ec04906fe982">tk::global2local</a></div><div class="ttdeci">std::tuple&lt; std::vector&lt; std::size_t &gt;, std::vector&lt; std::size_t &gt;, std::unordered_map&lt; std::size_t, std::size_t &gt; &gt; global2local(const std::vector&lt; std::size_t &gt; &amp;ginpoel)</div><div class="ttdoc">Generate element connectivity of local node IDs from connectivity of global node IDs also returning t...</div><div class="ttdef"><b>Definition:</b> <a href="_reorder_8_c_source.html#l00164">Reorder.C:164</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a04a74fae6b4cf88849f0fe978b5e170e"><div class="ttname"><a href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">inciter::Sorter::m_solver</a></div><div class="ttdeci">tk::CProxy_Solver m_solver</div><div class="ttdoc">Linear system solver proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00132">Sorter.h:132</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ad3eab8acb64865dac049686919582a9a"><div class="ttname"><a href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">inciter::Sorter::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this chare during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00165">Sorter.h:165</a></div></div>
<div class="ttc" id="namespacetk_html_a30ac7c57927d6134e6563817f5d005a0"><div class="ttname"><a href="namespacetk.html#a30ac7c57927d6134e6563817f5d005a0">tk::lpofa</a></div><div class="ttdeci">const std::array&lt; std::array&lt; std::size_t, 3 &gt;, 4 &gt; lpofa</div><div class="ttdef"><b>Definition:</b> <a href="_derived_data_8h_source.html#l00033">DerivedData.h:33</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_acf9ce6b022dbf99c7e1f4b33894d2944"><div class="ttname"><a href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">inciter::Sorter::m_bnode</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_bnode</div><div class="ttdoc">List of boundary nodes associated to side-set IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00146">Sorter.h:146</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ac0935c8b79aa30fd919b4850cc5799f8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">inciter::Sorter::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00175">Sorter.h:175</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a3e12cf381612434802575c9f6c04ec9d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">inciter::Sorter::m_triinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_triinpoel</div><div class="ttdoc">Boundary face-node connectivity. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00144">Sorter.h:144</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a6e22a30aa6f7279990ec4ea93ceb6127"><div class="ttname"><a href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">inciter::Sorter::m_coordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_coordmap</div><div class="ttdoc">Coordinates associated to global node IDs of our mesh chunk. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00140">Sorter.h:140</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a4c72377c4f7e1c6737546d03d767aafc"><div class="ttname"><a href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">inciter::Sorter::m_newcoordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_newcoordmap</div><div class="ttdoc">Coordinates associated to global (new) node IDs during reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00169">Sorter.h:169</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_aa306c3cd8d2cd8a6bf2be6da3a126ece"><div class="ttname"><a href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">inciter::Sorter::m_bface</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_bface</div><div class="ttdoc">List of boundary faces associated to side-set IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00142">Sorter.h:142</a></div></div>
<div class="ttc" id="namespacetk_html_a87af1b002bc711716bd170a714bda211"><div class="ttname"><a href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a></div><div class="ttdeci">void unique(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00023">ContainerUtil.h:23</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a836efa1dffde0dc807b90e9c22002a42"><div class="ttname"><a href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">inciter::Sorter::m_noffset</a></div><div class="ttdeci">int m_noffset</div><div class="ttdoc">Counter for the number of chares from which this chare has received node reordering offsets from...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00153">Sorter.h:153</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="namespacetk_html_ae89ad400e8727632059aab318889c52c"><div class="ttname"><a href="namespacetk.html#ae89ad400e8727632059aab318889c52c">tk::serialize</a></div><div class="ttdeci">std::pair&lt; int, std::unique_ptr&lt; char[]&gt; &gt; serialize(const std::unordered_map&lt; Key, T, Hash, Eq &gt; &amp;m)</div><div class="ttdef"><b>Definition:</b> <a href="_hash_map_reducer_8h_source.html#l00034">HashMapReducer.h:34</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a685d2256a9e60206e5ca8d8e9b2bf6cf"><div class="ttname"><a href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">inciter::Sorter::m_scheme</a></div><div class="ttdeci">Scheme m_scheme</div><div class="ttdoc">Discretization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00136">Sorter.h:136</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae9687cc1a9065dee120303c090a453e8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">inciter::Sorter::m_msum</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_msum</div><div class="ttdoc">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node ...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00156">Sorter.h:156</a></div></div>
<div class="ttc" id="namespaceinciter_html_a8a0d9211ded7485dd6f9d0149cf158b8"><div class="ttname"><a href="namespaceinciter.html#a8a0d9211ded7485dd6f9d0149cf158b8">inciter::BndNodeMerger</a></div><div class="ttdeci">static CkReduction::reducerType BndNodeMerger</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00024">Sorter.C:24</a></div></div>
<div class="ttc" id="namespacetk_html_a5b61b3cb6492e71ff9853404440fddcc"><div class="ttname"><a href="namespacetk.html#a5b61b3cb6492e71ff9853404440fddcc">tk::genEsuelTet</a></div><div class="ttdeci">std::vector&lt; int &gt; genEsuelTet(const std::vector&lt; std::size_t &gt; &amp;inpoel, const std::pair&lt; std::vector&lt; std::size_t &gt;, std::vector&lt; std::size_t &gt; &gt; &amp;esup)</div><div class="ttdoc">Generate derived data structure, elements surrounding elements as a fixed length data structure as a ...</div><div class="ttdef"><b>Definition:</b> <a href="_derived_data_8_c_source.html#l00934">DerivedData.C:934</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a5c9b323cc984267a513608c81e30ed3a"><div class="ttname"><a href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">inciter::Sorter::m_cbs</a></div><div class="ttdeci">tk::SorterCallback m_cbs</div><div class="ttdoc">Charm++ callbacks associated to compile-time tags for sorter. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00134">Sorter.h:134</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a15091e00fac037fc4d650f1061359ae4"><div class="ttname"><a href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">inciter::Sorter::m_reqnodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqnodes</div><div class="ttdoc">Queue of requested node IDs from chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00171">Sorter.h:171</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00146">Tags.h:146</a></div></div>
<div class="ttc" id="namespacetk_html_a66a2889d5d8aeb4a836842c6a1010463"><div class="ttname"><a href="namespacetk.html#a66a2889d5d8aeb4a836842c6a1010463">tk::genEsup</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; std::size_t &gt;, std::vector&lt; std::size_t &gt; &gt; genEsup(const std::vector&lt; std::size_t &gt; &amp;inpoel, std::size_t nnpe)</div><div class="ttdoc">Generate derived data structure, elements surrounding points. </div><div class="ttdef"><b>Definition:</b> <a href="_derived_data_8_c_source.html#l00042">DerivedData.C:42</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a9c4c5037d8dca525a56c03b316d6f1d9"><div class="ttname"><a href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">inciter::Sorter::m_ginpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_ginpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh (global ids) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00138">Sorter.h:138</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a00ab9ae610e72bbe98f08ee5a0fc81b5"><div class="ttname"><a href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">inciter::Sorter::m_reordcomm</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_reordcomm</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00162">Sorter.h:162</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00046">Control.h:46</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_af5561f7c2e28e3d78c0d9e0333cc715c"><div class="ttname"><a href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">inciter::Sorter::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of sorter chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00148">Sorter.h:148</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00033">Tags.h:33</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_d_g_8_c_source.html#l00028">DG.C:28</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a82209537f43d0c87072bb4d2ae7a30dc_cgraph.svg" width="483" height="260"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aca78610048ca13f97e5e15996cf49055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca78610048ca13f97e5e15996cf49055">&#9670;&nbsp;</a></span>bounds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::bounds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute lower and upper bounds of reordered node IDs our PE operates on. </p>
<p>This function computes the bounds that this chare will contribute to in a linear system solve. We find the largest node ID assigned on each chare by the reordering and use that as the upper global row index for this chare. Note that while this rarely results in equal number of rows assigned to chares, potentially resulting in some load-imbalance, it yields a pretty good division reducing communication costs during the assembly of the linear system, which is more important than a slight (FLOP) load imbalance. Since the upper index for chare 1 is the same as the lower index for chare 2, etc., we find the upper indices and then the lower indices for all chares are communicated. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00365">365</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8_c_source.html#l00399">lower()</a>, <a class="el" href="_sorter_8h_source.html#l00148">m_nchare</a>, <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>, and <a class="el" href="_sorter_8h_source.html#l00175">m_upper</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>.</p>
<div class="fragment"><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;{</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a> = *std::max_element( begin(<a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>), end(<a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>) );</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// The bounds are the dividers (global mesh point indices) at which the linear</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// system assembly is divided among PEs. However, Solver expect exclusive</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="comment">// upper indices, so we increase the last one by one here.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (thisIndex == <a class="code" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a>-1) ++<a class="code" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Tell the runtime system that the upper bound has been computed</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  upper_complete();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// Set lower index for chare 0 as 0</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (thisIndex == 0) <a class="code" href="classinciter_1_1_sorter.html#a3ccf01d451d039bd9245e4028d0a04f8">lower</a>( 0 );</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// All chares except the last one send their upper bound as the lower index for</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// the chare with thisIndex+1</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">if</span> (thisIndex &lt; <a class="code" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a>-1) thisProxy[ thisIndex+1 ].lower( <a class="code" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a> );</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_ac0935c8b79aa30fd919b4850cc5799f8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">inciter::Sorter::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00175">Sorter.h:175</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a3ccf01d451d039bd9245e4028d0a04f8"><div class="ttname"><a href="classinciter_1_1_sorter.html#a3ccf01d451d039bd9245e4028d0a04f8">inciter::Sorter::lower</a></div><div class="ttdeci">void lower(std::size_t low)</div><div class="ttdoc">Receive lower bound of node IDs our PE operates on after reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00399">Sorter.C:399</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_af5561f7c2e28e3d78c0d9e0333cc715c"><div class="ttname"><a href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">inciter::Sorter::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of sorter chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00148">Sorter.h:148</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_aca78610048ca13f97e5e15996cf49055_cgraph.svg" width="371" height="35"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a484aabe8effc0c1edce1ebedfb9493eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a484aabe8effc0c1edce1ebedfb9493eb">&#9670;&nbsp;</a></span>comm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::comm </td>
          <td>(</td>
          <td class="paramtype">CkReductionMsg *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive aggregated chare boundary nodes associated to chares. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>The chare call comes from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">found</td><td>Mesh nodes shared with chare fromch</td></tr>
  </table>
  </dd>
</dl>
<p>This is a reduction target receiving the aggregated chare boundary nodes associated to chare IDs across the whole problem. Here we setup the chare-node communication map. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00120">120</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8_c_source.html#l00410">create()</a>, <a class="el" href="_d_g_8_c_source.html#l00028">inciter::g_inputdeck</a>, <a class="el" href="_control_8h_source.html#l00046">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_sorter_8h_source.html#l00156">m_msum</a>, <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>, and <a class="el" href="_sorter_8_c_source.html#l00156">mask()</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;()) <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>.chcomm();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <span class="comment">// Unpack final result of aggregating boundary nodes associated to chares</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   std::unordered_map&lt; int, std::vector&lt; std::size_t &gt; &gt; bnd;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   PUP::fromMem creator( msg-&gt;getData() );</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   creator | bnd;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="keyword">delete</span> msg;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Store the global mesh node IDs associated to chare IDs bordering our mesh</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// chunk. This loop computes m_msum, a symmetric chare-node communication map,</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// that associates a unique set of global node IDs to chare IDs we share these</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// nodes with.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : bnd)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;     <span class="keywordflow">if</span> (c.first != thisIndex)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;       <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : c.second) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;         <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>.find( i );</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;         <span class="keywordflow">if</span> (it != end(<a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>)) <a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>[ c.first ].insert( i );</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;       }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1discr.html">tag::discr</a>, <a class="code" href="structtag_1_1reorder.html">tag::reorder</a> &gt;())</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classinciter_1_1_sorter.html#ae2a1cb405d957571f0f2fea901809bae">mask</a>();   <span class="comment">// continue with mesh node reordering if requested (or required)</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classinciter_1_1_sorter.html#a7e8f4494ad1bfc3c9f16bf216b8d96de">create</a>(); <span class="comment">// skip mesh node reordering</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae2a1cb405d957571f0f2fea901809bae"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae2a1cb405d957571f0f2fea901809bae">inciter::Sorter::mask</a></div><div class="ttdeci">void mask()</div><div class="ttdoc">Start preparing for mesh node reordering in parallel. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00156">Sorter.C:156</a></div></div>
<div class="ttc" id="structtag_1_1discr_html"><div class="ttname"><a href="structtag_1_1discr.html">tag::discr</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00143">Tags.h:143</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a7e8f4494ad1bfc3c9f16bf216b8d96de"><div class="ttname"><a href="classinciter_1_1_sorter.html#a7e8f4494ad1bfc3c9f16bf216b8d96de">inciter::Sorter::create</a></div><div class="ttdeci">void create()</div><div class="ttdoc">Create chare array elements on this PE and assign the global mesh element IDs they will operate on...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00410">Sorter.C:410</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae9687cc1a9065dee120303c090a453e8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">inciter::Sorter::m_msum</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_msum</div><div class="ttdoc">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node ...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00156">Sorter.h:156</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00146">Tags.h:146</a></div></div>
<div class="ttc" id="structtag_1_1reorder_html"><div class="ttname"><a href="structtag_1_1reorder.html">tag::reorder</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00034">Tags.h:34</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00046">Control.h:46</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00033">Tags.h:33</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_d_g_8_c_source.html#l00028">DG.C:28</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a484aabe8effc0c1edce1ebedfb9493eb_cgraph.svg" width="100%" height="382"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7e8f4494ad1bfc3c9f16bf216b8d96de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e8f4494ad1bfc3c9f16bf216b8d96de">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create chare array elements on this PE and assign the global mesh element IDs they will operate on. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00410">410</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_d_g_8_c_source.html#l00028">inciter::g_inputdeck</a>, <a class="el" href="_control_8h_source.html#l00046">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_sorter_8h_source.html#l00173">m_lower</a>, <a class="el" href="_sorter_8h_source.html#l00132">m_solver</a>, <a class="el" href="_sorter_8h_source.html#l00175">m_upper</a>, and <a class="el" href="namespaceinciter_1_1ctr.html#aba4e861eef4516f2b2b8f78e99b5af5ea353e47fe83cde0cbcddf72ac555dd1e4">inciter::ctr::MatCG</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00120">comm()</a>.</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;()) <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>.chbounds();</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1discr.html">tag::discr</a>, <a class="code" href="structtag_1_1scheme.html">tag::scheme</a> &gt;() == <a class="code" href="namespaceinciter_1_1ctr.html#aba4e861eef4516f2b2b8f78e99b5af5ea353e47fe83cde0cbcddf72ac555dd1e4">ctr::SchemeType::MatCG</a>)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// broadcast this chare&#39;s bounds of global node IDs to matrix solvers</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">m_solver</a>.ckLocalBranch()-&gt;chbounds( <a class="code" href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">m_lower</a>, <a class="code" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a> );</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">else</span> <span class="comment">// if no MatCG, no matrix solver, continue</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="classinciter_1_1_sorter.html#ad0a3090d1bf2b96b03e4a2251231adcc">createDiscWorkers</a>();</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_adf82de5d37de81c8fdf60a91456eb8d1"><div class="ttname"><a href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">inciter::Sorter::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00173">Sorter.h:173</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a04a74fae6b4cf88849f0fe978b5e170e"><div class="ttname"><a href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">inciter::Sorter::m_solver</a></div><div class="ttdeci">tk::CProxy_Solver m_solver</div><div class="ttdoc">Linear system solver proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00132">Sorter.h:132</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ac0935c8b79aa30fd919b4850cc5799f8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">inciter::Sorter::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00175">Sorter.h:175</a></div></div>
<div class="ttc" id="namespaceinciter_1_1ctr_html_aba4e861eef4516f2b2b8f78e99b5af5ea353e47fe83cde0cbcddf72ac555dd1e4"><div class="ttname"><a href="namespaceinciter_1_1ctr.html#aba4e861eef4516f2b2b8f78e99b5af5ea353e47fe83cde0cbcddf72ac555dd1e4">inciter::ctr::SchemeType::MatCG</a></div></div>
<div class="ttc" id="structtag_1_1discr_html"><div class="ttname"><a href="structtag_1_1discr.html">tag::discr</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00143">Tags.h:143</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00146">Tags.h:146</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ad0a3090d1bf2b96b03e4a2251231adcc"><div class="ttname"><a href="classinciter_1_1_sorter.html#ad0a3090d1bf2b96b03e4a2251231adcc">inciter::Sorter::createDiscWorkers</a></div><div class="ttdeci">void createDiscWorkers()</div><div class="ttdoc">Create Discretization chare array elements on this PE. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00426">Sorter.C:426</a></div></div>
<div class="ttc" id="structtag_1_1scheme_html"><div class="ttname"><a href="structtag_1_1scheme.html">tag::scheme</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00076">Tags.h:76</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00046">Control.h:46</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00033">Tags.h:33</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_d_g_8_c_source.html#l00028">DG.C:28</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a7e8f4494ad1bfc3c9f16bf216b8d96de_cgraph.svg" width="638" height="98"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad0a3090d1bf2b96b03e4a2251231adcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0a3090d1bf2b96b03e4a2251231adcc">&#9670;&nbsp;</a></span>createDiscWorkers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::createDiscWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create <a class="el" href="classinciter_1_1_discretization.html" title="Discretization Charm++ chare array holding common functinoality to all discretization schemes...">Discretization</a> chare array elements on this PE. </p>
<p>We create chare array elements by calling the insert() member function, which allows specifying the PE on which the array element is created. and we send each chare array element the chunk of mesh it will operate on. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00426">426</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_inciter_2_scheme_8h_source.html#l00220">inciter::Scheme::discInsert()</a>, <a class="el" href="_sorter_8h_source.html#l00134">m_cbs</a>, <a class="el" href="_sorter_8h_source.html#l00140">m_coordmap</a>, <a class="el" href="_sorter_8h_source.html#l00138">m_ginpoel</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_sorter_8h_source.html#l00156">m_msum</a>, <a class="el" href="_sorter_8h_source.html#l00148">m_nchare</a>, and <a class="el" href="_sorter_8h_source.html#l00136">m_scheme</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00410">create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// Create worker array element using Charm++ dynamic chare array element</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// insertion: 1st arg: chare id, last arg: PE chare is created on, middle</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// args: Discretization ctor args. See also Charm++ manual, Sec. &quot;Dynamic</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// Insertion&quot;.</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a>.<a class="code" href="classinciter_1_1_scheme.html#a1d1ce75b756fe1d53ed4ced26f9bccbd">discInsert</a>( thisIndex, <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>, <a class="code" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a>, <a class="code" href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">m_coordmap</a>, <a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>,</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                       <a class="code" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a>, CkMyPe() );</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  contribute( <a class="code" href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">m_cbs</a>.get&lt; <a class="code" href="structtag_1_1discinserted.html">tag::discinserted</a> &gt;() );</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a6e22a30aa6f7279990ec4ea93ceb6127"><div class="ttname"><a href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">inciter::Sorter::m_coordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_coordmap</div><div class="ttdoc">Coordinates associated to global node IDs of our mesh chunk. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00140">Sorter.h:140</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a685d2256a9e60206e5ca8d8e9b2bf6cf"><div class="ttname"><a href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">inciter::Sorter::m_scheme</a></div><div class="ttdeci">Scheme m_scheme</div><div class="ttdoc">Discretization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00136">Sorter.h:136</a></div></div>
<div class="ttc" id="structtag_1_1discinserted_html"><div class="ttname"><a href="structtag_1_1discinserted.html">tag::discinserted</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00186">Tags.h:186</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae9687cc1a9065dee120303c090a453e8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">inciter::Sorter::m_msum</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_msum</div><div class="ttdoc">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node ...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00156">Sorter.h:156</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a5c9b323cc984267a513608c81e30ed3a"><div class="ttname"><a href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">inciter::Sorter::m_cbs</a></div><div class="ttdeci">tk::SorterCallback m_cbs</div><div class="ttdoc">Charm++ callbacks associated to compile-time tags for sorter. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00134">Sorter.h:134</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a9c4c5037d8dca525a56c03b316d6f1d9"><div class="ttname"><a href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">inciter::Sorter::m_ginpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_ginpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh (global ids) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00138">Sorter.h:138</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_af5561f7c2e28e3d78c0d9e0333cc715c"><div class="ttname"><a href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">inciter::Sorter::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of sorter chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00148">Sorter.h:148</a></div></div>
<div class="ttc" id="classinciter_1_1_scheme_html_a1d1ce75b756fe1d53ed4ced26f9bccbd"><div class="ttname"><a href="classinciter_1_1_scheme.html#a1d1ce75b756fe1d53ed4ced26f9bccbd">inciter::Scheme::discInsert</a></div><div class="ttdeci">void discInsert(const CkArrayIndex1D &amp;x, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="_inciter_2_scheme_8h_source.html#l00220">Scheme.h:220</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_ad0a3090d1bf2b96b03e4a2251231adcc_cgraph.svg" width="432" height="48"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afdf45d3adb35902c5120c1ab5c849779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdf45d3adb35902c5120c1ab5c849779">&#9670;&nbsp;</a></span>createWorkers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::createWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create worker chare array elements on this PE. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00446">446</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_exception_8h_source.html#l00045">Assert</a>, <a class="el" href="_scheme_base_8h_source.html#l00061">inciter::SchemeBase::get()</a>, <a class="el" href="_inciter_2_scheme_8h_source.html#l00326">inciter::Scheme::insert()</a>, <a class="el" href="_sorter_8h_source.html#l00142">m_bface</a>, <a class="el" href="_sorter_8h_source.html#l00146">m_bnode</a>, <a class="el" href="_sorter_8h_source.html#l00134">m_cbs</a>, <a class="el" href="_sorter_8h_source.html#l00138">m_ginpoel</a>, <a class="el" href="_sorter_8h_source.html#l00167">m_newnodes</a>, <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>, <a class="el" href="_sorter_8h_source.html#l00136">m_scheme</a>, <a class="el" href="_sorter_8h_source.html#l00132">m_solver</a>, <a class="el" href="_sorter_8h_source.html#l00144">m_triinpoel</a>, and <a class="el" href="_container_util_8h_source.html#l00023">tk::unique()</a>.</p>
<div class="fragment"><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;{</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">// If there was no reordering, assign a one-to-one node-map</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>.empty()) <span class="keywordflow">for</span> (<span class="keyword">auto</span> n : <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>) <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>[ n ] = n;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// Extract this chare&#39;s portion of the boundary node lists</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  decltype(<a class="code" href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">m_bnode</a>) chbnode;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; s : <a class="code" href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">m_bnode</a>) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keyword">auto</span>&amp; n = chbnode[ s.first ];</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : s.second) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keyword">auto</span> q = <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>.find(p);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">if</span> (q != end(<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>)) n.push_back( q-&gt;second );</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">if</span> (n.empty()) chbnode.erase( s.first );</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Make boundary node IDs unique for each physical boundary (side set)</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; s : chbnode) <a class="code" href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a>( s.second );</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="comment">// Generate set of all mesh faces</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <a class="code" href="classtk_1_1_uns_mesh.html#a0e9dba8b930a6ae97faaf2717ebe84e9">tk::UnsMesh::FaceSet</a> faceset;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">for</span> (std::size_t e=0; e&lt;<a class="code" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a>.size()/4; ++e) { <span class="comment">// for all tets</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">auto</span> mark = e*4;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">for</span> (std::size_t f=0; f&lt;4; ++f) <span class="comment">// for all tet faces</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      faceset.insert( {{{ m_ginpoel[ mark + tk::lpofa[f][0] ],</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                          m_ginpoel[ mark + tk::lpofa[f][1] ],</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                          m_ginpoel[ mark + tk::lpofa[f][2] ] }}} );</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// Extract this chare&#39;s portion of the boundary faces and their connectivity</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  decltype(<a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>) chbface;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  decltype(<a class="code" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a>) chtriinpoel;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  std::size_t cnt = 0;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// Generate boundary </span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ss : <a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>)  <span class="comment">// for all phsyical boundaries (sidesets)</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> f : ss.second) {    <span class="comment">// for all faces on this physical boundary</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="comment">// attempt to find face nodes on this chare</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keyword">auto</span> f1 = <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>.find( <a class="code" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a>[f*3+0] );</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keyword">auto</span> f2 = <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>.find( <a class="code" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a>[f*3+1] );</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keyword">auto</span> f3 = <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>.find( <a class="code" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a>[f*3+2] );</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="comment">// if all 3 nodes of the physical boundary face are on this chare</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span> (f1!=end(<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>) &amp;&amp; f2!=end(<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>) &amp;&amp; f3!=end(<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>)) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">// Create face with new node ids (after mesh node reordering)</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        std::array&lt; std::size_t, 3 &gt; n{{f1-&gt;second, f2-&gt;second, f3-&gt;second}};</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="comment">// if this boundary face is on this chare</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">if</span> (faceset.find(n) != end(faceset)) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          <span class="comment">// store face connectivity with new (global) node ids of this chare</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          chtriinpoel.insert( end(chtriinpoel), begin(n), end(n) );</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <span class="comment">// generate/store physical boundary face id associated to sideset id</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          chbface[ ss.first ].push_back( cnt++ );</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// Create face data</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  FaceData fd( <a class="code" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a>, chbface, chbnode, chtriinpoel );</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Make sure (bound) base is already created and accessible</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a>( <a class="code" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a>.<a class="code" href="classinciter_1_1_scheme_base.html#a346149e6f93b08edc96a7515d3411a02">get</a>()[thisIndex].ckLocal() != <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;          <span class="stringliteral">&quot;About to pass nullptr&quot;</span> );</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// Create worker array element using Charm++ dynamic chare array element</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// insertion: 1st arg: chare id, last arg: PE chare is created on, middle</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// args: Discretization&#39;s child ctor args. See also Charm++ manual, Sec.</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// &quot;Dynamic Insertion&quot;.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a>.<a class="code" href="classinciter_1_1_scheme.html#ae69bc42c92ce04d6b1fd15fc92937f1a">insert</a>( thisIndex, <a class="code" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a>.<a class="code" href="classinciter_1_1_scheme_base.html#a346149e6f93b08edc96a7515d3411a02">get</a>(), <a class="code" href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">m_solver</a>, fd, CkMyPe() );</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  contribute( <a class="code" href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">m_cbs</a>.get&lt; <a class="code" href="structtag_1_1workinserted.html">tag::workinserted</a> &gt;() );</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a04a74fae6b4cf88849f0fe978b5e170e"><div class="ttname"><a href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">inciter::Sorter::m_solver</a></div><div class="ttdeci">tk::CProxy_Solver m_solver</div><div class="ttdoc">Linear system solver proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00132">Sorter.h:132</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_acf9ce6b022dbf99c7e1f4b33894d2944"><div class="ttname"><a href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">inciter::Sorter::m_bnode</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_bnode</div><div class="ttdoc">List of boundary nodes associated to side-set IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00146">Sorter.h:146</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a3e12cf381612434802575c9f6c04ec9d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">inciter::Sorter::m_triinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_triinpoel</div><div class="ttdoc">Boundary face-node connectivity. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00144">Sorter.h:144</a></div></div>
<div class="ttc" id="classtk_1_1_uns_mesh_html_a0e9dba8b930a6ae97faaf2717ebe84e9"><div class="ttname"><a href="classtk_1_1_uns_mesh.html#a0e9dba8b930a6ae97faaf2717ebe84e9">tk::UnsMesh::FaceSet</a></div><div class="ttdeci">std::unordered_set&lt; Face, Hash&lt; 3 &gt;, Eq&lt; 3 &gt; &gt; FaceSet</div><div class="ttdoc">Unique set of faces. </div><div class="ttdef"><b>Definition:</b> <a href="_uns_mesh_8h_source.html#l00112">UnsMesh.h:112</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_aa306c3cd8d2cd8a6bf2be6da3a126ece"><div class="ttname"><a href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">inciter::Sorter::m_bface</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_bface</div><div class="ttdoc">List of boundary faces associated to side-set IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00142">Sorter.h:142</a></div></div>
<div class="ttc" id="namespacetk_html_a87af1b002bc711716bd170a714bda211"><div class="ttname"><a href="namespacetk.html#a87af1b002bc711716bd170a714bda211">tk::unique</a></div><div class="ttdeci">void unique(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00023">ContainerUtil.h:23</a></div></div>
<div class="ttc" id="classinciter_1_1_scheme_html_ae69bc42c92ce04d6b1fd15fc92937f1a"><div class="ttname"><a href="classinciter_1_1_scheme.html#ae69bc42c92ce04d6b1fd15fc92937f1a">inciter::Scheme::insert</a></div><div class="ttdeci">void insert(const CkArrayIndex1D &amp;x, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="_inciter_2_scheme_8h_source.html#l00326">Scheme.h:326</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_scheme_base_html_a346149e6f93b08edc96a7515d3411a02"><div class="ttname"><a href="classinciter_1_1_scheme_base.html#a346149e6f93b08edc96a7515d3411a02">inciter::SchemeBase::get</a></div><div class="ttdeci">CProxy_Discretization &amp; get() noexcept</div><div class="ttdoc">Get reference to discretization proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_scheme_base_8h_source.html#l00061">SchemeBase.h:61</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a685d2256a9e60206e5ca8d8e9b2bf6cf"><div class="ttname"><a href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">inciter::Sorter::m_scheme</a></div><div class="ttdeci">Scheme m_scheme</div><div class="ttdoc">Discretization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00136">Sorter.h:136</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a5c9b323cc984267a513608c81e30ed3a"><div class="ttname"><a href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">inciter::Sorter::m_cbs</a></div><div class="ttdeci">tk::SorterCallback m_cbs</div><div class="ttdoc">Charm++ callbacks associated to compile-time tags for sorter. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00134">Sorter.h:134</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a9c4c5037d8dca525a56c03b316d6f1d9"><div class="ttname"><a href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">inciter::Sorter::m_ginpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_ginpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh (global ids) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00138">Sorter.h:138</a></div></div>
<div class="ttc" id="structtag_1_1workinserted_html"><div class="ttname"><a href="structtag_1_1workinserted.html">tag::workinserted</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00188">Tags.h:188</a></div></div>
<div class="ttc" id="_exception_8h_html_a6e509ba096551a0924ec024afadba810"><div class="ttname"><a href="_exception_8h.html#a6e509ba096551a0924ec024afadba810">Assert</a></div><div class="ttdeci">#define Assert(expr,...)</div><div class="ttdoc">Assert macro that only throws an exception if expr fails. </div><div class="ttdef"><b>Definition:</b> <a href="_exception_8h_source.html#l00045">Exception.h:45</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_afdf45d3adb35902c5120c1ab5c849779_cgraph.svg" width="446" height="134"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="acd77a726c4ea5281479f5589e0974dbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd77a726c4ea5281479f5589e0974dbc">&#9670;&nbsp;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute final result of reordering. </p>
<p>Reordering is now complete on this chare. We now remap all mesh data to reflect the new ordering. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00333">333</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8_c_source.html#l00365">bounds()</a>, <a class="el" href="_container_util_8h_source.html#l00051">tk::cref_find()</a>, <a class="el" href="_d_g_8_c_source.html#l00028">inciter::g_inputdeck</a>, <a class="el" href="_control_8h_source.html#l00046">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_sorter_8h_source.html#l00140">m_coordmap</a>, <a class="el" href="_sorter_8h_source.html#l00138">m_ginpoel</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_sorter_8h_source.html#l00156">m_msum</a>, <a class="el" href="_sorter_8h_source.html#l00169">m_newcoordmap</a>, <a class="el" href="_sorter_8h_source.html#l00167">m_newnodes</a>, and <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00313">neworder()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// Update elem connectivity with the reordered node IDs</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; p : <a class="code" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a>) p = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>, p );</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// Update node coordinate map with the reordered IDs</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">m_coordmap</a> = <a class="code" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// Update symmetric chare-node communication map with the reordered IDs</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>) {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    decltype(c.second) n;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    for (auto p : c.second) n.insert( <a class="code" href="namespacetk.html">tk</a>::<a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">cref_find</a>(<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>,p) );</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    c.second = <a class="code" href="namespacestd.html">std</a>::move( n );</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// Update unique global node IDs of this chare with the reordered node IDs</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>.clear();</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>.insert( begin(m_ginpoel), end(m_ginpoel) );</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">// Progress report to host</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  if ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.get&lt; <a class="code" href="namespacetag.html">tag</a>::cmd, <a class="code" href="namespacetag.html">tag</a>::feedback &gt;() ) <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>.chreordered();</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">// Compute lower and upper bounds of reordered node IDs on this chare</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#aca78610048ca13f97e5e15996cf49055">bounds</a>();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a6e22a30aa6f7279990ec4ea93ceb6127"><div class="ttname"><a href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">inciter::Sorter::m_coordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_coordmap</div><div class="ttdoc">Coordinates associated to global node IDs of our mesh chunk. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00140">Sorter.h:140</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_aca78610048ca13f97e5e15996cf49055"><div class="ttname"><a href="classinciter_1_1_sorter.html#aca78610048ca13f97e5e15996cf49055">inciter::Sorter::bounds</a></div><div class="ttdeci">void bounds()</div><div class="ttdoc">Compute lower and upper bounds of reordered node IDs our PE operates on. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00365">Sorter.C:365</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a4c72377c4f7e1c6737546d03d767aafc"><div class="ttname"><a href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">inciter::Sorter::m_newcoordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_newcoordmap</div><div class="ttdoc">Coordinates associated to global (new) node IDs during reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00169">Sorter.h:169</a></div></div>
<div class="ttc" id="namespacetag_html"><div class="ttname"><a href="namespacetag.html">tag</a></div><div class="ttdoc">Tags used as unique-type labels for compile-time code-generation. </div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00013">Tags.h:13</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00051">ContainerUtil.h:51</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae9687cc1a9065dee120303c090a453e8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">inciter::Sorter::m_msum</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_msum</div><div class="ttdoc">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node ...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00156">Sorter.h:156</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a9c4c5037d8dca525a56c03b316d6f1d9"><div class="ttname"><a href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">inciter::Sorter::m_ginpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_ginpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh (global ids) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00138">Sorter.h:138</a></div></div>
<div class="ttc" id="namespacetk_html"><div class="ttname"><a href="namespacetk.html">tk</a></div><div class="ttdoc">Toolkit declarations and definitions for general purpose utilities. </div><div class="ttdef"><b>Definition:</b> <a href="_callback_8h_source.html#l00017">Callback.h:17</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_d_g_8_c_source.html#l00028">DG.C:28</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_acd77a726c4ea5281479f5589e0974dbc_cgraph.svg" width="568" height="134"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3ccf01d451d039bd9245e4028d0a04f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccf01d451d039bd9245e4028d0a04f8">&#9670;&nbsp;</a></span>lower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::lower </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>low</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive lower bound of node IDs our PE operates on after reordering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">low</td><td>Lower bound of node IDs assigned to this chare </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00399">399</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8h_source.html#l00173">m_lower</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00365">bounds()</a>.</p>
<div class="fragment"><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;{</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">m_lower</a> = low;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  lower_complete();</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_adf82de5d37de81c8fdf60a91456eb8d1"><div class="ttname"><a href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">inciter::Sorter::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00173">Sorter.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2a1cb405d957571f0f2fea901809bae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2a1cb405d957571f0f2fea901809bae">&#9670;&nbsp;</a></span>mask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::mask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start preparing for mesh node reordering in parallel. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00156">156</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_d_g_8_c_source.html#l00028">inciter::g_inputdeck</a>, <a class="el" href="_control_8h_source.html#l00046">tk::Control&lt; Ts &gt;::get()</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_sorter_8h_source.html#l00156">m_msum</a>, <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>, and <a class="el" href="_sorter_8h_source.html#l00162">m_reordcomm</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00120">comm()</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// Compute asymmetric communcation map that will be used for reordering. This</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// communication map is asymmetric because it associates global mesh node IDs</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="comment">// to chares only with lower IDs than thisIndex. That is because this chare</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// will need to receive new (reorderd) node IDs only from chares with lower</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// IDs than thisIndex during node reordering. Since it only stores data for</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// lower chare IDs, it is asymmetric. Note that because of this algorithm the</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// type of m_msum is an ordered map, because of the std::none_of() algorithm</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// needs to look at ALL chares this chare potentially communicates nodes with</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// that have lower chare IDs that thisIndex. Since the map is ordered, it can</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// walk through from the beginning of m_msum until the outer loop variable c,</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// which is the chare ID the outer loop works on in a given cycle.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> c=<a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>.cbegin(); c!=<a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>.cend(); ++c)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (thisIndex &gt; c-&gt;first) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keyword">auto</span>&amp; n = <a class="code" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a>[ c-&gt;first ];</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> j : c-&gt;second)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">if</span> (std::none_of( <a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>.cbegin(), c,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;             [ j ]( <span class="keyword">const</span> decltype(<a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>)::value_type&amp; s )</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;             { <span class="keywordflow">return</span> s.second.find(j) != end(s.second); } )) {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          n.insert(j);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (n.empty()) <a class="code" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a>.erase( c-&gt;first );</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// Count up total number of nodes this chare will need to receive</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  std::size_t nrecv = 0;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; u : <a class="code" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a>) nrecv += u.second.size();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">g_inputdeck</a>.<a class="code" href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">get</a>&lt; <a class="code" href="structtag_1_1cmd.html">tag::cmd</a>, <a class="code" href="structtag_1_1feedback.html">tag::feedback</a> &gt;() ) <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>.chmask();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// Compute number of mesh node IDs we will assign IDs to</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keyword">auto</span> nuniq = <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>.size() - nrecv;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// Start computing offsets for node reordering</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  thisProxy.offset( thisIndex, nuniq );</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae9687cc1a9065dee120303c090a453e8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">inciter::Sorter::m_msum</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_msum</div><div class="ttdoc">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node ...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00156">Sorter.h:156</a></div></div>
<div class="ttc" id="structtag_1_1cmd_html"><div class="ttname"><a href="structtag_1_1cmd.html">tag::cmd</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00146">Tags.h:146</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a00ab9ae610e72bbe98f08ee5a0fc81b5"><div class="ttname"><a href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">inciter::Sorter::m_reordcomm</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_reordcomm</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00162">Sorter.h:162</a></div></div>
<div class="ttc" id="classtk_1_1_control_html_a85c14acef1b9de96946fcf2ab7c08721"><div class="ttname"><a href="classtk_1_1_control.html#a85c14acef1b9de96946fcf2ab7c08721">tk::Control::get</a></div><div class="ttdeci">constexpr const Tuple::template nT&lt; tag &gt; &amp; get() const noexcept</div><div class="ttdoc">Const-ref accessor to single element at 1st level. </div><div class="ttdef"><b>Definition:</b> <a href="_control_8h_source.html#l00046">Control.h:46</a></div></div>
<div class="ttc" id="structtag_1_1feedback_html"><div class="ttname"><a href="structtag_1_1feedback.html">tag::feedback</a></div><div class="ttdef"><b>Definition:</b> <a href="_tags_8h_source.html#l00033">Tags.h:33</a></div></div>
<div class="ttc" id="namespaceinciter_html_a090ec6ca70e71bf204aa6ed5295bcaf3"><div class="ttname"><a href="namespaceinciter.html#a090ec6ca70e71bf204aa6ed5295bcaf3">inciter::g_inputdeck</a></div><div class="ttdeci">ctr::InputDeck g_inputdeck</div><div class="ttdef"><b>Definition:</b> <a href="_d_g_8_c_source.html#l00028">DG.C:28</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_ae2a1cb405d957571f0f2fea901809bae_cgraph.svg" width="326" height="35"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3d643a1a64ca369030170c76a80b3257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d643a1a64ca369030170c76a80b3257">&#9670;&nbsp;</a></span>neworder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::neworder </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_map&lt; std::size_t, std::tuple&lt; std::size_t, <a class="el" href="classtk_1_1_uns_mesh.html#a880f09d552514074c37973e005b1f63e">tk::UnsMesh::Coord</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive new (reordered) global node IDs and coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nd</td><td>Map associating new to old node IDs </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00313">313</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8h_source.html#l00169">m_newcoordmap</a>, <a class="el" href="_sorter_8h_source.html#l00167">m_newnodes</a>, and <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// Store new node IDs associated to old ones, and node coordinates associated</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// to new node IDs.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : nodes) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keyword">auto</span> <span class="keywordtype">id</span> = std::get&lt; 0 &gt;( p.second );</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>[ p.first ] = id;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a>.emplace( <span class="keywordtype">id</span>, std::get&lt;1&gt;(p.second) );</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// If all our nodes have new IDs assigned, reorder complete on this PE</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (m_newnodes.size() == <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>.size()) <a class="code" href="classinciter_1_1_sorter.html#acd77a726c4ea5281479f5589e0974dbc">finish</a>();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_acd77a726c4ea5281479f5589e0974dbc"><div class="ttname"><a href="classinciter_1_1_sorter.html#acd77a726c4ea5281479f5589e0974dbc">inciter::Sorter::finish</a></div><div class="ttdeci">void finish()</div><div class="ttdoc">Compute final result of reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00333">Sorter.C:333</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a4c72377c4f7e1c6737546d03d767aafc"><div class="ttname"><a href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">inciter::Sorter::m_newcoordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_newcoordmap</div><div class="ttdoc">Coordinates associated to global (new) node IDs during reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00169">Sorter.h:169</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a3d643a1a64ca369030170c76a80b3257_cgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a46342a666a96e5492888039cc42dd8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46342a666a96e5492888039cc42dd8ee">&#9670;&nbsp;</a></span>offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::offset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive number of uniquely assigned global mesh node IDs from chares with lower indices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>Chare ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">u</td><td>Number of mesh node IDs chare c will assign IDs to</td></tr>
  </table>
  </dd>
</dl>
<p>This function computes the offset each chare will need to start assigning its new node IDs from. The offset for a chare is the offset for the previous chare plus the number of node IDs the previous chare (uniquely) assigns new IDs for minus the number of node IDs the previous chare receives from others (lower chares). This is computed here in a parallel/distributed fashion by each chare sending its number of node IDs (that it uniquely assigns) to all chares. Note that each chare would only need to send this information to chares with higher IDs, but instead this function is called in a broadcast fashion, because that is more efficient than individual calls to only chares with higher IDs. Therefore when computing the offsets, we only count the lower chares. When this is done, we have the precise asymmetric communication map as well as the start offset on all chares and so we can start the distributed global mesh node ID reordering. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00198">198</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8h_source.html#l00148">m_nchare</a>, <a class="el" href="_sorter_8h_source.html#l00153">m_noffset</a>, <a class="el" href="_sorter_8h_source.html#l00165">m_start</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">if</span> (c &lt; thisIndex) <a class="code" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a> += u;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (++<a class="code" href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">m_noffset</a> == <a class="code" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a>) <a class="code" href="classinciter_1_1_sorter.html#a11db6d02a4425d15fc8bafad5e8b2205">reorder</a>();</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_ad3eab8acb64865dac049686919582a9a"><div class="ttname"><a href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">inciter::Sorter::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this chare during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00165">Sorter.h:165</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a836efa1dffde0dc807b90e9c22002a42"><div class="ttname"><a href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">inciter::Sorter::m_noffset</a></div><div class="ttdeci">int m_noffset</div><div class="ttdoc">Counter for the number of chares from which this chare has received node reordering offsets from...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00153">Sorter.h:153</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a11db6d02a4425d15fc8bafad5e8b2205"><div class="ttname"><a href="classinciter_1_1_sorter.html#a11db6d02a4425d15fc8bafad5e8b2205">inciter::Sorter::reorder</a></div><div class="ttdeci">void reorder()</div><div class="ttdoc">Reorder global mesh node IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00225">Sorter.C:225</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_af5561f7c2e28e3d78c0d9e0333cc715c"><div class="ttname"><a href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">inciter::Sorter::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of sorter chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00148">Sorter.h:148</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a46342a666a96e5492888039cc42dd8ee_cgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad068df94145f41c044bb0d2ce1281e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad068df94145f41c044bb0d2ce1281e49">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::prepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Associate new node IDs to old ones and return them to the requestor(s) </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00285">285</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00051">tk::cref_find()</a>, <a class="el" href="_container_util_8h_source.html#l00195">tk::destroy()</a>, <a class="el" href="_sorter_8h_source.html#l00169">m_newcoordmap</a>, <a class="el" href="_sorter_8h_source.html#l00167">m_newnodes</a>, and <a class="el" href="_sorter_8h_source.html#l00171">m_reqnodes</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Find and return new node IDs to sender</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; r : <a class="code" href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">m_reqnodes</a>) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    std::unordered_map&lt; std::size_t,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      std::tuple&lt; std::size_t, tk::UnsMesh::Coord &gt; &gt; n;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : r.second) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keyword">auto</span> newid = <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>( <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>, p );</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      n.emplace( p,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        std::make_tuple( newid, <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>(<a class="code" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a>,newid) ) );</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    thisProxy[ r.first ].neworder( n );</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a>( m_reqnodes ); <span class="comment">// Clear queue of requests just fulfilled</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// Re-enable SDAG wait for preparing new node requests</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  thisProxy[ thisIndex ].wait4prep();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// Re-enable trigger signaling that reordering of owned node IDs are</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// complete right away</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  reorderowned_complete();</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a4c72377c4f7e1c6737546d03d767aafc"><div class="ttname"><a href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">inciter::Sorter::m_newcoordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_newcoordmap</div><div class="ttdoc">Coordinates associated to global (new) node IDs during reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00169">Sorter.h:169</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00051">ContainerUtil.h:51</a></div></div>
<div class="ttc" id="namespacetk_html_a9140b408dcbd2eaef58f9c3a54fa104a"><div class="ttname"><a href="namespacetk.html#a9140b408dcbd2eaef58f9c3a54fa104a">tk::destroy</a></div><div class="ttdeci">void destroy(Container &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00195">ContainerUtil.h:195</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a15091e00fac037fc4d650f1061359ae4"><div class="ttname"><a href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">inciter::Sorter::m_reqnodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqnodes</div><div class="ttdoc">Queue of requested node IDs from chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00171">Sorter.h:171</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_ad068df94145f41c044bb0d2ce1281e49_cgraph.svg" width="323" height="84"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afdcf03ec50948788ef3050f2abb581c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdcf03ec50948788ef3050f2abb581c5">&#9670;&nbsp;</a></span>pup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void inciter::Sorter::pup </td>
          <td>(</td>
          <td class="paramtype">PUP::er &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pack/Unpack serialize member function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p</td><td>Charm++'s PUP::er serializer object reference </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00099">99</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8h_source.html#l00142">m_bface</a>, <a class="el" href="_sorter_8h_source.html#l00146">m_bnode</a>, <a class="el" href="_sorter_8h_source.html#l00134">m_cbs</a>, <a class="el" href="_sorter_8h_source.html#l00140">m_coordmap</a>, <a class="el" href="_sorter_8h_source.html#l00138">m_ginpoel</a>, <a class="el" href="_sorter_8h_source.html#l00130">m_host</a>, <a class="el" href="_sorter_8h_source.html#l00173">m_lower</a>, <a class="el" href="_sorter_8h_source.html#l00156">m_msum</a>, <a class="el" href="_sorter_8h_source.html#l00148">m_nchare</a>, <a class="el" href="_sorter_8h_source.html#l00169">m_newcoordmap</a>, <a class="el" href="_sorter_8h_source.html#l00167">m_newnodes</a>, <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>, <a class="el" href="_sorter_8h_source.html#l00153">m_noffset</a>, <a class="el" href="_sorter_8h_source.html#l00162">m_reordcomm</a>, <a class="el" href="_sorter_8h_source.html#l00171">m_reqnodes</a>, <a class="el" href="_sorter_8h_source.html#l00136">m_scheme</a>, <a class="el" href="_sorter_8h_source.html#l00132">m_solver</a>, <a class="el" href="_sorter_8h_source.html#l00165">m_start</a>, <a class="el" href="_sorter_8h_source.html#l00144">m_triinpoel</a>, <a class="el" href="_sorter_8h_source.html#l00175">m_upper</a>, and <a class="el" href="_p_u_p_util_8h_source.html#l00045">PUP::pup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                         {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <a class="code" href="namespace_p_u_p.html#aa494dd0331773529acf90e7f40658c63">CBase_Sorter::pup</a>(p);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">m_host</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">m_solver</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">m_cbs</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">m_scheme</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">m_ginpoel</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">m_coordmap</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">m_bface</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">m_triinpoel</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">m_bnode</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">m_nchare</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">m_noffset</a>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">m_msum</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">m_reqnodes</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">m_lower</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      p | <a class="code" href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">m_upper</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="ttc" id="classinciter_1_1_sorter_html_adf82de5d37de81c8fdf60a91456eb8d1"><div class="ttname"><a href="classinciter_1_1_sorter.html#adf82de5d37de81c8fdf60a91456eb8d1">inciter::Sorter::m_lower</a></div><div class="ttdeci">std::size_t m_lower</div><div class="ttdoc">Lower bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00173">Sorter.h:173</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a72ea4d1a6289dbad2406270375e4591d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a72ea4d1a6289dbad2406270375e4591d">inciter::Sorter::m_host</a></div><div class="ttdeci">CProxy_Transporter m_host</div><div class="ttdoc">Host proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00130">Sorter.h:130</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a04a74fae6b4cf88849f0fe978b5e170e"><div class="ttname"><a href="classinciter_1_1_sorter.html#a04a74fae6b4cf88849f0fe978b5e170e">inciter::Sorter::m_solver</a></div><div class="ttdeci">tk::CProxy_Solver m_solver</div><div class="ttdoc">Linear system solver proxy. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00132">Sorter.h:132</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ad3eab8acb64865dac049686919582a9a"><div class="ttname"><a href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">inciter::Sorter::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this chare during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00165">Sorter.h:165</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_acf9ce6b022dbf99c7e1f4b33894d2944"><div class="ttname"><a href="classinciter_1_1_sorter.html#acf9ce6b022dbf99c7e1f4b33894d2944">inciter::Sorter::m_bnode</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_bnode</div><div class="ttdoc">List of boundary nodes associated to side-set IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00146">Sorter.h:146</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ac0935c8b79aa30fd919b4850cc5799f8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ac0935c8b79aa30fd919b4850cc5799f8">inciter::Sorter::m_upper</a></div><div class="ttdeci">std::size_t m_upper</div><div class="ttdoc">Upper bound of node IDs this chare contributes to in a linear system. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00175">Sorter.h:175</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a3e12cf381612434802575c9f6c04ec9d"><div class="ttname"><a href="classinciter_1_1_sorter.html#a3e12cf381612434802575c9f6c04ec9d">inciter::Sorter::m_triinpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_triinpoel</div><div class="ttdoc">Boundary face-node connectivity. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00144">Sorter.h:144</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a6e22a30aa6f7279990ec4ea93ceb6127"><div class="ttname"><a href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">inciter::Sorter::m_coordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_coordmap</div><div class="ttdoc">Coordinates associated to global node IDs of our mesh chunk. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00140">Sorter.h:140</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a4c72377c4f7e1c6737546d03d767aafc"><div class="ttname"><a href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">inciter::Sorter::m_newcoordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_newcoordmap</div><div class="ttdoc">Coordinates associated to global (new) node IDs during reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00169">Sorter.h:169</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_aa306c3cd8d2cd8a6bf2be6da3a126ece"><div class="ttname"><a href="classinciter_1_1_sorter.html#aa306c3cd8d2cd8a6bf2be6da3a126ece">inciter::Sorter::m_bface</a></div><div class="ttdeci">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; m_bface</div><div class="ttdoc">List of boundary faces associated to side-set IDs. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00142">Sorter.h:142</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a836efa1dffde0dc807b90e9c22002a42"><div class="ttname"><a href="classinciter_1_1_sorter.html#a836efa1dffde0dc807b90e9c22002a42">inciter::Sorter::m_noffset</a></div><div class="ttdeci">int m_noffset</div><div class="ttdoc">Counter for the number of chares from which this chare has received node reordering offsets from...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00153">Sorter.h:153</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a685d2256a9e60206e5ca8d8e9b2bf6cf"><div class="ttname"><a href="classinciter_1_1_sorter.html#a685d2256a9e60206e5ca8d8e9b2bf6cf">inciter::Sorter::m_scheme</a></div><div class="ttdeci">Scheme m_scheme</div><div class="ttdoc">Discretization scheme. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00136">Sorter.h:136</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ae9687cc1a9065dee120303c090a453e8"><div class="ttname"><a href="classinciter_1_1_sorter.html#ae9687cc1a9065dee120303c090a453e8">inciter::Sorter::m_msum</a></div><div class="ttdeci">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_msum</div><div class="ttdoc">Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node ...</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00156">Sorter.h:156</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a5c9b323cc984267a513608c81e30ed3a"><div class="ttname"><a href="classinciter_1_1_sorter.html#a5c9b323cc984267a513608c81e30ed3a">inciter::Sorter::m_cbs</a></div><div class="ttdeci">tk::SorterCallback m_cbs</div><div class="ttdoc">Charm++ callbacks associated to compile-time tags for sorter. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00134">Sorter.h:134</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a15091e00fac037fc4d650f1061359ae4"><div class="ttname"><a href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">inciter::Sorter::m_reqnodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqnodes</div><div class="ttdoc">Queue of requested node IDs from chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00171">Sorter.h:171</a></div></div>
<div class="ttc" id="namespace_p_u_p_html_aa494dd0331773529acf90e7f40658c63"><div class="ttname"><a href="namespace_p_u_p.html#aa494dd0331773529acf90e7f40658c63">PUP::pup</a></div><div class="ttdeci">void pup(PUP::er &amp;p, E &amp;e)</div><div class="ttdoc">Pack/Unpack enum class. </div><div class="ttdef"><b>Definition:</b> <a href="_p_u_p_util_8h_source.html#l00045">PUPUtil.h:45</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a9c4c5037d8dca525a56c03b316d6f1d9"><div class="ttname"><a href="classinciter_1_1_sorter.html#a9c4c5037d8dca525a56c03b316d6f1d9">inciter::Sorter::m_ginpoel</a></div><div class="ttdeci">std::vector&lt; std::size_t &gt; m_ginpoel</div><div class="ttdoc">Tetrtahedron element connectivity of our chunk of the mesh (global ids) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00138">Sorter.h:138</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a00ab9ae610e72bbe98f08ee5a0fc81b5"><div class="ttname"><a href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">inciter::Sorter::m_reordcomm</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_reordcomm</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00162">Sorter.h:162</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_af5561f7c2e28e3d78c0d9e0333cc715c"><div class="ttname"><a href="classinciter_1_1_sorter.html#af5561f7c2e28e3d78c0d9e0333cc715c">inciter::Sorter::m_nchare</a></div><div class="ttdeci">int m_nchare</div><div class="ttdoc">Total number of sorter chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00148">Sorter.h:148</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_afdcf03ec50948788ef3050f2abb581c5_cgraph.svg" width="280" height="35"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7107801f98c24e6ab70ec3a9df742adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7107801f98c24e6ab70ec3a9df742adb">&#9670;&nbsp;</a></span>registerReducers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::registerReducers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure Charm++ reduction types. </p>
<p>Since this is a [nodeinit] routine, the runtime system executes the routine exactly once on every logical node early on in the Charm++ init sequence. Must be static as it is called without an object. See also: Section "Initializations at Program Startup" at in the Charm++ manual <a href="http://charm.cs.illinois.edu/manuals/html/charm++/manual.html">http://charm.cs.illinois.edu/manuals/html/charm++/manual.html</a>. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00105">105</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8_c_source.html#l00024">inciter::BndNodeMerger</a>, and <a class="el" href="_hash_map_reducer_8h_source.html#l00094">tk::mergeHashMap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="namespaceinciter.html#a8a0d9211ded7485dd6f9d0149cf158b8">BndNodeMerger</a> = CkReduction::addReducer(</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <a class="code" href="namespacetk.html#ac371117af5d2009dca83a8cb5539a43f">tk::mergeHashMap</a>&lt; <span class="keywordtype">int</span>, std::vector&lt; std::size_t &gt; &gt; );</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div><div class="ttc" id="namespacetk_html_ac371117af5d2009dca83a8cb5539a43f"><div class="ttname"><a href="namespacetk.html#ac371117af5d2009dca83a8cb5539a43f">tk::mergeHashMap</a></div><div class="ttdeci">CkReductionMsg * mergeHashMap(int nmsg, CkReductionMsg **msgs)</div><div class="ttdoc">Charm++ custom reducer for merging std::unordered_maps during reduction across PEs. </div><div class="ttdef"><b>Definition:</b> <a href="_hash_map_reducer_8h_source.html#l00094">HashMapReducer.h:94</a></div></div>
<div class="ttc" id="namespaceinciter_html_a8a0d9211ded7485dd6f9d0149cf158b8"><div class="ttname"><a href="namespaceinciter.html#a8a0d9211ded7485dd6f9d0149cf158b8">inciter::BndNodeMerger</a></div><div class="ttdeci">static CkReduction::reducerType BndNodeMerger</div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00024">Sorter.C:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a7107801f98c24e6ab70ec3a9df742adb_cgraph.svg" width="507" height="84"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a11db6d02a4425d15fc8bafad5e8b2205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11db6d02a4425d15fc8bafad5e8b2205">&#9670;&nbsp;</a></span>reorder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::reorder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reorder global mesh node IDs. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00225">225</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_container_util_8h_source.html#l00051">tk::cref_find()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8h_source.html#l00140">m_coordmap</a>, <a class="el" href="_sorter_8h_source.html#l00169">m_newcoordmap</a>, <a class="el" href="_sorter_8h_source.html#l00167">m_newnodes</a>, <a class="el" href="_sorter_8h_source.html#l00150">m_nodeset</a>, <a class="el" href="_sorter_8h_source.html#l00162">m_reordcomm</a>, and <a class="el" href="_sorter_8h_source.html#l00165">m_start</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00198">offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// Activate SDAG waits for arriving requests from other chares requesting new</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// node IDs for node IDs we assign new IDs to during reordering; and for</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// computing/receiving lower and upper bounds of global node IDs our chare&#39;s</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// linear system will operate on after reordering.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  thisProxy[ thisIndex ].wait4prep();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  thisProxy[ thisIndex ].wait4bounds();</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// Send out request for new global node IDs for nodes we do not reorder</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : <a class="code" href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">m_reordcomm</a>)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    thisProxy[ c.first ].request( thisIndex, c.second );</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// Lambda to decide if node is assigned a new ID by this chare. If node is not</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// found in the asymmetric communication map, it is owned, i.e., this chare</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// assigns its new id.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">auto</span> ownnode = [ this ]( std::size_t p ) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> std::all_of( m_reordcomm.cbegin(), m_reordcomm.cend(),</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        [&amp;](<span class="keyword">const</span> decltype(m_reordcomm)::value_type&amp; s)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        { <span class="keywordflow">return</span> s.second.find(p) == s.second.cend(); } );</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  };</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// Reorder our chunk of the mesh node IDs. Looping through all of our node</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// IDs, we test if we are to assign a new ID to a node ID, and if so, we</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// assign a new ID, i.e., reorder, by constructing a map associating new to</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// old IDs (m_newnodes). We also count up the reordered nodes, which serves as</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// the new node id. We also store the node coordinates associated to the new</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// node ID.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> p : <a class="code" href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">m_nodeset</a>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (ownnode(p)) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>[ p ] = <a class="code" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a>;        <span class="comment">// assign new node ID (reorder)</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">m_newcoordmap</a>.emplace( <a class="code" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a>, <a class="code" href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a>(<a class="code" href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">m_coordmap</a>,p) );</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      ++<a class="code" href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">m_start</a>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// Trigger SDAG wait indicating that reordering our node IDs are complete</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  reorderowned_complete();</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// If all our nodes have new IDs assigned, reordering complete on this chare</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">m_newnodes</a>.size() == m_nodeset.size()) <a class="code" href="classinciter_1_1_sorter.html#acd77a726c4ea5281479f5589e0974dbc">finish</a>();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a80fdbf65ae425a23e10ca718a296bfc3"><div class="ttname"><a href="classinciter_1_1_sorter.html#a80fdbf65ae425a23e10ca718a296bfc3">inciter::Sorter::m_newnodes</a></div><div class="ttdeci">std::unordered_map&lt; std::size_t, std::size_t &gt; m_newnodes</div><div class="ttdoc">Map associating new node IDs (value) to old node IDs (key) </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00167">Sorter.h:167</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_acd77a726c4ea5281479f5589e0974dbc"><div class="ttname"><a href="classinciter_1_1_sorter.html#acd77a726c4ea5281479f5589e0974dbc">inciter::Sorter::finish</a></div><div class="ttdeci">void finish()</div><div class="ttdoc">Compute final result of reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8_c_source.html#l00333">Sorter.C:333</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_ad3eab8acb64865dac049686919582a9a"><div class="ttname"><a href="classinciter_1_1_sorter.html#ad3eab8acb64865dac049686919582a9a">inciter::Sorter::m_start</a></div><div class="ttdeci">std::size_t m_start</div><div class="ttdoc">Starting global mesh node ID for node reordering on this chare during mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00165">Sorter.h:165</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a6e22a30aa6f7279990ec4ea93ceb6127"><div class="ttname"><a href="classinciter_1_1_sorter.html#a6e22a30aa6f7279990ec4ea93ceb6127">inciter::Sorter::m_coordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_coordmap</div><div class="ttdoc">Coordinates associated to global node IDs of our mesh chunk. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00140">Sorter.h:140</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a4c72377c4f7e1c6737546d03d767aafc"><div class="ttname"><a href="classinciter_1_1_sorter.html#a4c72377c4f7e1c6737546d03d767aafc">inciter::Sorter::m_newcoordmap</a></div><div class="ttdeci">tk::UnsMesh::CoordMap m_newcoordmap</div><div class="ttdoc">Coordinates associated to global (new) node IDs during reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00169">Sorter.h:169</a></div></div>
<div class="ttc" id="namespacetk_html_a2e002561a68875b091a264eb2a1e5f6c"><div class="ttname"><a href="namespacetk.html#a2e002561a68875b091a264eb2a1e5f6c">tk::cref_find</a></div><div class="ttdeci">auto cref_find(const Container &amp;map, const typename Container::key_type &amp;key) -&gt; const typename Container::mapped_type &amp;</div><div class="ttdef"><b>Definition:</b> <a href="_container_util_8h_source.html#l00051">ContainerUtil.h:51</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a39f916c2338d5fda993e24a781281841"><div class="ttname"><a href="classinciter_1_1_sorter.html#a39f916c2338d5fda993e24a781281841">inciter::Sorter::m_nodeset</a></div><div class="ttdeci">std::set&lt; std::size_t &gt; m_nodeset</div><div class="ttdoc">Unique global node IDs chares on our PE will contribute to. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00150">Sorter.h:150</a></div></div>
<div class="ttc" id="classinciter_1_1_sorter_html_a00ab9ae610e72bbe98f08ee5a0fc81b5"><div class="ttname"><a href="classinciter_1_1_sorter.html#a00ab9ae610e72bbe98f08ee5a0fc81b5">inciter::Sorter::m_reordcomm</a></div><div class="ttdeci">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; m_reordcomm</div><div class="ttdoc">Communication map used for distributed mesh node reordering. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00162">Sorter.h:162</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classinciter_1_1_sorter_a11db6d02a4425d15fc8bafad5e8b2205_cgraph.svg" width="100%" height="400"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af58c9d0423081eddfb70f8f382462217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af58c9d0423081eddfb70f8f382462217">&#9670;&nbsp;</a></span>request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sorter::request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; std::size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>nd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request new global node IDs for old node IDs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>Chare request coming from and to which we send new IDs to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nd</td><td>Set of old node IDs whose new IDs are requested </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sorter_8_c_source.html#l00271">271</a> of file <a class="el" href="_sorter_8_c_source.html">Sorter.C</a>.</p>

<p class="reference">References <a class="el" href="_sorter_8h_source.html#l00171">m_reqnodes</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Queue up requesting chare and node IDs</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">m_reqnodes</a>.push_back( { c, nd } );</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// Trigger SDAG wait signaling that node IDs have been requested from us</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  nodes_requested_complete();</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div><div class="ttc" id="classinciter_1_1_sorter_html_a15091e00fac037fc4d650f1061359ae4"><div class="ttname"><a href="classinciter_1_1_sorter.html#a15091e00fac037fc4d650f1061359ae4">inciter::Sorter::m_reqnodes</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; &gt; m_reqnodes</div><div class="ttdoc">Queue of requested node IDs from chares. </div><div class="ttdef"><b>Definition:</b> <a href="_sorter_8h_source.html#l00171">Sorter.h:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a05c2e33164f7523b98202c3e766f4449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c2e33164f7523b98202c3e766f4449">&#9670;&nbsp;</a></span>operator|</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void operator| </td>
          <td>(</td>
          <td class="paramtype">PUP::er &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinciter_1_1_sorter.html">Sorter</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pack/Unpack serialize operator|. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p</td><td>Charm++'s PUP::er serializer object reference </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">s</td><td><a class="el" href="classinciter_1_1_sorter.html" title="Mesh sorter for global distributed mesh node reordering. ">Sorter</a> object reference </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00125">125</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{ s.pup(p); }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa306c3cd8d2cd8a6bf2be6da3a126ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa306c3cd8d2cd8a6bf2be6da3a126ece">&#9670;&nbsp;</a></span>m_bface</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; inciter::Sorter::m_bface</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of boundary faces associated to side-set IDs. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00142">142</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00030">Sorter()</a>.</p>

</div>
</div>
<a id="acf9ce6b022dbf99c7e1f4b33894d2944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf9ce6b022dbf99c7e1f4b33894d2944">&#9670;&nbsp;</a></span>m_bnode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, std::vector&lt; std::size_t &gt; &gt; inciter::Sorter::m_bnode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of boundary nodes associated to side-set IDs. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00146">146</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="a5c9b323cc984267a513608c81e30ed3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9b323cc984267a513608c81e30ed3a">&#9670;&nbsp;</a></span>m_cbs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetk.html#aee5e81a51fe8734df54d70ab33b1b8d0">tk::SorterCallback</a> inciter::Sorter::m_cbs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Charm++ callbacks associated to compile-time tags for sorter. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00134">134</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="a6e22a30aa6f7279990ec4ea93ceb6127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e22a30aa6f7279990ec4ea93ceb6127">&#9670;&nbsp;</a></span>m_coordmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtk_1_1_uns_mesh.html#a4b2d1f8043c0354b11461c118a4379c5">tk::UnsMesh::CoordMap</a> inciter::Sorter::m_coordmap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coordinates associated to global node IDs of our mesh chunk. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00140">140</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>

</div>
</div>
<a id="a9c4c5037d8dca525a56c03b316d6f1d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c4c5037d8dca525a56c03b316d6f1d9">&#9670;&nbsp;</a></span>m_ginpoel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; inciter::Sorter::m_ginpoel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tetrtahedron element connectivity of our chunk of the mesh (global ids) </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00138">138</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="a72ea4d1a6289dbad2406270375e4591d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ea4d1a6289dbad2406270375e4591d">&#9670;&nbsp;</a></span>m_host</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CProxy_Transporter inciter::Sorter::m_host</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Host proxy. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00130">130</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00120">comm()</a>, <a class="el" href="_sorter_8_c_source.html#l00410">create()</a>, <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8_c_source.html#l00156">mask()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00030">Sorter()</a>.</p>

</div>
</div>
<a id="adf82de5d37de81c8fdf60a91456eb8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf82de5d37de81c8fdf60a91456eb8d1">&#9670;&nbsp;</a></span>m_lower</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t inciter::Sorter::m_lower</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lower bound of node IDs this chare contributes to in a linear system. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00173">173</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00410">create()</a>, <a class="el" href="_sorter_8_c_source.html#l00399">lower()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="ae9687cc1a9065dee120303c090a453e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9687cc1a9065dee120303c090a453e8">&#9670;&nbsp;</a></span>m_msum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; inciter::Sorter::m_msum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Symmetric communication map associating global mesh node IDs to chare IDs this chare shares the node IDs with. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00156">156</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00120">comm()</a>, <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8_c_source.html#l00156">mask()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="af5561f7c2e28e3d78c0d9e0333cc715c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5561f7c2e28e3d78c0d9e0333cc715c">&#9670;&nbsp;</a></span>m_nchare</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inciter::Sorter::m_nchare</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of sorter chares. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00148">148</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00365">bounds()</a>, <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00198">offset()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="a4c72377c4f7e1c6737546d03d767aafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c72377c4f7e1c6737546d03d767aafc">&#9670;&nbsp;</a></span>m_newcoordmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtk_1_1_uns_mesh.html#a4b2d1f8043c0354b11461c118a4379c5">tk::UnsMesh::CoordMap</a> inciter::Sorter::m_newcoordmap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Coordinates associated to global (new) node IDs during reordering. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00169">169</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8_c_source.html#l00313">neworder()</a>, <a class="el" href="_sorter_8_c_source.html#l00285">prepare()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>

</div>
</div>
<a id="a80fdbf65ae425a23e10ca718a296bfc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80fdbf65ae425a23e10ca718a296bfc3">&#9670;&nbsp;</a></span>m_newnodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::size_t, std::size_t &gt; inciter::Sorter::m_newnodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map associating new node IDs (value) to old node IDs (key) </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00167">167</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8_c_source.html#l00313">neworder()</a>, <a class="el" href="_sorter_8_c_source.html#l00285">prepare()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>

</div>
</div>
<a id="a39f916c2338d5fda993e24a781281841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39f916c2338d5fda993e24a781281841">&#9670;&nbsp;</a></span>m_nodeset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; std::size_t &gt; inciter::Sorter::m_nodeset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unique global node IDs chares on our PE will contribute to. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00150">150</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00365">bounds()</a>, <a class="el" href="_sorter_8_c_source.html#l00120">comm()</a>, <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00333">finish()</a>, <a class="el" href="_sorter_8_c_source.html#l00156">mask()</a>, <a class="el" href="_sorter_8_c_source.html#l00313">neworder()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>

</div>
</div>
<a id="a836efa1dffde0dc807b90e9c22002a42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a836efa1dffde0dc807b90e9c22002a42">&#9670;&nbsp;</a></span>m_noffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inciter::Sorter::m_noffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for the number of chares from which this chare has received node reordering offsets from. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00153">153</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00198">offset()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="a00ab9ae610e72bbe98f08ee5a0fc81b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ab9ae610e72bbe98f08ee5a0fc81b5">&#9670;&nbsp;</a></span>m_reordcomm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int, std::unordered_set&lt; std::size_t &gt; &gt; inciter::Sorter::m_reordcomm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Communication map used for distributed mesh node reordering. </p>
<p>This map associates the list of global mesh point indices to fellow chare IDs from which this chare receives new node IDs during reordering. Only data that will be received from chares with a lower index are stored, thus this is an asymmetric communication map. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00162">162</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00156">mask()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>

</div>
</div>
<a id="a15091e00fac037fc4d650f1061359ae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15091e00fac037fc4d650f1061359ae4">&#9670;&nbsp;</a></span>m_reqnodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; int, std::unordered_set&lt;std::size_t&gt; &gt; &gt; inciter::Sorter::m_reqnodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of requested node IDs from chares. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00171">171</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00285">prepare()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00271">request()</a>.</p>

</div>
</div>
<a id="a685d2256a9e60206e5ca8d8e9b2bf6cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a685d2256a9e60206e5ca8d8e9b2bf6cf">&#9670;&nbsp;</a></span>m_scheme</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinciter_1_1_scheme.html">Scheme</a> inciter::Sorter::m_scheme</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classinciter_1_1_discretization.html" title="Discretization Charm++ chare array holding common functinoality to all discretization schemes...">Discretization</a> scheme. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00136">136</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00426">createDiscWorkers()</a>, <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="a04a74fae6b4cf88849f0fe978b5e170e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a74fae6b4cf88849f0fe978b5e170e">&#9670;&nbsp;</a></span>m_solver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tk::CProxy_Solver inciter::Sorter::m_solver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Linear system solver proxy. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00132">132</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00410">create()</a>, <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="ad3eab8acb64865dac049686919582a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3eab8acb64865dac049686919582a9a">&#9670;&nbsp;</a></span>m_start</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t inciter::Sorter::m_start</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starting global mesh node ID for node reordering on this chare during mesh node reordering. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00165">165</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00198">offset()</a>, <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>, and <a class="el" href="_sorter_8_c_source.html#l00225">reorder()</a>.</p>

</div>
</div>
<a id="a3e12cf381612434802575c9f6c04ec9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e12cf381612434802575c9f6c04ec9d">&#9670;&nbsp;</a></span>m_triinpoel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; inciter::Sorter::m_triinpoel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Boundary face-node connectivity. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00144">144</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00446">createWorkers()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<a id="ac0935c8b79aa30fd919b4850cc5799f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0935c8b79aa30fd919b4850cc5799f8">&#9670;&nbsp;</a></span>m_upper</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t inciter::Sorter::m_upper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Upper bound of node IDs this chare contributes to in a linear system. </p>

<p class="definition">Definition at line <a class="el" href="_sorter_8h_source.html#l00175">175</a> of file <a class="el" href="_sorter_8h_source.html">Sorter.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="_sorter_8_c_source.html#l00365">bounds()</a>, <a class="el" href="_sorter_8_c_source.html#l00410">create()</a>, and <a class="el" href="_sorter_8h_source.html#l00099">pup()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/tmp/TeamCity-12/work/821a9fd6f64749d9/src/Inciter/<a class="el" href="_sorter_8h_source.html">Sorter.h</a></li>
<li>/tmp/TeamCity-12/work/821a9fd6f64749d9/src/Inciter/<a class="el" href="_sorter_8_c_source.html">Sorter.C</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 30 2018 23:23:20 for Quinoa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
